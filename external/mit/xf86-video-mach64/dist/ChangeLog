commit 74cc25c7c54bf2b2f036fd50f66f9071953db24f
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Jul 10 16:58:49 2022 -0700

    xf86-video-mach64 6.9.7
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit fe76415fe3935e6ea9e27a79d0cb650e7d93ee97
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Jan 22 12:30:21 2022 -0800

    gitlab CI: add a basic build test
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 3ab2c144ef34199ceaf95115538a67f932e76f7d
Author: Josselin Poiret <dev@jpoiret.xyz>
Date:   Thu Nov 18 13:18:25 2021 +0000

    Rename bool to boolean for OptionInfoRec.
    
    * src/aticonfig.c: Change uses of .value.bool to .value.boolean

commit 82129368107c2a0608ad350b812c07ba6e07f498
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Jan 22 12:29:58 2022 -0800

    Fix spelling/wording issues
    
    Found by using:
        codespell --builtin clear,rare,usage,informal,code,names
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 10c2894c7164a959fc79e7844251025c04405059
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Jan 22 12:25:45 2022 -0800

    Build xz tarballs instead of bzip2
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 7c0dc184bb6f8d17ebc5bd67cee5a637d3a82ac4
Author: George Matsumura <gmmatsumura01@bvsd.org>
Date:   Sun Oct 6 17:43:24 2019 +0000

    Fix debugging traces
    
    Without this change, the compiler emits an error about pPict being undefined when fallback messages are turned on.

commit fbe3995a27bdd81701dbb3b5e26556a00cfdf1d3
Author: George Matsumura <gmmatsumura01@bvsd.org>
Date:   Tue Dec 24 06:12:01 2019 +0000

    Fix compositing rotation
    
    This corrects the composite operation's interpretation of a
    source picture transformation matrix indicating rotation,
    correcting a previous behavior where the source image was simply
    flipped and not rotated. This is done by using a transformed vector
    for each vertex of the source rectangle, instead of just two at
    each of the diagonally opposed corner vertices.

commit 37498721a520cd1cff367bc36b1ac74b343826ca
Author: Michel DÃ¤nzer  <michel.daenzer@amd.com>
Date:   Fri Jul 5 11:01:56 2019 +0200

    configure: Include xorg-server.h before exa.h
    
    Fixes EXA detection spuriously failing with current xserver.

commit 39191361f0c80e57504fa91cc12d2b36b6460630
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Nov 25 14:00:27 2018 -0800

    Update configure.ac bug URL for gitlab migration
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 3df130663fdca112eff567bde4421c5616e7a6b8
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Nov 18 13:22:41 2018 -0800

    Update README for gitlab migration
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit a504b15fc74f7725f67866e22407b742d1d435a9
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri May 18 12:49:30 2018 -0400

    mach64 6.9.6
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit eab6848f85d26c824f8096949105bf4894a1d48d
Author: Emil Velikov <emil.velikov@collabora.com>
Date:   Mon Jul 17 13:44:55 2017 +0100

    xf86-video-mach64: remove the GlxSetVisualConfigs stub and friends
    
    The function was an empty since 2008 at least. Remove it alongside the
    unused GLX visuals code.
    
    With this all the GL/GLX dependencies in the driver are gone.
    
    Cc: Adam Jackson <ajax@redhat.com>
    Cc: Connor Behan <connor.behan@gmail.com>
    Signed-off-by: Emil Velikov <emil.velikov@collabora.com>

commit 5ae03dc9f4564de54df6427ed7e6e80e75a4179e
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Feb 16 11:18:10 2017 -0500

    D'oh, fix the previous commit
    
    These limits are against mode->[HV]Total, not Display.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit e27785a3fbabc9f354c361b5058b0359b6d9b5ae
Author: Adam Jackson <ajax@redhat.com>
Date:   Thu Feb 16 11:13:59 2017 -0500

    Move max mode h/v checks into ATIValidMode
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit dec6d18b61a1f8841303572ae5931fe6c937664f
Author: Mihail Konev <k.mvc@ya.ru>
Date:   Thu Jan 26 14:00:22 2017 +1000

    autogen: add default patch prefix
    
    Signed-off-by: Mihail Konev <k.mvc@ya.ru>

commit e67dab498fc7b6b4c73b5c33c550ecfcb814b4b1
Author: Emil Velikov <emil.l.velikov@gmail.com>
Date:   Mon Mar 9 12:00:52 2015 +0000

    autogen.sh: use quoted string variables
    
    Place quotes around the $srcdir, $ORIGDIR and $0 variables to prevent
    fall-outs, when they contain space.
    
    Signed-off-by: Emil Velikov <emil.l.velikov@gmail.com>
    Reviewed-by: Peter Hutterer <peter.hutterer@who-t.net>
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 2707a8ea311a2d40e0db8161225241bc360ab61d
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Tue Jan 24 10:32:07 2017 +1000

    autogen.sh: use exec instead of waiting for configure to finish
    
    Syncs the invocation of configure with the one from the server.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>
    Reviewed-by: Emil Velikov <emil.velikov@collabora.com>

commit 811890e401299f5a80e237fbaa216c9242654119
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Jun 1 21:03:14 2014 -0700

    autogen.sh: Honor NOCONFIGURE=1
    
    See http://people.gnome.org/~walters/docs/build-api.txt
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit de20547a7c31cf576d9b5b9ac607a1bde93542b8
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sun Jun 1 21:03:13 2014 -0700

    configure: Drop AM_MAINTAINER_MODE
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 8f920350a736012ce2a7469d8252f5f5bf72cef3
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon May 4 15:50:09 2015 -0400

    mach64 6.9.5
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 810572536e153ac9e4615a35e2ab99dc266806da
Author: Dave Airlie <airlied@redhat.com>
Date:   Sat Nov 15 11:29:54 2014 +1000

    mach64: fix build probably not required with pci access anyways

commit e538ff6b2108117a7ae6644a844c6ce10fc0f1ee
Author: Connor Behan <connor.behan@gmail.com>
Date:   Wed Nov 27 23:53:31 2013 -0800

    Drop dependence on xf86PciInfo.h
    
    It is about time we stop using this deprecated file and include pciids
    locally.
    
    Signed-off-by: Connor Behan <connor.behan@gmail.com>
    Reviewed-by: Alex Deucher <alexander.deucher@amd.com>

commit 2c83b465b336a012f2d2716940bf483358388000
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Mon Jun 3 13:01:23 2013 -0400

    Deal with pPict->pDrawable == NULL for source-only pictures.
    
    Falling back to software rendering for such source pictures
    (solid/gradient).
    
    Signed-off-by: Matthieu Herrb <matthieu.herrb@laas.fr>
    Reviewed-by: Alex Deucher <alexander.deucher@amd.com>

commit ec6ee6a112dc38cab563779583944dba9393f385
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Apr 3 09:14:54 2013 -0400

    Bump minimum xserver to 1.4
    
    Due to the previous change we no longer support servers where ddc is not
    a server builtin.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit fa18180cc5f6d84168ffca6b7b8e467a5c72da14
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Apr 2 11:15:47 2013 -0400

    preinit: Don't bother explicitly loading int10, vbe will do it for us
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 80e62cc1dfb80c3170e43c3941b56d0a84bddc3b
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Dec 19 22:37:07 2012 -0800

    Remove unused atiaudio.c & ATIAudioNames declaration
    
    Defined a string array, which is not used anywhere.
    
    atiaudio.h remains for now, though for the enum it defines, only one
    reference to it remains, initializing the Audio to ATI_AUDIO_NONE, so
    it may be a candidate for further cleanup in the future.
    
    Reported by Solaris linker -z guidance option:
    ld: guidance: removal of unused file recommended: atiaudio.o
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 233270a78d41d9df5614e17d73c8c4add391459b
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Dec 19 22:33:48 2012 -0800

    Remove unused atidecoder.c & atidecoder.h
    
    Defined a enum & string array, neither of which were used anywhere.
    
    Reported by Solaris linker -z guidance option:
    ld: guidance: removal of unused file recommended: atidecoder.o
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Reviewed-by: Alex Deucher <alexander.deucher@amd.com>

commit 0d8639f3cd4128ae856ae27f3787c1da224bb564
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Wed Dec 19 22:14:08 2012 -0800

    xf86-video-mach64 6.9.4
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit f694490b3cec78d7b17eeb0a9c4daadd1028776a
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Tue Dec 18 15:42:30 2012 -0800

    Remove call to obsolete miInitializeBackingStore()
    
    Definition was deleted from Xorg during 1.14 merge window, but has
    been a no-op since 1.10 merge window.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Reviewed-by: Alex Deucher <alexander.deucher@amd.com>

commit ece8d3557eb1ffb27104bffb7841503aae4dcd6f
Author: Connor Behan <connor.behan@gmail.com>
Date:   Fri Dec 7 13:53:38 2012 -0800

    Remove dummy UTS / DFS hooks
    
    When EXA was added to mach64, it included UploadToScreen and
    DownloadFromScreen hooks that did the same thing that EXA would do in a
    software fallback. Now they are out of date and cause crashes. The
    slight benefit of reimplementing those hooks (if there is any) is not
    worth the maintenance burden of having to rewrite them every time there
    is a change to the way EXA handles pixmaps.
    Fixes: https://bugs.freedesktop.org/show_bug.cgi?id=51137
    
    Signed-off-by: Connor Behan <connor.behan@gmail.com>
    Tested-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit f0d44c18d71e7450b99189c1221a2f89c7817ab6
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Thu Dec 6 16:49:12 2012 -0800

    Mach64PixelARGB should use exaGetPixmapFirstPixel
    
    Fixes crash attempting to read a pixel from a NULL pPixmap->devPrivate.ptr
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>
    Reviewed-by: Michel DÃ¤nzer <michel@daenzer.net>

commit 42c4e423eec789606eec9703be23a9fd4483a14a
Author: Adam Jackson <ajax@redhat.com>
Date:   Tue Oct 2 10:19:47 2012 -0400

    Fix build with neither XAA nor EXA against xserver 1.13.0
    
    Pull in picturestr.h to get GLYPH_HAS_GLYPH_PICTURE_ACCESSOR defined
    before compat-api.h is parsed, otherwise you fail with:
    
    In file included from /usr/include/xorg/picturestr.h:28:0,
                     from /usr/include/xorg/exa.h:38,
                     from atimach64accel.h:31,
                     from atiscreen.c:46:
    /usr/include/xorg/glyphstr.h:138:2: error: expected ')' before '*' token
    /usr/include/xorg/glyphstr.h:138:2: error: expected ')' before '(' token
    /usr/include/xorg/glyphstr.h:140:2: error: expected ')' before '*' token
    /usr/include/xorg/glyphstr.h:140:2: error: expected ')' before '(' token
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 104e3e067a7dcac143cb672fe42d56396ba6087b
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Sep 26 16:21:25 2012 -0400

    Don't gratuitously disable Render when ShadowFBing
    
    There's no reason to do this, and I am at a loss to explain why that was
    ever done.  The first instance of this logic comes from xfree86 (over 11
    years ago!):
    
    http://cvsweb.xfree86.org/cvsweb/xc/programs/Xserver/hw/xfree86/drivers/ati/atiscreen.c.diff?r1=1.15&r2=1.16
    
    Now, cfb never had Render support, so that might make some sense if
    there was an intermediate uncommitted state where the driver used fb for
    direct but cfb for shadowed.  But that's really the only plausible
    explanation I can think of.
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 5eb7fec958bc6ba8a1a2b0be4916cac818866e1c
Author: Dave Airlie <airlied@gmail.com>
Date:   Wed Jul 18 18:46:49 2012 +1000

    mach64: fix build on 32-bit.
    
    tvout code only builds on 32-bit, fix build.
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit 2776fc9cd69f18ba6f09f39ca747f3a9333bf9e4
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Jul 17 16:05:09 2012 +1000

    xf86-video-mach64: bump to version 6.9.3
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit a2213da6d87baa8b5f49d3894513ced2c6974259
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Jul 16 04:29:53 2012 +0100

    mach64: fix build against server without XAA
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit 3fce61b475355820f735e50b7070ee6fc906083d
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Jul 2 12:23:03 2012 +0100

    mach64: bump to 6.9.2
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit 68572c1e41cf6de2f0ef2c9442111384ce863308
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Jun 6 10:42:26 2012 +0100

    ati: only include deprecated file in one place.
    
    reduces warnings.
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit a9f3a66e355b9f19c312d399771fb1d8eb2e046d
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Jun 6 10:41:11 2012 +0100

    mach64: port to new compat API.
    
    Signed-off-by: Dave Airlie <airlied@redhat.com>

commit 84468ba28853fa57170025d9c25cb0029a386ff4
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Mar 30 19:02:07 2012 -0700

    Readme updates
    
    Stop saying Radeon & Rage128 are not "yet" supported by this driver,
    since no one is working on reuniting the ATI driver family.
    
    Update URL to check for latest X.Org code releases.
    
    Stop calling it an "XAA" driver now that it also supports EXA.
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 5e09e744b27b5ada9dd064e250fa98eddf1a58c3
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Fri Mar 23 18:56:44 2012 -0700

    xf86-video-mach64 6.9.1
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit fa20f8f2408ac81ff04d81196a56c907fba01c45
Author: Adam Jackson <ajax@redhat.com>
Date:   Mon Dec 19 16:45:25 2011 -0500

    Fall back to shadowfb if XAA is unavailable
    
    Signed-off-by: Adam Jackson <ajax@redhat.com>

commit 0de234329fa1c3365954498819da93d64a978911
Author: Jeremy Huddleston <jeremyhu@apple.com>
Date:   Sat Oct 29 18:53:48 2011 -0700

    Use pci_device_map_legacy rather than xf86MapDomainMemory
    
    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>

commit 75166a0fc92220b496eb67451ec1b11cb8b72091
Author: Jeremy Huddleston <jeremyhu@apple.com>
Date:   Sat Oct 29 18:54:10 2011 -0700

    Use unsigned long rather than deprecated IOADDRESS
    
    Signed-off-by: Jeremy Huddleston <jeremyhu@apple.com>

commit ef55d1f123972ccc001bf8b41db45d281be35a62
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Apr 28 17:23:42 2011 +0200

    Bump to 6.9.0
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>

commit 39c6d1da8af563afa665d5bb149c9693e24c6eab
Author: Julien Cristau <jcristau@debian.org>
Date:   Thu Apr 28 17:31:52 2011 +0200

    Replace deprecated xalloc/xfree/xrealloc with malloc/free/realloc
    
    Signed-off-by: Julien Cristau <jcristau@debian.org>

commit d60087f0b6dd4d082230312580ae35e14acd0c6e
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Dec 2 19:11:05 2010 +1000

    mach64: fix the pixmap private API change.

commit e7bc106247d9ba10a922936e137a4f5ecc54ef9e
Author: Alan Coopersmith <alan.coopersmith@oracle.com>
Date:   Sat Oct 30 09:37:17 2010 -0700

    Sun's copyrights now belong to Oracle
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@oracle.com>

commit 1732886624c7590a8084bb7d92e87ff341aa6d66
Author: Mark Kettenis <kettenis@openbsd.org>
Date:   Sun Aug 29 18:07:01 2010 +0200

    Don't play wrapping games
    
    The driver calls the wrapped CloseScreen function in the middle of messing
    with the hardware state.  On multi-card setups this may cause the VGA
    arbiter to switch to a different card while we're in the middle of things,
    with obvious disastrous effects.  This fixes things by making sure we
    only call the wrapped CloseScreen function at the very end of the driver's
    CloseScreen function.
    
    Signed-off-by: Mark Kettenis <kettenis@openbsd.org>

commit 7a1549678a19c6e94e1ecb3223c74effbd5009d2
Author: Mark Kettenis <kettenis@openbsd.org>
Date:   Sun Aug 29 17:54:19 2010 +0200

    Don't attempt to stop video on Mach64's without hardware overlay support
    
    Older Mach64 variants don't have hardware overlay support.  This is handled
    properly when the XVideo adapter is initialized (we bail out early), but
    ATICloseXVideo() unconditionally tries to stop video during screen termination.
    This causes the server to hang on certain multi-card setups.  Fix the issue
    by checking Block1Base before proceeding with stopping video.
    
    Signed-off-by: Mark Kettenis <kettenis@openbsd.org>

commit 88a176df8df09812719eb179b293ce4dc851f2e5
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Jul 21 16:49:04 2010 -0400

    config: add comments for main statements

commit 18ee3aa1b7a4c9de9cc705cb10e05864d3ab6406
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Jul 21 16:07:00 2010 -0400

    config: replace deprecated use of AC_OUTPUT with AC_CONFIG_FILES
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit d061e00d4d09e8fbecc8bad95354551d36197dd4
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Jul 21 14:37:41 2010 -0400

    config: replace deprecated AC_HELP_STRING with AS_HELP_STRING
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 69da993c9bdb8982c650533ca44a34fa2d7589fa
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Jul 21 14:05:22 2010 -0400

    config: replace deprecated AM_CONFIG_HEADER with AC_CONFIG_HEADERS
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 37f35b579e9ea1a4b5b50f3ae570e3329664c38e
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Jul 21 09:27:42 2010 -0400

    config: complete AC_INIT m4 quoting
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 1cb6b6939e5d466797721a2e59afdd067e769fcc
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 21:54:11 2010 -0400

    config: remove unrequired AC_SUBST([DRI_CFLAGS])
    
    This macro is called by PKG_CHECK_MODULES
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 590d1989f22c38d8db01146b2207d440bc59f285
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 21:44:57 2010 -0400

    config: remove unrequired AC_SUBST([XORG_CFLAGS])
    
    This macro is called by PKG_CHECK_MODULES
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 7bf12fb07625bd5503c5de3e5e07bd69c6de54b3
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 20:24:42 2010 -0400

    config: remove unrequired AC_HEADER_STDC
    
    Autoconf says:
    "This macro is obsolescent, as current systems have conforming
    header files. New programs need not use this macro".
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 3518273c2117c0d8e51efecb2f9184d5f8274ae0
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 19:41:31 2010 -0400

    config: remove AC_PROG_CC as it overrides AC_PROG_C_C99
    
    XORG_STRICT_OPTION from XORG_DEFAULT_OPTIONS calls
    AC_PROG_C_C99. This sets gcc with -std=gnu99.
    If AC_PROG_CC macro is called afterwards, it resets CC to gcc.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 03dd23597e64f440e5530bd8bfbd222b8f825d5a
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 18:45:19 2010 -0400

    config: update AC_PREREQ statement to 2.60
    
    Unrelated to the previous patches, the new value simply reflects
    the reality that the minimum level for autoconf to configure
    all x.org modules is 2.60 dated June 2006.
    
    ftp://ftp.gnu.org/gnu/autoconf/autoconf-2.60.tar.gz
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit d5b5e2bb4139b723df35a422b945d514caf4db2d
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Jul 20 16:15:29 2010 -0400

    config: upgrade to util-macros 1.8 for additional man page support
    
    Use MAN_SUBST now supplied in XORG_MANPAGE_SECTIONS
    The value of MAN_SUBST is the same for all X.Org packages.

commit 6da9520fe6c482c1d4cb9dd6119c13789ed9715a
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Mon Jun 21 10:37:11 2010 -0400

    config: remove optional check for xf86miscproto
    
    This extension is obsolete and is not used by this driver.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 1f1e665f7dab55eceb314adb185636b8ee64fbc6
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Mon Jun 14 08:43:04 2010 -0400

    README: keep the text version of README, discard the sgml version
    
    The linuxdoc doc tool is deprecated.
    README files are exclusively text files.
    Normalize to one plain text README file.
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 2863c5617ccb4a09a699c43c72d9b496480db102
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Mon Jun 14 08:38:59 2010 -0400

    README: fix linuxdoc content
    
    defs.ent are located under X11 directory
    ident tag is not a Linuxdoc tag
    replace docbook email tag with linuxdoc email tag
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit ebfb29a00384ae8070d9f10726c591c0ca92637c
Author: Matt Turner <mattst88@gmail.com>
Date:   Mon Mar 8 10:52:54 2010 -0500

    Don't check for Xinerama.
    
    It doesn't seem to be used anywhere, so don't require it.
    
    CC: Jerome Glisse <jglisse@redhat.com>
    CC: Alex Deucher <alexdeucher@gmail.com>
    CC: Dave Airlie <airlied@redhat.com>
    Signed-off-by: Matt Turner <mattst88@gmail.com>

commit 383903574b9660f9d7831b149f2a9b339a871586
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jan 15 15:54:36 2010 -0800

    Update Sun license notices to current X.Org standard form
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 0059e1e49b1e6861aad801b93ccf846a236a42a7
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Tue Dec 15 21:47:06 2009 -0500

    configure.ac: use backticks rather than $() for cmd subs
    
    Use "$PKG_CONFIG" rather than hard coded "pkg-config"
    
    Acked-by: Dan Nicholson <dbn.lists@gmail.com>
    Acked-by: Daniel Stone <daniel@fooishbar.org>
    
    Signed-off-by: Gaetan Nadon <memsize@videotron.ca>

commit 8f84a92309e62655de69c09affa2e6922cc46aa1
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Mon Nov 23 09:25:05 2009 -0500

    Makefile.am: add ChangeLog and INSTALL on MAINTAINERCLEANFILES
    
    Now that the INSTALL file is generated.
    Allows running make maintainer-clean.

commit da3afdb69d426db6423c505f1c4ec10b9cd40304
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Oct 28 14:41:41 2009 -0400

    INSTALL, NEWS, README or AUTHORS files are missing/incorrect #24206
    
    Automake 'foreign' option is specified in configure.ac.
    Remove from Makefile.am

commit a0b11f322c440ccf13347c42d08ed5e0b208d79c
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Wed Oct 28 14:09:09 2009 -0400

    INSTALL, NEWS, README or AUTHORS files are missing/incorrect #24206
    
    Add missing INSTALL file. Use standard GNU file on building tarball
    README may have been updated
    Remove AUTHORS file as it is empty and no content available yet.
    Remove NEWS file as it is empty and no content available yet.

commit 963be32d684b32957d7e646eb19259d7710bf66a
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Mon Oct 26 12:54:21 2009 -0400

    Several driver modules do not have a ChangeLog target in Makefile.am #23814
    
    The git generated ChangeLog replaces the hand written one.
    Update configure.ac to xorg-macros level 1.3.
    Use XORG_DEFAULT_OPTIONS which replaces four XORG_* macros
    Update Makefile.am to add ChangeLog target if missing
    Remove ChangeLog from EXTRA_DIST or *CLEAN variables
    This is a pre-req for the INSTALL_CMD

commit 3e54585250d22541a31068b5b8f0c8743dbccce6
Author: Gaetan Nadon <memsize@videotron.ca>
Date:   Thu Oct 22 12:34:17 2009 -0400

    .gitignore: use common defaults with custom section # 24239
    
    Using common defaults will reduce errors and maintenance.
    Only the very small or inexistent custom section need periodic maintenance
    when the structure of the component changes. Do not edit defaults.

commit 2013b64cf19fce32edb052ee6d8529d3ce69d409
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Jul 30 12:04:28 2009 +1000

    mach64: bump for release 6.8.2

commit 4f08e83e50059df494f5f53cd05eb8809d18656e
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Jul 28 15:22:40 2009 +1000

    mach64: change to using ABI version check

commit 64960253ea5dcfb01d92b5b684790f16be5b73be
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Jul 28 13:32:31 2009 +1000

    mach64: update for resources/RAC API removal

commit 965614f27d42106e859000264a6eb89d9fcba67e
Author: Peter Hutterer <peter.hutterer@who-t.net>
Date:   Thu Jul 16 11:43:33 2009 +1000

    Update to xextproto 7.1 support.
    
    DPMS header was split into dpms.h (client) and dpmsconst.h (server). Drivers
    need to include dpmsconst.h if xextproto 7.1 is available.
    
    Signed-off-by: Peter Hutterer <peter.hutterer@who-t.net>

commit 9caef14defaf892d957875f6d774003a036bad45
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Mon May 11 22:06:40 2009 -0700

    Fill in COPYING file, add SubmittingPatches URL to README

commit d9d787167795862909738892195fcdc751c413ed
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Sun May 10 16:56:02 2009 -0700

    Doublecheck pictFormat is a supported format
    
    Fixes these warnings from parfait source checker:
    
    Error: Read buffer overflow at src/atimach64render.c:601
            in function 'Mach64PrepareTexture' [Symbolic analysis]
           In array dereference of Mach64TexFormats[i] with index 'i'
           Array size is 6 elements (of 12 bytes each), index >= 0 and index <= 6
    Error: Read buffer overflow at src/atimach64render.c:712
            in function 'Mach64PrepareComposite' [Symbolic analysis]
           In array dereference of Mach64TexFormats[i] with index 'i'
           Array size is 6 elements (of 12 bytes each), index >= 0 and index <= 6
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 99db87ed49d7eca8de2ff1f7d53b580637ebb916
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Apr 29 17:32:47 2009 -0700

    Version 6.8.1
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit 193744b015e8f2b8c25d90094b7f0b502bc1287b
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Wed Apr 29 17:21:53 2009 -0700

    Convert to XORG_CWARNFLAGS & XORG_CHANGELOG
    
    Signed-off-by: Alan Coopersmith <alan.coopersmith@sun.com>

commit d394e0b8269ea0a7d36ee8edb38947df170399c9
Author: Alan Coopersmith <alan.coopersmith@sun.com>
Date:   Fri Jan 30 20:41:43 2009 -0800

    Add README with pointers to mailing list, bugzilla & git repos

commit cab7a47477e3878cb9f1fdc5b721fc8e3aaadd5b
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Fri Nov 28 01:09:52 2008 -0200

    Remove xf86{Disable,Enable}Interrupts
    
      They were already a noop in most "os-support"s, and are no longer
    available in the X Server.

commit e993728f7ee618d34163c127231881aec1637ca2
Author: Adam Jackson <ajax@redhat.com>
Date:   Fri Oct 3 14:31:13 2008 -0400

    Don't print the resource list on failure.
    
    If this ever happens it should be printed from the server at any rate.

commit 46a0254b5a0bffe8c57322b085bcd38f893e4b27
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Tue Sep 9 10:32:48 2008 -0400

    Make sure the screen is a mach64 screen before doing anything in ATIMach64XVInitialiseAdaptor.

commit 89a9ad75f3e50e25275b803617d5e74709ead269
Author: Yi Zhan <yi.zhan@intel.com>
Date:   Wed Mar 26 16:13:08 2008 +1000

    mach64: on IA64 systems the pciaccess page size mapping was getting E2BIG
    
    As the ia64 pagesize was 16k, and aperture was only 4k, this was messing up
    on ia64 machines.
    
    Modified fix from RH BZ 438947 - airlied

commit 6127349c9625ae3b50c40fd3641847be3ca18795
Author: Paulo Cesar Pereira de Andrade <pcpa@mandriva.com.br>
Date:   Wed Mar 19 17:42:23 2008 -0400

    [PATCH] Compile warning fixes.
    
    Add missing prototypes to atimach64accel.h.

commit 56a1c9f07886d40c25baa31b6d02f5ee0efd749a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:49:50 2008 +0200

    add warning message

commit 10127a10841ec211a92b2a59d6db716343caf018
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:49:31 2008 +0200

    change module name and version
    
    module gets package version, driver keeps its own version

commit e8260479e8c9f0445d160e991104b3a749035a7b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:49:02 2008 +0200

    drop r128

commit 4d3a3befcfcfff3825ad4de166de2090aa1c9976
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:48:44 2008 +0200

    drop r128 (build system)

commit df574b7b486be6b00520c6a87dc3f606b4c5395c
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:48:26 2008 +0200

    drop ati wrapper

commit 4d5cc3678ac8d1e8ed18d72d26154494bf1e75e5
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:48:10 2008 +0200

    drop AtomBios and pcidb

commit 713a2241495b9a3818c06974838477d9f28fe52b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:47:45 2008 +0200

    drop radeon, theatre

commit 403cb9e89fc9c82d7f1b21997e7deba6bc0fbcea
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Feb 27 18:45:21 2008 +0200

    drop radeon, theatre (build system).

commit 68888189cf8d460ef6f8f2f1431a6ffe9fcd8134
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Feb 27 03:09:28 2008 -0500

    RADEON: fix textured video uploads

commit 7cfad216a3f1486be194c972b9b6bcf070358586
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Feb 27 02:13:10 2008 -0500

    RADEON: fix clipping for textured video

commit a2dca1d68d751def34ef3c6f836574173737bf76
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 26 16:38:29 2008 -0500

    RADEON: Convert textured video to use pipelined uploads

commit b4fa1ce9d2da04d94521a82d3c2e95f0fe985ccc
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 26 14:45:25 2008 -0500

    R300/R500: fix up clipping
    
    Based on patch from Peter Zubaj.

commit 44e527a117ab0a363135ff066c7f7e0c12e3dc89
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 26 14:33:24 2008 -0500

    R300: fix cordinate clamping in render code
    
    Based on Peter's fix for textured video

commit 00ec17ad53d7ad43f19c9b723794ac1b8ef86826
Author: Peter Zubaj <pzubaj at marticonet.sk>
Date:   Tue Feb 26 14:26:14 2008 -0500

    R300: Fix clamping and pitch for textured video

commit 4207793f9b6c891cb17ba715223d2002668885e3
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 26 13:16:22 2008 -0500

    R300/R500: set the number graphics pipes properly
    
    This should fix the checkerboard issues on r300/r350 cards.

commit 823d8bf49e4c0a8c839354179942c5a1944c178d
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 26 12:25:14 2008 -0500

    R300/R500: clean up magic numbers in textured video

commit 8ea75b268f11794f4a7e7bac52cb256490ed3fd2
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Feb 26 16:29:19 2008 +1000

    regs: fix spelling properly

commit f2816064a6c2c4c35ccba74b9aa80547e25c012e
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Feb 26 16:28:24 2008 +1000

    regs: fix spelling mistake
    
    pointed out by plaes on irc

commit 9d2ca30b90607085578dde1f314db663bd5f82ec
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Feb 25 17:34:00 2008 -0500

    R300/R500: clean up magic numbers in render code

commit 153ad6fcf704cbf9f811d9986cd4baf04e82c9d2
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Feb 25 07:10:48 2008 +1000

    fixup check for EXA composite pointed out by Alan Swanson

commit 85e470e64f629de72e361c77770e2e29998d1bf4
Merge: 27ddb39 1b84c76
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Feb 24 05:37:22 2008 -0500

    Merge master and fix conflicts
    
    Merge branch 'master' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati
    
    Conflicts:
    
            src/radeon_commonfuncs.c

commit 27ddb39b12a0b54e099fd5274c4c91f08e2d2822
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Feb 24 05:30:11 2008 -0500

    R300: clean up magic numbers in RADEONInit3DEngine

commit d4c20f33ad6a1f88615cd7e09ad3638896873f9e
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Feb 24 04:46:10 2008 -0500

    R300: replace magic numbers in cache flush

commit e52f1c8d2647b81d891ec0728dd582941a76c83f
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Feb 24 04:43:18 2008 -0500

    R300: fill in some more 3D bitfields

commit 1b84c76f27c8d24cb42beae26abf000721901c1c
Author: Dave Airlie <airlied@redhat.com>
Date:   Sun Feb 24 19:20:36 2008 +1100

    rs690: initial textured video support

commit 68158124366db883a901e960fe5f05f8df5efa42
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Feb 19 19:51:18 2008 +1100

    rs690: initial rs690 rotate
    
    suffers same problem as r500 with clipping

commit e614bb6965588bf09dcb87f5e08e67120ec9847f
Author: Dave Airlie <airlied@redhat.com>
Date:   Sun Feb 24 01:46:05 2008 -0500

    r500: convert fragprog to use register values

commit 6ce9ee47c75620b2e5d211c5d59d17271a6a7b19
Author: Dave Airlie <airlied@redhat.com>
Date:   Sat Feb 23 22:49:34 2008 -0500

    r500: add textured video Xv adapter support

commit 9aaf8b33b22b6ba112869558ae54e021b9487ad2
Author: Dave Airlie <airlied@redhat.com>
Date:   Sat Feb 23 22:16:25 2008 -0500

    r500: initial rotate support - not fully working yet.
    
    Just an example of how to setup and run the r500 3D engine for rotation.
    this rotates for me but I get some strange clipping on the bottom of my screen

commit 05dc3e4fc19d056ce99a7b110665adab2ca1ea21
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Feb 23 20:29:51 2008 -0500

    Clarify R500 US setup.

commit 080606ad528972623e1ed1124d8efe7705a73446
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Feb 23 20:21:17 2008 -0500

    Add the R500 US index/data pair.

commit edfb3b6bbf0ee17ace8e6ba704a6f54e249fec63
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Feb 23 19:59:33 2008 -0500

    RADEON: no textured video yet on XPRESS chips
    
    Still need to sort out the VAP and PVS stuff

commit 4146bfe5d00e40a86d17826fac50d04b2469621d
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Feb 23 19:21:52 2008 -0500

    R500: fix typo in new r5xx regs

commit d9be9f34b0d3313e7b22b2a8bb0a8924ad3116bf
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Feb 23 19:06:30 2008 -0500

    RADEON: add textured video support for r1xx-r4xx radeons
    
    Based on the kdrive ati video code by Eric Anholt.
    R3xx/R4xx still have some clipping issues in certain situations

commit 9dc4acad79196e9d5d94dd710773bfa83456d47f
Author: Alex Deucher <alex@cube.(none)>
Date:   Sat Feb 23 18:29:00 2008 -0500

    RS6xx: gpio entry for DDIA varies depending on the number of DFP ports

commit ed0a93edf28155308e7ab9d8705581bb38455ea0
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Feb 23 15:02:17 2008 -0500

    Fix R500_US_CONFIG.

commit bc2bd6f841b51aeed3b6b4a47dbe758c200bc5a6
Author: Adam Jackson <ajax@redhat.com>
Date:   Sat Feb 23 14:34:18 2008 -0500

    Add R500 unified shader register block.

commit a7b5c3bb74fc4de5e38a75ac31656445ce823464
Author: Alex Deucher <alex@cube.(none)>
Date:   Fri Feb 22 19:35:11 2008 -0500

    RS6xx: fix DDC on DDIA output (usually HDMI port)

commit 3327a681e21101cc6f6e162f4e29f9937b69ccc3
Author: Alex Deucher <alex@cube.(none)>
Date:   Fri Feb 22 17:05:56 2008 -0500

    ATOM: properly set up DDIA output on RS6xx boards

commit 1d0e9ab8b9451101b1b91943546f6c5833c21b3f
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Feb 20 10:21:49 2008 +0100

    radeon: Fix typo flagged by gcc -Wall.

commit b5bd442b60dbc72fe4c1e928ab864aeb0fd7a3cb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Feb 19 20:47:40 2008 -0500

    R100: fix render accel for transforms
    
    Not sure why we had a separate broken path for r100 vertex
    submission.

commit a0a73208a21546ac120fb9a463261836c9ea7b55
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Feb 19 20:11:19 2008 -0500

    RADEON: restore clock gating and CP clock errata on VT switch
    
    This may help people with hangs on resume

commit b77e2aff7453a9f370beba37ca3c25b92b3f97ff
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Feb 19 19:55:41 2008 -0500

    RADEON: fix DDC types 5 and 6

commit af82172a82f2bdf96e571def659a1c70f92dfdbf
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Feb 19 19:39:35 2008 -0500

    RADEON: update man page with supported chips

commit 1302d1b019c8091986aaf9c86b25c1f36a037788
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Feb 19 00:34:31 2008 -0500

    Bump for 6.8 release

commit 830d29e8b280c11e798fb5bf5278bf24ecbac7bf
Author: Alex Deucher <alex@cube.(none)>
Date:   Mon Feb 18 21:17:12 2008 -0500

    ATOM: fix RS6xx connector table parsing and fix some warnings

commit 03aa4cc6d6e8c715a1c1d677cc1845223505b358
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Mon Feb 18 20:19:58 2008 -0500

    bring back to life planar-to-packed conversion for rs4xx
    
    Here's a patch to bring back the code for converting planar yuv to packed yuv,
    if a RS400 family chip is used (though I've no idea if they really all fail
    with planar yuv).
    
    fixes bug 12744

commit 66b0b3f43bb714bc007169d5ba6dabe34cfc008b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Feb 18 10:33:59 2008 +0200

    r128/radeon: probably correct fix for non pci access code

commit d055b9e800ae50d08cca9db75fc666ce1da9ab52
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Feb 16 09:13:43 2008 +1000

    r128/radeon: hopeful fix for non pci access code

commit c773bc6a314327da29e21e4ebac6fa7f3e98a0a7
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Feb 16 09:05:07 2008 +1000

    r128/radeon: fix build without pciaccess

commit 690a52da5248f47a587a878d05fce9784957970b
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Feb 16 08:33:36 2008 +1000

    mach64: fix non pciaccess build

commit fc85188fd95bf78b7f965cdde3e22b644c74ff81
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:36:10 2008 +0200

    ati: convert to pci probe
    
    add pciids for each subdriver, make no use of the match_data functionality.
    
    thanks to Alex Deucher for reviewing and testing.

commit 665bd7e2f61cac3e029bbad5024034e5136deec1
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:34:56 2008 +0200

    ati wrapper: translate Device lines

commit a596c1618f72179a45289a50a1f9e89462ce9667
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:34:31 2008 +0200

    r128: do not compile in PciChipsets twice

commit 99cd8ff9a7e15fc2b4e55f8bc020f584173a8c2d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:33:51 2008 +0200

    ati: drop duplicate pci-id defines

commit 146b01b51069dc227d0b125babb3f6957c9b9de2
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:33:29 2008 +0200

    mach64: clean probe a little
    
    do not report I/O ports now, they are reported later.

commit f47d461331a032f9bdcf6f63336e848778cec6cc
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 15 18:32:56 2008 +0200

    mach64: minor cosmetic, I2C type

commit 2c66f2e812195167df9ca113044d46deece776ac
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Fri Feb 15 10:59:30 2008 +1000

    make distcheck pass

commit ed87f367ddab7366f84917b43b31d76df4ce1110
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Feb 13 12:53:46 2008 -0500

    RADEON: disable LVDS if panel size is 0x0
    
    if we can't get the panel size from the bios or edid
    or a user specified option, assume it's not connected.

commit 422d7f441fdbb318d22d44db661ac9bd61387bd2
Author: Alex Deucher <alex@cube.(none)>
Date:   Tue Feb 12 15:35:46 2008 -0500

    R6xx: when both crtcs are in use make sure they are both enabled
    
    sometimes setting a mode on one crtc can cuase a blank screen on the other.
    make sure they are both enabled if they should be.

commit 860f5af75274cb236f536e1da09da6bd9a579530
Author: Alex Deucher <alex@cube.(none)>
Date:   Tue Feb 12 14:46:49 2008 -0500

    R6xx: fix up use of bios scratch regs to reflect the new offsets

commit 32f2119b43a0faf6069d8cc0816f0d9f7914c07f
Author: Alex Deucher <alex@cube.(none)>
Date:   Tue Feb 12 14:20:02 2008 -0500

    R6xx: bios scratch regs moved.

commit 8d64be6ebd7f50d4bcb587afeee8252c1367dc77
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Feb 12 12:53:09 2008 -0500

    RADEON: make sure we always set up the FP crtc shadow registers for crtc0
    
    The behavior changed when I added rmx center mode support.  In cases where
    crtc0 drives a DAC this can lead to a blank screen.

commit 810d192ee046077a894e0fb5f2dfd6a7c0130766
Author: Alex Deucher <alex@cube.(none)>
Date:   Mon Feb 11 19:23:01 2008 -0500

    R6xx: add missing objects

commit 85043439426e534e561259ce98bebdd8508b36a9
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Feb 11 16:36:58 2008 -0500

    R6xx: make sure we set up the HDP base properly

commit 9ab5d2ec7c583c74f364d7cfbb54bcd2cd8ae2f5
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Feb 11 15:26:51 2008 -0500

    RADEON: always restore crtc1 before crtc0 when using both crtcs
    
    In some rare cases restoring crtc0 first will result in a blank screen
    on crtc1.  If you are having issues with a blank screen on crtc1
    that used to work on 6.6.3 or before, this should help.

commit e33edca75bd9df0aa19a33e74c38a6d02610befd
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Feb 11 00:33:12 2008 -0500

    RADEON: Implement proper (hopefully) BIOS/DRIVER interaction for ATOM bios
    
    Tested on atom-based Desktop cards.  It'd nice to get some testing
    on atom-based laptops.

commit 6524e33435a786f7de0064cdd1b04c1120d21593
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Feb 10 18:52:52 2008 -0500

    RADEON: Implement proper (hopefully) BIOS/DRIVER interaction for COM bios
    
    Tested on my M10-based laptop.

commit 8606c1bd175893c77e8c758246a1aed166c8be51
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 8 19:07:03 2008 +0200

    mach64: factor out BIOS panel info parsing

commit 9f33218c80f5a6d6d9464aa3db8ae25a4759f351
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 8 19:06:41 2008 +0200

    mach64: minor cosmetic, LCD panel id

commit 8cd5a465a03834b4b2f3a19f8d36fc9d2e18c6d4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Feb 8 19:06:27 2008 +0200

    mach64: minor cosmetic, DAC type

commit 7f4db96123fdcba9874226352802d702c2a498bd
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Feb 8 10:47:10 2008 +1000

    add rv670 pciids

commit e8899b9978291c62a65f468c92f340f65ad5479d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Feb 7 19:27:38 2008 -0500

    R6xx: fix ddc after my i2c rework
    
    Seems r6xx does something different for its i2c table,
    revert to the old behavior for now.

commit 435de6c4e46ff2bebd4cee58888a66b936cd3fdf
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Feb 7 19:14:13 2008 -0500

    RADEON: sync up with latest upstream versions
    
    atombios.h
    ObjectID.h

commit 692789a293970f70b88ccb6adcf0676d8b495ae2
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:03:37 2008 +0200

    mach64: factor out BIOS multimedia parsing

commit 933328ffd6d1d872a18d3de8624c4df845a64588
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:03:03 2008 +0200

    mach64: complement hint for sparc

commit 956c8c81f3ff434930a0cb17b027b2f8e4eeabb2
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:02:31 2008 +0200

    mach64: consolidate refclk #2

commit dce4cc26a8e2bf53805ec63763243f3ff6b4a6d3
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:02:17 2008 +0200

    mach64: consolidate refclk #1

commit f7ed807f0d82a7446ebc4acdd4e94df44a675f19
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:01:59 2008 +0200

    mach64: cosmetic

commit cda1cd198f33c26ef1b51532a2126468369743b8
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:01:33 2008 +0200

    mach64: factor out BIOS clock parsing

commit 73ff279469be9c7cbf9f533b85fcb553694ff413
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Feb 7 18:00:55 2008 +0200

    mach64: BIOSBase is no longer used

commit caea326cc6f1932bb299f451be013651a5749ea7
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Feb 6 06:36:13 2008 +1000

    r300: move fragprog setup code to prepare composite for now

commit 470cd6a401c6a3e8fea981a8fe97c28be3cfb81d
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Feb 6 06:04:13 2008 +1000

    r300: remove r300 specific vertex emission
    
    Set the vertex and fragment engine to expect the mask coords.

commit f65e8dfac23adfa199026765fe3a1ea08cf4da67
Author: Alex Deucher <alex@cube.(none)>
Date:   Sun Feb 3 00:09:59 2008 -0500

    RADEON: rework i2c handling
    
    Split out clk, data, and lock regs and masks.  some cards use different
    regs and masks for each.  For cards with ATOMBIOS, use the i2c bios
    table to grab the i2c data.

commit a38a903debc0a50dbc73f59dc2741bbea76d2bd9
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Feb 1 02:59:07 2008 -0500

    RADEON: don't restore LVDS_PLL_CNTL for now
    
    seems to cause problems with resume for some users.
    this needs further investigation.
    see bug 12596

commit 5d7bea2b62c86868baf1960665a40249a43bafc5
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Feb 1 02:53:22 2008 -0500

    RADEON: remove redundant RADEONDisableDisplays()
    
    use RADEONBlank() instead

commit 73b437ce232c94c0067a0d2f70538b6e1e8c07a7
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Feb 1 02:47:06 2008 -0500

    RADEON: remove unused "aspect" scaler option

commit f1fb9e4daa29bc379f653f847254db1496b625fd
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Feb 1 02:39:18 2008 -0500

    RADEON: Implement "center" mode for RMX on legacy radeons

commit bcd590103e04bfdb4f12413beacebf344f07e88e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Jan 29 12:12:54 2008 -0500

    RADEON: update man page to reflect AGP 1x default revert

commit 09348a83d06ba9d3129499c4daedd44a68771530
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Jan 29 12:09:24 2008 -0500

    Seems the default is more reliable... we can't win.
    
    Revert "radeon: Default to 1x again with non-v3 AGP cards."
    
    This reverts commit b653e5a628bfa4dfb168e96f93f41eb910f409fb.

commit 0c26806245381b925b73ff9f3b747e3dcf0ebd6f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Jan 29 10:26:48 2008 -0500

    RADEON: Add new RV380 pci id
    
    bug 14289

commit ce77ed78a877023da72dbe51609aef9a07e250b1
Author: Maciej Cencora <m.cencora@gmail.com>
Date:   Mon Jan 28 19:02:56 2008 -0500

    RS690: Implement MC idle check

commit b7de4ff52cfbdd85ee65000613632e21b92af24e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 26 19:28:05 2008 +0200

    mach64: add hint for sparc and minor cosmetic.

commit 09d713aa0ed6367b4457420b3c2832fe8eca9b00
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Jan 23 18:05:41 2008 -0500

    Revert "RADEON: adjust PAL mode hstart"
    
    This reverts commit 719a9a376e34d99032af75e3f7b002670ccb816b.
    
    This breaks TV out on some cards.

commit 719a9a376e34d99032af75e3f7b002670ccb816b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Jan 20 18:40:53 2008 -0500

    RADEON: adjust PAL mode hstart
    
    Most people seem to get a more aligned picture with this setting

commit b2db8657fb888cff6d64c6dcb182caac389776ce
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Jan 20 18:33:22 2008 -0500

    RADEON: re-work i2c for DDC
    
    Unify the radeon/avivo paths and grab the data/clk masks from bios
    if available

commit a43003b24022a833e604f41b2873c0350b34181c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Jan 19 18:49:53 2008 -0500

    RADEON: get dac2 adj values from the bios tables

commit d4596c52ac9994be26e9ec2d7d57b3892c34abdb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Jan 19 17:17:26 2008 -0500

    RADEON: grab pll_in_min/pll_in_max from bios tables if available

commit 9a0947c812d0d38d1bca6a91140ac210831a6cb4
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Jan 19 13:57:50 2008 -0500

    ATOM: Use LVDS edid from bios if available

commit 7238258c12def8ef273e5362f716d165f720c5a5
Author: Kusanagi Kouichi <slash@ma.neweb.ne.jp>
Date:   Sat Jan 19 15:04:21 2008 +0100

    radeon: Partial fix for XVideo RGB image distortions.

commit 32be3cf9d6c34e60ff8c3d6cfe9f73f1869c50e4
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Fri Jan 18 14:42:14 2008 -0500

    RADEON: print the name of the output when printing the EDID

commit 4ba9430ee97dbce8f77db8de6ce9b753a75e453d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Jan 18 18:18:18 2008 +0200

    mach64: workaround for corruption at upper-left
    
    commit possible workaround, it's reported multiple times ...

commit 12c00111b68c9cf4872a424258c6f8b7247aac47
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Jan 18 18:17:40 2008 +0200

    use stand-alone drivers for each chip family.
    
    Do not load the ati wrapper when the user specifies the sub-driver name in
    the Driver line of xorg.conf.  Also, for -configure cause the wrapper to fail
    and let each sub-driver speak for themselves.

commit 24c7d134cd450f9e2cca85e4a2fc3253d250be04
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Jan 18 09:50:38 2008 -0500

    RADEON: make sure EXA Composite is actually disabled on XPRESS chips.

commit eaf425436008092abe81208321a2b3b6698a5d79
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Jan 18 20:11:57 2008 +1000

    fixup register 6594 save/restore

commit 2a89a31481d71a56a9930073cf99d3ae7b4290e1
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jan 17 15:08:17 2008 -0500

    RADEON: use radeon_output->Flags for tracking RMX rather than mode->Flags

commit 495e3119250ffb48489debbaabe560d23753cc43
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jan 17 14:56:19 2008 -0500

    AVIVO: Add support for RMX
    
    Both centered and expansion modes are supported.  Select
    using output attributes.

commit 6bd510a211f25d52e74791e4a429cd2218ced541
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 16 18:09:49 2008 -0500

    RADEON: add a message about render accel on newer cards

commit 85bf3439fe2579aec48f5cd8d65a9d51b1ae8535
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 16 17:52:06 2008 -0500

    R300: only init3d on r3xx

commit dbb2ca471dfbff245b30c5055871dee0dc0e3d15
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 16 17:10:02 2008 -0500

    R300: only enable render accel on non-IGP r3xx/r4xx chips for now

commit 3c72b100bcfacee600644669b586e86cfd32754e
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 16 16:55:42 2008 -0500

    R300: First pass at render accel
    
    This first pass is pretty limited.  All it currently supports
    is transforms for rotation.  No blending yet.
    
    Based on inital implementation from Wolke Liu with
    additional lock-up fixes by Dave Airlie.

commit 2ba3562d2af911fdd90881049599e239d27260bc
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 12 17:11:59 2008 +0200

    ati wrapper: xf86PciInfo.h is enough

commit c2caeb11a97dad5379d70881c5c0fd834a8c3d54
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 12 16:18:34 2008 +0200

    ati wrapper: add DriverRec's and use them

commit 19e1b180fec6f83a474e125465bc60111c0f43e0
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 12 16:18:07 2008 +0200

    mach64: load for both "ati" and "mach64" as driver names
    
    similar to r128/radeon

commit 92f54400d5450b29b3a76d5ecc927cf0d73e156e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 12 16:17:47 2008 +0200

    mach64: add version (need not match with ati)
    
    similar to r128/radeon

commit 311ec7b6c54a50a4b8a5a445f7283da2b0b2e0f5
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jan 12 16:17:21 2008 +0200

    atimisc: rename to mach64

commit 5244e235262290eab8a3546f449295c12ed8f6c7
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Jan 14 16:11:09 2008 -0500

    ATOMBIOS: disable the scaler by default on avivo cards
    
    Fixes bug 14001

commit 729da30c80d6545b75c8faea44754634f477cc09
Merge: 000741e 625a885
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Jan 14 10:05:01 2008 -0500

    Merge branch 'master' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit 625a885a964488da2a35065eb597a17ee57b22a9
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Jan 9 17:39:56 2008 +0200

    ati wrapper: use pci ids

commit 48865200ca9f1daf87e52620b9f8175f88dd886f
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Jan 9 19:01:04 2008 +0200

    radeon: remove stray include

commit a5a6b873353611cb7e46e5e375f039957c7051a7
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Jan 9 13:03:32 2008 +0200

    radeon: remove stray _X_EXPORT

commit 80c9974b6cdc0147d777df6990b3f3aacd87969d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Jan 8 18:15:47 2008 +0200

    r128: pci-rework conversion
    
    compile-tested only

commit cd4b39403d74f314e1c2cfa4cf0e4fe542891dc3
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 10 23:12:15 2007 +0200

    Drop symbol lists from r128, radeon, theatre.
    
    compile-tested only

commit 63b4b8213fabc5a57f897b60b6eaa9f78d86e6ff
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Mar 21 20:24:22 2007 +0200

    [mach64] Drop symbol lists.
    
    egrep LOADER\|SymLists\|Symbols src/*.[hc]
    
    not needed after server commit bca9364f3f4a2376edbcf57a34f704ce28be21ba, i.e.
    xserver 1.2
    
    compile-tested only

commit 000741e250e54122b0adc91694eb4bfa320a70fb
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jan 10 14:49:48 2008 -0500

    RADEON: clean up output handling

commit 10e7636c02478b8ffe183bb0c46229ca0d6584e1
Author: Kristian HÃ¸gsberg  <krh@bitplanet.net>
Date:   Wed Jan 9 12:47:39 2008 -0500

    RADEON: fix crtc routing on r4xx cards when using atom to init DVO chip

commit 3af671f5963810dbfd63abc9889b1d46b68f404c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Jan 9 11:30:25 2008 -0500

    RADEON: restore FP2 regs before external encoders
    
    This may fix krh's dvi problem

commit 2a54c6bb09ade2ec8f998dfc1624017029d47fa3
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Jan 8 18:43:54 2008 -0500

    RADEON: Make default output actually work...

commit fa3e2055225c27e25465fc46786da1b7574fd3cc
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Jan 7 01:13:09 2008 -0500

    RADEON: add default outputs if no connected devices
    
    If no connected devices found at server startup, default
    to something so the server comes up.  LVDS on mobility chips,
    DAC or TMDS on others.

commit d972cc9237eb90b49b11f8d2bdc5b61f628911dc
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Jan 5 17:19:06 2008 -0500

    RADEON: Fix TVStandard option

commit 45656b9d5a426053da2a094de39c2690c0c6f799
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Jan 5 12:00:55 2008 -0500

    R128: Like powerpc, don't use VGA by default on sparc

commit b8e8db4675d07e45782de0d7c67ee0fd85eaedb3
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jan 4 20:16:19 2008 -0500

    RADEON: fix tvdac load detection at server start up

commit 3ba7f393d0669df36848715799de8affc10a5534
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jan 4 20:00:48 2008 -0500

    RADEON: further fixup for pScrn->pScreen issue
    
    the previous fix seems to cause the driver to hang on
    some cards.

commit a0de9c0844f9e066e0f02e8cd8045bdd278e6494
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jan 4 19:48:30 2008 -0500

    RADEON: improve ntsc image centering

commit 03d2f25801c8a8ec15030f06008df112d07c1a2d
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jan 4 18:19:54 2008 -0500

    RADEON: fix compile

commit 308848783ed9ae27aed7c7de6ee813d375ef495e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Jan 5 09:11:55 2008 +1000

    i2c: a line mux of 0 is valid

commit 94d5a432f72801f821d1c4ce952baba17552659d
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 4 17:16:54 2008 +1000

    atombios: i2c lines are all done with sw so we can accept any of them.
    
    hch reported this working on his laptop with 0x7e60 as EDID for LVDS

commit 2e4473b63d65801ae8ac5a8391de232b2201d958
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Jan 3 15:47:50 2008 -0500

    RADEON: fix crash when setting rotation in the config file
    
    xf86CrtcRotate() accesses pScrn->pScreen which is not set
    during ScreenInit().  This should also be fixed in the server.
    See bug 12129

commit c652208861bffca94f06b7f67688ce220e050bfb
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jan 3 17:54:58 2008 +0100

    radeon: Adapt manpage to reality wrt AGP options.

commit ab451e4b7a5423d61b57cf0646599267d8504af4
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jan 3 17:52:39 2008 +0100

    radeon: Miscellaneous warning fixes.

commit 394c52273328e90518568b694ee79dc1a8dab651
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 3 18:56:16 2008 +1000

    r500: tvout avoid doing dpms here it makes my tv mode go all crappy
    
    need to investigate further

commit 1c647279f021d01e110980727b7c7dd7efae1642
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 3 11:55:28 2008 +1000

    r600: change devices list depending on connector

commit f36db6e10d32a68b32d20ae4ad02cfc0bfd1c9c3
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 3 11:27:47 2008 +1000

    r600: fixup crash on unknown output type
    
    not sure this is 100% the correct approach

commit 1accfdd590828e95e0d68a576c8ee05a06a86e43
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 2 19:48:28 2008 -0500

    RADEON: various avivo tv-out related clean-ups

commit ce34090c758ac91171cb6adb9b8a36e4adbf99cf
Merge: 2180f04 30cab1d
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 2 16:41:36 2008 -0500

    Merge branch 'master' of git+ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit 2180f04b6fb94a638f6274cb4455d5688b324dbc
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 2 16:41:06 2008 -0500

    RADEON: preliminary support for ATOM RMX
    
    not functional yet.

commit dab4dc285154d40303aadaa849b85f8e251e578e
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Jan 2 16:27:19 2008 -0500

    RADEON: add support for ATOM component video table
    
    Component output is still not working.

commit 30cab1dbebb7bdb925f2fe9f91b84183312bbbfd
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Jan 2 15:41:01 2008 -0500

    RADEON: Make sure all old IGP chips have HasSingleDac set
    
    fix the csv file and re-gen the headers.

commit e8e585651215b011e3ad07c59d0eab9107ccd8c6
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Jan 2 10:14:46 2008 +1000

    PLL/r600: tweak pll to pick first one found instead of keeping going

commit 14aa4060ad27ecb3d40b2b17ee4cf7cc55a121dd
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Jan 2 09:49:44 2008 +1000

    r600: fix tv-out output naming

commit f65374f5e15bfd391a1838a686cd87d3bab8043d
Author: Maciej Cencora <m.cencora@gmail.com>
Date:   Mon Dec 31 09:44:34 2007 +1000

    atombios: initial rs690 patches

commit a674f683e6699c30664d9cd468a64de991c3fd7e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 30 17:43:17 2007 +1000

    atombios: enable TV-out detection code - tv out works for me with this

commit aa7c28cbd943bb525698515d444cb5097880e364
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 30 17:40:37 2007 +1000

    atombios: enable support for using tv timings
    
    enable support for the atombios tv timings selection by programming the crtc
    with the tv timings if a tv is detected on the output

commit 0bc3fd595a73e12a424571697d164a09a6a4c072
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 30 16:39:58 2007 +1000

    atombios: add support for reading tv standard from atombios
    
    fix typo in atombios header file

commit bfa22d676a6f333503104041f62222f4de9bb7d8
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Dec 26 12:29:47 2007 -0500

    RADEON: fix typo that broke tv load detection

commit 0c99554c6fab1192f5e8595469c21b5f33e1eb4f
Author: David Miller <davem@davemloft.net>
Date:   Wed Dec 26 02:19:12 2007 -0500

    [RADEON]: Add missing break in SCLK calculation.

commit 6e0d5cc1c62fbfc1962fa0d6333f0c0a8c6327bd
Author: David Miller <davem@davemloft.net>
Date:   Wed Dec 26 02:17:34 2007 -0500

    [RADEON]: Like powerpc, don't use VGA by default on sparc.

commit 2b1fae668ddabbc72e5fc31365302ea722174df1
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Dec 26 02:04:06 2007 -0500

    RADEON: fix PAL tv-out
    
    Many thanks to Andrew Randrianasulu for providing me with
    pll reg dumps

commit d736eb5732da573162c70712dc4e8b0114986702
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Dec 24 12:34:15 2007 -0500

    RADEON: default "IgnoreLidStatus" to TRUE
    
    Seems there are lots of busted ACPI lid status and people
    starting X with the lid closed.

commit 653da558148cc601bc1f80253e92ef98c75ef37a
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Dec 24 01:11:56 2007 -0500

    RADEON: restore crtc regs before VGA regs.
    
    It seems some radeons don't restore text console properly if
    the crtc regs are restored after the VGA regs.
    Thanks to Sverre Froyen for helping me track this down

commit ad3325f672a241449ca239c8ee3a24b6d7703d76
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Dec 23 17:18:42 2007 -0500

    RADEON: Add "IgnoreLidStatus" option
    
    Generally, users that start X with the laptop lid closed
    want to use one or more external monitors rather than the
    internal panel and do not want the internal panel to be on
    by default.  Others, it seems, want to always have the
    internal panel on, regardless of the lid.  I can't win.
    Enable this option to force the latter.

commit 20eedf348a527e1e0a5450bc22d7564895034a66
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Dec 23 11:27:55 2007 -0500

    RADEON: fix pll input setup on mac cards
    
    the function was exiting before the complete setup was finished.

commit 4f2e833e8ebaba3ad85ec5314fff8fa05395b679
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Fri Dec 21 18:56:34 2007 -0500

    configure.ac fixes

commit 2b6e8e2b8f74e94560de89693ecbc7260536591e
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Fri Dec 21 18:10:17 2007 -0500

    RADEON: various cleanups

commit 4c6f60e3b19ac55ab1255c79df03b1df5950864e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 17:33:04 2007 -0500

    RADEON: clean up prototypes

commit 8c761afdcb9baf1649b93449692fb9ab67bc2c80
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 16:24:49 2007 -0500

    RADEON: more re-org
    
    move save/restore routines into legacy_crtc/output

commit 910773d3a6c717f9d4762ea7b9ee6c3ae061781e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 15:53:15 2007 -0500

    RADEON: more re-org.  move XAA Mem init to radeon_accel.c

commit 0631a23bd103f9b74e525da2c41304eab60c6f17
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 15:40:18 2007 -0500

    RADEON: fix rn50 reversion from last merge

commit 5b917797a13c6caa80028d1842a284598e874288
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 15:30:20 2007 -0500

    RADEON: remove no longer used radeon_display.c

commit bf14aa5f88fc3b4e69d71db5b23248b8bb2018d0
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 21 15:29:47 2007 -0500

    RADEON: re-org legacy crtc/output code into separate files

commit be7f8fd338f5af8b632f16a83db41e15d00af469
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 21 10:03:49 2007 +1000

    fix mode bandwidth configure check

commit 3f9b597dedc45379b0bc0b631f3f924c403bca48
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 21 09:55:42 2007 +1000

    fixup clip test include handling

commit 9a5b501332c0a1f10af20845af48c9ddd2ce26a0
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 21 09:45:55 2007 +1000

    set ddc line correctly post-merge

commit 3c31b96afa20913ad947e68fe0c3a662e5eafbdd
Merge: eb99c3c f5e8c18
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 21 09:36:22 2007 +1000

    Merge remote branch 'origin/atombios-support'
    
    Conflicts:
    
            src/radeon_display.c
            src/radeon_driver.c

commit eb99c3c5c9a2249cb84920f0f225e525fc3a4144
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Dec 20 18:14:38 2007 -0500

    Bump for RC release

commit 8d49ff1da917b7f8240267953ef6ce4ff04daecb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Dec 20 01:09:57 2007 -0500

    RADEON: check for xf86_crtc_clip_video_helper() in configure.ac
    
    use xf86_crtc_clip_video_helper() from the server if available.

commit fb7a4e24f2da3561ef81371ca4013a4f13806e91
Author: Adam Jackson <ajax@redhat.com>
Date:   Wed Dec 19 19:15:19 2007 -0500

    Fix RN50 mode filtering.
    
    The old code would attempt to limit the maximum pixel size of the screen
    by limiting the maximum PLL frequency.  This ends up confusing the PLL
    computation code since sometimes your maximum freq can be lower than your
    minimum freq.  More to the point it's just wrong, maximum PLL frequency
    isn't the same thing as maximum pixel clock, and even that isn't the same
    thing as maximum scanout pixels per second.
    
    The correct thing to do is filter by the mode's effective memory bandwidth.

commit c1b0b69cc50516c3b7e881b0eb46cb3cd2e9dce6
Merge: 0e66348 ce4fa1c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Dec 19 11:54:50 2007 -0500

    Merge branch 'master' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit 0e6634870d1ab38ee8c83f6bda1ba60364997853
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Dec 19 11:54:27 2007 -0500

    RADEON: skip empty connectors when creating outputs

commit 6afbf718c151dc3c5c59bd3136b58a93a114d798
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Dec 19 11:48:38 2007 -0500

    RADEON: add support for legacy radeons with DVI and no connector table

commit f5e8c185001e62e744310667c2d1bd3fe6542a62
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Wed Dec 19 10:38:58 2007 +1000

    more endian related fixage

commit 98b247066d00db66abe91f518cd93b5c4da4cfb4
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Wed Dec 19 10:25:41 2007 +1000

    fix big endian build since zaphod fixups

commit ce4fa1cedec0cf56b9979dfaa12a8d3a7c643df4
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Tue Dec 18 15:34:14 2007 -0500

    RADEON: fix fd leak in lid detect code

commit 20568f66f9a9a60a33bd9a69ccc14a891c656836
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Tue Dec 18 15:32:10 2007 -0500

    RADEON: more cleanups and warning fixes

commit 1496194200adbcb044ec3977367a0908262e389c
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Tue Dec 18 15:29:53 2007 -0500

    RADEON: driver cleanups, warning fixes

commit bd7206fa120495037e3fea0c920d0031d7715bf6
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Dec 18 03:03:11 2007 -0500

    RADEON: fix another merge error
    
    this broken legacy radeons

commit 65a3ac7530e11bb7d818a988fd0cf1dde7688fa4
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Dec 18 00:15:38 2007 -0500

    RADEON: more PLL tweaks

commit d93a0e10b8bc6e3797a3cf6c1e28ca413a7c38e4
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Dec 17 20:32:45 2007 -0500

    RADEON: post div tweaks for legacy radeon

commit 03b8b49f6f502c45552b018fd8c44d366b2d576f
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Dec 17 20:20:04 2007 -0500

    RADEON: fix typo from merge

commit 19b9d3708852b7efe2b05249c8359dadb924dd94
Merge: cf685f3 29706ca
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Dec 17 20:07:32 2007 -0500

    Merge branch 'atombios-support' of git+ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support

commit cf685f37ec874f0aacd09e7c4eb0402c6daec1b0
Merge: 2a134af 44d07c4
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Dec 17 20:07:07 2007 -0500

    Merge branch 'master' of git+ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support
    
    merge master and fix conflicts

commit 29706ca585ebd9b7b3521521a17016322e9ecccb
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Dec 18 10:55:38 2007 +1000

    fixup shadow setup on !r600

commit 44d07c4ccce9acb5bd21a17acb082e91f7225764
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Dec 17 18:56:12 2007 -0500

    RADEON: typo from last commit

commit 4da3782239921eb377216d4de4a9cc5bb55e0e8a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Dec 17 18:51:31 2007 -0500

    RADEON: add output enable masks
    
    add output enable masks for outputs that drive
    more than one connector.  Make sure we don't turn off
    an output that's driving another connector.

commit 5c5d2d19b2b032a06dd333b4ecc029aac342fb93
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Dec 17 18:15:55 2007 -0500

    RADEON: whitespace clean-ups

commit 9f1d8220315c8894a17f2cc328025dc682b0c6e0
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Dec 17 18:04:05 2007 -0500

    RADEON: more PLL fixes
    
    - reduce the calculation accuracy
    - certain LVDS panels seem to only like certain ref_divs
    - add pll flags to handle special cases
    - adjust the pll limits on legacy cards

commit 2a134af01bc85de758ad83a85b23d1bba4a1a0f5
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Dec 17 15:00:36 2007 +1000

    r600: add shadow support to r600 driver to at least make 2d useable

commit 614414611a9f246cbc74f579a79987fff97cf571
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Dec 17 11:10:14 2007 +1000

    radeon: cleanup pitch calculation and make r600 work again

commit 79a375dbc7f323e2f551490a35f44ec36bed877c
Author: George Wu <geo@flood.OCF.Berkeley.EDU>
Date:   Mon Dec 17 10:55:36 2007 +1000

    r600: might as well fix VT for R600

commit bc213ee723a45f2c396b4ed211a50f7642349973
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Dec 16 14:54:00 2007 -0500

    RADEON: fix sclock printout

commit 4747c1f3cd4167b6a51d4864a297719ea48b9346
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun Dec 16 14:07:29 2007 -0500

    RADEON: Make sure LVDS_EN bit is set when enabling LVDS

commit a9817b2cf436a536dbc43ad77abc3bdcc53d346d
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Dec 15 20:51:53 2007 -0500

    RADEON: clean up units in PLL calculation

commit b653e5a628bfa4dfb168e96f93f41eb910f409fb
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Dec 15 00:50:10 2007 +0100

    radeon: Default to 1x again with non-v3 AGP cards.
    
    Seems more reliable in general than what was set up by firmware - fingers
    crossed...

commit 6229825fa5d6715569098afbb21a40f7a2e7e6be
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Dec 15 00:48:26 2007 +0100

    radeon: Warning fixes.
    
    The lid detection code probably wouldn't work on other non-x86 platforms
    though...

commit 818ccf0fd4b5879171c5f20526d5a58638f8fde5
Author: Fredrik HÃ¶glund  <fredrik@kde.org>
Date:   Fri Dec 14 23:56:12 2007 +0100

    RADEON: Fix the vertex coordinates for transformed pictures
    
    This partially fixes transformed pictures on R100/R200 based
    cards.  The texture still doesn't appear to be clamped correctly,
    but since that doesn't matter for rotations at perpendicular
    angles, I'm committing this now so randr rotation and reflection
    will work properly.

commit 3cfbcf4cafbdfdb33411d16e51fb1f77cd0f93dd
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Dec 14 17:11:00 2007 -0500

    RADEON: Fix PLL set up on certain notebooks
    
    Some LVDS panels require specific PLL dividers as
    specified in the bios tables.  Make sure to use them
    if the output is LVDS.

commit a84d446fd301d456bcea8f7abdc52e5a30776412
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Dec 14 02:17:14 2007 -0500

    RADEON: select fb_div0 for LVDS on RV410 (x700) mobility
    
    Fixes bug 8038
    I wonder if desktop RV410 need a similar fix.
    If your x700 laptop panel has problems after this let me know.

commit b3eed3d87f76779b5a62a3115f99a31484dc38e0
Author: Alex Deucher <alex@samba.(none)>
Date:   Fri Dec 14 00:20:10 2007 -0500

    RADEON: fix typo in previous cursor fix

commit 814c6c48aebba2e45ce257289b922cd7e92caf2a
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Dec 13 18:45:09 2007 -0500

    RADEON: rework PLL calculation
    
    - Take into account the limits from the bios tables
    - Unify the PLL calculation between legacy and avivo chips

commit f5ac34983411e4c4f41ab1817dce582830f398fd
Merge: f2b2e08 6ccf5b3
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Dec 12 22:37:44 2007 -0500

    Merge branch 'master' of git+ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support
    
    merge and fix conflicts

commit f2b2e0804183b52d9d3f56ad85b3552ece76c544
Author: Alex Deucher <alex@samba.(none)>
Date:   Wed Dec 12 22:18:37 2007 -0500

    RADEON: fix rotation on avivo chips
    
    There are still some issues, but this is better than before.

commit 6ccf5b33d27218ae1c45ab93c122438ed536d8ba
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Dec 12 20:12:06 2007 -0500

    RADEON: only enable vblanks if we want them
    
    should fix bug 13610

commit 1668f2056f56370f1b5681c13f1e14904e301216
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Dec 12 19:39:08 2007 -0500

    RADEON: use /proc/acpi to determine lid status
    
    Linux only

commit 33a39947f7f79533cd90007a17d57b20126642c6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Dec 12 18:50:18 2007 -0500

    RADEON: fix cursors when using rotation
    
    allocate separate cursor buffers for each crtc

commit 9e5efdecd12092031a4aebce58747cb4a6f48f28
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Tue Dec 11 23:53:03 2007 -0500

    sparse fixes and cleanups from arekm

commit 372bf41818fdafc6a9d2914aee3a8e359f668f02
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Dec 11 14:04:58 2007 -0500

    RADEON: handle HMDI properly (untested) and fix some merge leftovers

commit 3c22ad977c25d5ca2811821fcac6bb8ecd79994a
Merge: c9a0cee f3d2ec3
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Dec 11 13:11:15 2007 -0500

    Merge branch 'master' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support
    
    fix conflicts

commit f3d2ec3a5ae61215c792018320158750e7aa937c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Dec 11 11:57:27 2007 -0500

    RADEON: rewrite PLL computation
    
    Algorithm adapted from BeOS radeon driver with some tweaks by me.
    Actually calulate and use the reference divider rather than using the bios default.
    Also, always calculate the PLL, rather than falling back to bios dividers.
    This should fix bugs 12913, 13590, 13533, possibly others.

commit c9a0cee97ca69e8fe1e1937c7670fa903214cded
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Dec 11 06:03:46 2007 +1000

    more zaphod fixes - some other work maybe needed

commit 9b125312ab6edc585e4f5931a6a6de81e13b6acc
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Dec 10 13:53:15 2007 -0500

    RADEON: only update crtc values when RMX is active

commit 3a161e1b5d80361e318ced8da5c19e797749d693
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Dec 10 00:57:26 2007 -0500

    RADEON: bios PLL cleanup

commit 731830297f2fc4a416882aacfb0d9b5f8ed32520
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 15:50:38 2007 +1000

    fixup some warnings

commit 2818e2b02ca90c9dfa50905b5311b2ae83ac3b0c
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 15:43:52 2007 +1000

    add more to configure.ac for using out-of-tree mode src

commit cc3c36100986f9d8060bc2d433373d4806f8e730
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 15:25:56 2007 +1000

    add support for building against legacy servers similiar to Intel codepaths

commit 9c278cb7fa7f18d13bde053fd75221cfba9da377
Merge: 6451ea2 cc167b9
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 15:18:03 2007 +1000

    Merge branch 'zaphod-lolz' of git://git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support
    
    Conflicts:
    
            src/radeon.h
            src/radeon_crtc.c
            src/radeon_driver.c
            src/radeon_output.c

commit 6451ea2dcc4fac762442f699935864f4a8d445f7
Merge: 0d89556 5896ca4
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 10 15:08:42 2007 +1000

    Merge branch 'master' into atombios-support

commit 5896ca4097d439f59f90f397939132c061c3c364
Author: LisaWu <liswu@ati.com>
Date:   Fri Dec 7 09:45:05 2007 +0100

    radeon: Use %u instead of %d for unsigned value.

commit df44f8380268c27d3978c4e91d736f093322b8b8
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Dec 7 09:41:47 2007 +0100

    radeon: Use gettimeofday instead of xf86getsecs.

commit cc167b9bb7f1c3b8579e51e7bc2fca2f8eba6bd1
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Dec 7 15:41:36 2007 +1000

    disable tiling for zaphod heads

commit 2ce8d192533a8c795714c5a9fb308ec74db40287
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Dec 7 15:35:21 2007 +1000

    don't add fboffset to info->FB it already is mapped at the offset

commit 0dcd926d3092100854b3e362d6659d4950508aeb
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Dec 7 14:45:04 2007 +1000

    radeon: bring back zaphod all is forgiven.
    
    You've whined, you've cried, you've nagged, and you're guilt trippin has
    made me do it... It actually wasn't as hard as I thought it would be.
    
    Still not perfect, couple of things to fix yet

commit bb5ede557bf32a42eef158ff0fbcfe1c6ede098a
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Dec 7 14:30:32 2007 +1000

    radeon: move savedreg/modereg into entity instead of info

commit 64ab1cdf343a9a69e7e9e64f0bba77c54a94e9d0
Author: James Cloos <cloos@jhcloos.com>
Date:   Thu Dec 6 15:51:12 2007 -0500

    Add missing PHONY line for automatic ChangeLog generation

commit 0d89556bfa41a3acbd6afe85b062e3a21f2ca057
Author: Dave Airlie <airlied@ppcg5.localdomain>
Date:   Thu Dec 6 19:23:06 2007 +1100

    powerpc: build fixes from last merge

commit dbe3d2608ecc9896db9c23b3a347b50748c51e13
Merge: 48e31cd 21ed435
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Dec 6 14:22:03 2007 +1000

    Merge branch 'master' into atombios-support
    
    Conflicts:
    
            src/radeon_output.c

commit 21ed435398e4a398dd8a0a5d7c1d4cc45e916332
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Dec 4 17:08:58 2007 -0500

    RADEON: add MacModel imac-g5-isight for iMac G5 iSight
    
    Thanks to Ãtienne Bersac for helping to figure this out.

commit 54bfd522405d9fdfb69d3a59e111ac3d63483dbb
Author: Ãtienne Bersac  <bersace03@laposte.net>
Date:   Tue Dec 4 14:22:42 2007 -0500

    RADEON: fix typo

commit 5022d006cfc06ca0395981526b2c2c94c6878567
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Dec 2 17:27:33 2007 +0100

    radeon: Further XVideo fixes.
    
    * Make sure pitch constraints are always met for DMA upload blits.
    * RGB24 is not affected by endianness.

commit 6ed55b70b23dfdc7b41103ea59c1df2bda5e41e6
Author: Kusanagi Kouichi <slash@ma.neweb.ne.jp>
Date:   Sun Dec 2 17:18:46 2007 +0100

    radeon: Fix crash with XVideo 24bit RGB images.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=13274 .

commit a697b590899bb7704ec4d7ae9a9c3cbbfcaef382
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Dec 2 17:11:20 2007 +0100

    Fix build against xserver master.
    
    (DE)ALLOCATE_LOCAL are gone.

commit 48e31cdaa0caa21573879af5b9267773fe89176a
Author: George Wu <geo@ocf.berkeley.edu>
Date:   Sun Dec 2 15:25:09 2007 +1000

    RADEON/R600: small code cleanup

commit 00b4480aa2c5d7f751e34fc964f431b90b14c8d2
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat Dec 1 14:18:40 2007 -0500

    RADEON: add options for force TV out as detected and to set TV standard
    
    Also fix a typo in internal tv-out parsing

commit 1e029fef5fe264f2ced445b80bf6070abcb84b82
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Dec 1 00:58:51 2007 -0500

    RADEON: move GPIO lookup to a separate function

commit dcbef1ba9dfcf35c28e058832a55adf00afb472e
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Dec 1 00:35:25 2007 -0500

    RADEON: fix typo in previous commit
    
    check gpio table revision before connector table revision

commit fdce0598a2228c48c84deae1d7bebb2d7b3e979b
Author: Alex Deucher <alex@samba.(none)>
Date:   Sat Dec 1 00:15:34 2007 -0500

    RADEON: convert atombios connector table parsing to use ATOM structs
    
    convert and add hpd info

commit e3d7de9cc956aec5f940ad6db09e826b3a69523a
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 20:14:42 2007 -0500

    RADEON: remove unused cruft from last atom import

commit d5d83411e8a884154d671aad440524507cce313e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 20:11:42 2007 -0500

    RADEON: save/restore avivo crtc cursor control
    
    this should prevent the cursor from showing up on in text
    mode or vesafb etc. after running the driver.

commit af0196f7bf0d1d5d211391149c18935d64ed2b06
Merge: d9858a2 0175b79
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 16:40:28 2007 -0500

    Merge branch 'master' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support
    
    merge master and fix conflicts

commit d9858a2b3744b99003cfb9f31b743a2d31b322e9
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Dec 1 06:49:59 2007 +1000

    radeon: add in pll spread spectrum workaround

commit 0175b79987ef4d7b0ce8238c3bdde989e504516a
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 15:37:42 2007 -0500

    RADEON: rework MacModel option
    
    this brings in some previous research from Michel DÃ¤nzer,
    Sjoerd Simons, and myself.  Hopefully, the driver will pick
    the correct MacModel in more cases.  This also changes the
    default connector table for desktop Macs to dual DVI rather
    than DVI+VGA as that seems to be the case more often than not.
    External TMDS chips are handled separately now as well.
    Eventually we should add an option to allow the user to specify
    what external TMDS chip they need, but we don't have enough info
    yet, so we'll rely on OF to init the external chip in most cases
    for now.

commit e1945f1f25a34310bd58ce128c8ff27ecc985618
Merge: b368b0f df7777b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 14:30:55 2007 -0500

    Merge branch 'atombios-support' of ssh://agd5f@git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support

commit b368b0f22cd1d7ef9b4c65d82929c76f3b82d573
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 14:29:27 2007 -0500

    RADEON: disable atom pll set for r4xx cards
    
    the clocks do not get set correctly in all cases.  this needs
    further investigation.

commit 5af15739571c09260750bcfd3620e16fd7fec862
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 30 14:24:30 2007 -0500

    RADEON: small cleanup of pll code

commit df7777bff40c1feabcc12d2148ad6ac5213efbb3
Author: George Wu <geo@ocf.berkeley.edu>
Date:   Fri Nov 30 17:49:33 2007 +1000

    Add LVTMA PWRSEQ registers to fix VT switching for LVDS

commit 9840a0fd4fc8c980533fcd4a02c55cd0d5634b6d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 29 13:27:37 2007 -0500

    RADEON: add MacModel "mini-internal" for minis with internal TMDS
    
    Some macs (minis and powerbooks) use internal tmds, others use external tmds
    and not just for dual-link TMDS, it shows up with single-link as well.
    Unforunately, there doesn't seem to be any good way to figure it out.

commit 017c939cf0a2b12fbdc1681cc70c28b23ae3b397
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Nov 29 02:52:14 2007 -0500

    RADEON: implement CLUT adjust support

commit 9963b0fe01feb6dd0cb555b874a48f6fa3b255cb
Author: Alex Deucher <alex@samba.(none)>
Date:   Thu Nov 29 00:46:23 2007 -0500

    RADEON: fix cursor offset on avivo chips

commit 6c56e3d7655b17e93e8823aefe34b05291104695
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 27 15:27:36 2007 -0500

    RADEON: switch r4xx to atombios load detection
    
    works great

commit 7561242e5b79bc2798ca3aace2b79e1a36949488
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 27 14:50:36 2007 -0500

    RADEON: re-org load detection for legacy chips

commit febdcc2dccd42acbcd68ae630b7811cae5c58e8a
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Nov 28 05:10:57 2007 +1000

    legacy: fix fb/agp read/writes

commit bb8545146959b748994be055d5b3de66ec66c8b2
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Nov 26 17:34:51 2007 -0500

    RADEON: first pass at TV/Component video
    
    Untested and not likely to work just yet.

commit e2bde646b864dca9056d9ecfe23a0d905647ea9a
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Nov 26 14:35:57 2007 -0500

    RADEON: move crtc output source selection into atombios_output.c
    
    The function fits better as an output function and should now
    work with clones as well.

commit 16c9be4107678a2a58d3418b7f1cc94d695ca8d6
Author: Alex Deucher <alex@samba.(none)>
Date:   Mon Nov 26 14:20:54 2007 -0500

    RADEON: add default connector table for avivo chips

commit 6f080d00e6f4f84d5e0d6b4eff302bf42c230e81
Author: Arkadiusz Miskiewicz <arekm@maven.pl>
Date:   Mon Nov 26 12:43:30 2007 -0500

    RADEON: fix backlight control on some laptops
    
    It seems the bios scratch regs are involved in backlight control
    on some laptops.  This patch fixes the problematic laptops and doesn't
    seem to break the previous bios lid and output control fixes.

commit dcf22aed87366f4625fb5042cb84fecccd9ceece
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 26 11:10:03 2007 -0500

    RADEON: only return status unknown for XPRESS chips
    
    this seems to cause more issues than it attempted to fix
    so limit it to XPRESS chips for now.

commit 206e280f02324641b4fe5a1986e26adf0e021fd4
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 26 09:39:27 2007 -0500

    RADEON: fix typo in man page

commit 4e792db655dc92d2864db36b4d8f6714908de8e8
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 15:44:44 2007 +1000

    r500: set default minimum pll freq

commit a13b4c69c105c096dd05e6de2c5c154c9a8bcc71
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 15:25:06 2007 +1000

    r5xx: cleanup pll code..
    
    Clean the PLL code to use the radeon pll structs.

commit 5d792b5673bbf4784eb0ec059221e9b57232a122
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 15:03:13 2007 +1000

    radeon: fix up memory mapping issues for vt switch

commit 558a2ef266c1ca517c7fb464b0ccfef83238c913
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 14:39:32 2007 +1000

    fix silly spaces

commit 1bda4424a7031de437acfca9c41d4b3668e36051
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 14:39:19 2007 +1000

    r600: add hi agp address for mc

commit 133234c31a294f24a3968a576aad2bb8b89d0f6a
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 14:15:18 2007 +1000

    atombios: use values from object header

commit dbf6eae7e7a4bd1bc60fefdc7ab6276ed3f097c4
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 11:55:05 2007 +1000

    atombios: add initial object header parsing for r600 cards

commit 6b103915c11fc79d2efc43c44fc2a00c3bc64ede
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 09:24:20 2007 +1000

    r500: make vt switch work again for me

commit d24208276aad7669feeed527dced60c76d39eae6
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Nov 23 08:50:25 2007 +1000

    avivo: fix typo in register saving

commit 197a62704742a4a19736c2637ac92d1dc5ab34ed
Author: Adam Jackson <ajackson@redhat.com>
Date:   Thu Nov 22 20:26:23 2007 +1000

    radeon: fix openoffice/render bug on r100 chips

commit 64010fc4eae8359c01e430f64252931242c91435
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Nov 22 20:25:31 2007 +1000

    Revert "Disable RENDER acceleration by default on some RV200 chips."
    
    This reverts commit 145da701bf4fb9c0ad9f95620b20914ae0126852.
    
    pull in fix from ajax next commit

commit 145da701bf4fb9c0ad9f95620b20914ae0126852
Author: Stefan Dirsch <sndirsch@suse.de>
Date:   Thu Nov 22 08:38:09 2007 +0100

    Disable RENDER acceleration by default on some RV200 chips.
    
    Novell Bug #341699: Render acceleration is known to be broken
    on at least "Radeon 7500 QW" and "Radeon Mobility M7 LW".

commit e810c3ae9908cd57e95b1b091cded87cbfc12fdc
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Thu Nov 22 02:37:55 2007 +0100

    really do not set up surface regs for depth buf on r100-class igps (bug #13080)
    
    fix the if condition testing for these chips...

commit 0cc7e94849c1525750fabd04cf58f2dee88372e0
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 17:06:17 2007 -0500

    RADEON: reorder crtc/pll setup

commit d56bde98efceaa8344e62f8e98db90c4bb642331
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 17:03:39 2007 -0500

    RADEON: fix crtc to output routing
    
    Thanks to AMD for the information

commit a12390c832abe423def60e39cd5a9118e5910339
Merge: d531792 e74dca1
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 02:24:48 2007 -0500

    Merge branch 'atombios-support' of git://git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support

commit d5317922f29a57b6c4127826a2fc126c5fd7c117
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 02:23:37 2007 -0500

    RADEON: attempt to fix crtc to output routing
    
    The output routing seems to be based on the output ids from the bios
    connector tables and the connected status in the bios scratch regs.
    I don't fully understand this yet, but this seems to work
    for the most part, however changing modes can sometimes
    lead to a blanked head.  This can be remedied by forcing
    a dpms off cycle.

commit 81ce299bffd75540925b4c8234adf11226147165
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 01:35:44 2007 -0500

    RADEON: provide clearer debugging info

commit e74dca19416b13f97db9d1fc06299b988057d6a4
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Nov 21 16:24:25 2007 +1000

    re-enable mobility chips

commit 9c5b813dd6b3492cbc9833bc59792a5cec457e51
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 01:22:42 2007 -0500

    RADEON: major re-org and clean up of atom output control
    
    - use radeon_output->devices to determine output
    - clean up and simplify dpms and mode set

commit 7634cb6b96f938bc6615eb2c49ae75aaefd04cce
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 00:10:14 2007 -0500

    RADEON: make naming consistent and remove some cruft

commit 908748343fc9a6cdc38af0fc028c63a82766da3f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 21 00:05:42 2007 -0500

    RADEON: store devices ids from bios for each driver output

commit 3975da2ea8cb628f7f66c3f26c5dfa181cd1c532
Merge: e283aa3 295ce27
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 20 23:52:29 2007 -0500

    Merge branch 'atombios-support' of git://git.freedesktop.org/git/xorg/driver/xf86-video-ati into atombios-support

commit e283aa332adf0134243a4fa3d14263719cd8a3fd
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 20 23:35:46 2007 -0500

    RADEON: add LVDS atom support

commit e4bc3e1e7bb45571367d41b5328ff2590810b0f9
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 20 18:09:29 2007 -0500

    RADEON: enable/disable the right TMDS controller

commit 3e47683ffaa44a89cda9bcddf530643befb27efa
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 20 18:01:15 2007 -0500

    RADEON: fixup for bios tables with wrong connector types

commit 7412952eb1d1e9857cdab8417f7305f676900827
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 20 18:00:12 2007 -0500

    RADEON: switch to using ATOM defines for bios device table

commit 295ce277bb0a44b9539b3dba575e7aff279dc2d0
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Nov 21 08:56:40 2007 +1000

    add missing files for make dist
    
    noted by ndim on #radeonhd

commit 20083b0695987b25e442ecbdec24f3cb6f1ac2ae
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Nov 21 08:53:44 2007 +1000

    LVDS on r500/r600 needs some work disable mobile chips for now

commit e4b8a4479ddea9b083b3a763dc0b9302e7b9a82a
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Nov 21 08:06:12 2007 +1000

    r600: add memory controller regs from AMD

commit aa88da974b97ea1e9bbb47b3494543575c09d912
Author: Dave Airlie <airlied@redhat.com>
Date:   Wed Nov 21 08:01:35 2007 +1000

    rs690 is !> r600

commit c8872603454e6a4ffed9fc7d9adc2c364a429608
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Tue Nov 20 22:33:39 2007 +1000

    radeon: restructure pci ids to avoid effort later
    
    This uses a single file with all the pciids and parameters for radeon
    family and setup in it. I don't run the perl script at build time to avoid
    a perl dependency on build but adding pci ids should be done via the csv file
    with openoffice or gnumeric if possible.

commit a5b34c2f1f7d5346c4489cb30e07291d1217026c
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 16:37:29 2007 +1000

    r600: use standard memory controller setup paths

commit 4a523da5221d53f2efa49da2326500e9b0b9f14d
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 15:31:11 2007 +1000

    r600: get r600 to work non-accelerated.
    
    DDC still not working yet

commit 80023441ba46882bc810ff3790c7148059f155f5
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 14:10:23 2007 +1000

    r600: block r600 startup due to lack of memory controller info

commit f6fbbacc17bf9b1073d3e993b225987fd9173182
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 13:41:55 2007 +1000

    atombios: add warnings for r500 and r600

commit 45a8b083c123b820c008f04ab857a64a8facec14
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 13:37:00 2007 +1000

    atombios: add all r5xx and r6xx pci ids

commit 5d023e2c3c2ab44ea57ffadc9607025d602c376c
Merge: 0d1e0c7 c887260
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 13:02:43 2007 +1000

    Merge branch 'master' into atombios-support
    
    Conflicts:
    
            src/radeon_chipset.h
            src/radeon_driver.c
            src/radeon_probe.c

commit 0d1e0c7805b3d8e56ccb49465e6b144afb7bdc51
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 09:08:04 2007 +1000

    r5xx: add 71c5 for macbook pro

commit d5909b30595c103bb5f42cd1704330f944bba49c
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 08:15:58 2007 +1000

    r5xx: cleanups after last merge

commit fe2f7a09050fb7a345a1f52239f8f3c4f1053891
Merge: 744c8cb 49055d8
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 08:04:32 2007 +1000

    Merge branch 'master' into agd-atom-merge
    
    Conflicts:
    
            src/radeon_cursor.c
            src/radeon_output.c

commit 744c8cb6c293fcaa687566f52901644e699baace
Merge: e258fbe e530af7
Author: Dave Airlie <airlied@redhat.com>
Date:   Tue Nov 20 07:56:33 2007 +1000

    Merge branch 'agd-atom' of ssh://people.freedesktop.org/~agd5f/xf86-video-ati-atom into agd-atom

commit e258fbe411d255a1044b61d7ff738aee3fb5b7f4
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 16:35:05 2007 +1000

    makes 2-headed cursor work

commit e530af79adf51b3e95a0eca676c915a34dcbf4a7
Merge: 69e197f 52aba8d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:59:30 2007 -0500

    Merge branch 'agd-atom' of /home/alex/git/airlied/xf86-video-ati2 into agd-atom

commit 69e197f2c8002aacf2587754c8d3bd63c88f85b1
Merge: 5e8940f 862dcab
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:57:34 2007 -0500

    Merge branch 'agd-atom' of /home/alex/git/airlied/xf86-video-ati2 into agd-atom

commit fca47ad083449f4cf9063dd970cdcebea6a7f110
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 15:53:40 2007 +1000

    add z3ro's pciids

commit 5e8940fa6e33d09091aa4bcf04b0f9e79596e1b8
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:52:38 2007 -0500

    fix logic in connector table check for TVs and switch counter to symbolic names

commit c19123fd9483758eb6b286c3dffcb6d79d5b1ee5
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 15:46:58 2007 +1000

    add firegl card on ajaxs machine

commit f02f340e466a415b4e01648ca1e323f4ce125885
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:39:19 2007 -0500

    Don't assign a gpio for TV

commit 52aba8d73189ba959f19c0437499d5e7a8829827
Merge: 862dcab 5e8940f
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 15:30:46 2007 +1000

    Merge branch 'agd-atom' of ssh://people.freedesktop.org/~agd5f/xf86-video-ati-atom into agd-atom

commit 862dcabfe0c10751d815e5cdd7436c10c2c2db10
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 15:30:08 2007 +1000

    r520: nail i2c enable/disable issue

commit f3dd7f413b670eeb6b8639f6677d72050ad5fe04
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:19:39 2007 -0500

    Don't detect TV out for now

commit 94de0e22d7229ca71e18e1e849d8545d9ca7bafe
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 14:47:33 2007 +1000

    i2c: fix bus enable stuff

commit 3f1fc7eef13ea02fa5119e9b51d499841b801f2d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Nov 19 00:02:14 2007 -0500

    CRTs/DFPs may share a DVI port, but TV and CV don't

commit 8f84c5ad4c4af14612ea68fe6f24d0d527f00acc
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 23:43:06 2007 -0500

    fix typo in loop

commit 384cd8f52c89d089c6559e2eedbae45641fcd14e
Merge: f3f0e4e 234b607
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 14:02:55 2007 +1000

    Merge branch 'agd-atom' of ../xf86-video-ati into agd-atom

commit f3f0e4ec92c935c89ddb2f4241fe4335a521b439
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 23:14:01 2007 -0500

    RADEON: unify connectortype handling

commit 234b6073054ac7630e82781683e666b94b2f12de
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 14:02:09 2007 +1000

    restore avivo memory map registers at correct places

commit 459a30ba511fe2fa8051380a9741fcfd9bb401ef
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 13:44:38 2007 +1000

    fix type for r520 agp code

commit 760af92412ef0d5cc44e52e7cec11fd80c4aaaeb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 22:34:59 2007 -0500

    RADEON: unify DDC line handling

commit e73bf6290da20dd61798ace775999ce1cb550934
Author: Dave Airlie <airlied@redhat.com>
Date:   Mon Nov 19 13:32:16 2007 +1000

    add x1900xt support

commit 2e37937bacd624d616b91c41006c113791ebe98d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 20:18:50 2007 -0500

    RADEON: step one in output rework
    
    re-organize the output type

commit 679e7a2e0d1b213524b8109193483bc9840fb116
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 17:56:51 2007 -0500

    Few fixes from the last commit.
    
    Update parser works fine on r4xx.

commit 1cd7cc3e6758ab1012f3ced6e958a1517f45557f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 18 17:44:36 2007 -0500

    WIP: new atom code comples.
    
    I commented out the object parsing for the time being as
    using it will require some thought as to new output
    related data structures.

commit b155fa872ee4ca5d801e942aee6e619cef104f35
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Nov 17 00:34:56 2007 -0500

    WIP: more new ATOM integration work

commit 67db114d97abed7a607467e5d67c7b4ffa2c347e
Merge: 7d06a87 ea15346
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 16 14:29:53 2007 -0500

    Merge branch 'agd-atom' of /home/alex/git/airlied/xf86-video-ati2 into agd-atom

commit ea1534659de87d3d75eb20d808d039cff22cb537
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 18:46:02 2007 +1000

    avivo: fixup some i2c stuff

commit 7d06a8791839ce6b22e2449646832b79cebf1b21
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 16 02:43:00 2007 -0500

    WIP: sync up with the latest ATOM bios code in rhd
    
    doesn't compile ATM

commit 3614d80ceb9a7b3615b0baab3cf2dd34ed4ab464
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 17:22:39 2007 +1000

    add missing hpd register

commit 9a2715fda97ac0ebcb45650a416e0652aab575b8
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 17:22:25 2007 +1000

    make i2c unlock/lock registers for gpios

commit 20dc549fff9a4137c93ebed449d05e0c437b6bc1
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 17:01:33 2007 +1000

    avivo i2c: consolidate the avivo i2c code

commit 3e62730f79a13883a65a568bc821bc56055a4ab7
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 15:19:00 2007 +1000

    atombios: fixup warnings in atombios files

commit cca7af3c4910983f7f090792986fcbfa0dc97cfb
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 15:04:01 2007 +1000

    remove avivo_reg.h

commit d39eb2077c6b2fc094ccd952772528eb9428c587
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 15:00:50 2007 +1000

    radeon: rename a large section of avivo regs to documented names

commit b7774c28dde72a205a40be78003df72eabfb9b1f
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 14:48:36 2007 +1000

    Add copyright headers

commit 3cfcd2164b400bd0d1cb4ede8eeb01abba9d75c8
Merge: efac14e 718bfd3
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 15 23:25:39 2007 -0500

    Merge branch 'agd-atom' of /home/alex/git/airlied/xf86-video-ati2 into agd-atom

commit efac14e669a0c6184f8848191eb49ffb21934ee1
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Nov 15 23:17:25 2007 -0500

    r5xx: fix typo for crtc offset

commit e6db621c37ff615be286462f000d67a662c5c331
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 15 23:15:56 2007 -0500

    fix INMC() and OUTMC() on !AVIVO chips
    
    WR_EN is bit 8 so don't use OUTREG8.

commit 52ba3fdd1ce05983fabedff234cfaf4c60fba38d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 15 23:12:30 2007 -0500

    atombios_dac_detect() takes care of primary vs tv dac itself

commit 49055d8aff91ff12186feaf5343c8fd2f96bcba0
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Nov 15 22:56:09 2007 -0500

    RADEON: set proper defaults for tv dac BGADJ/DACADJ
    
    we should get these values from the bios tables, but for now use
    some reasonable defaults.  This should fix the washed out color
    problems on bugs 1082 and 12844.

commit 821acf38b716ab87c3d07263d6e4a139fe54803f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Nov 15 22:28:42 2007 -0500

    RADEON: Make sure we set the MT properly for connected status unknown

commit a94123f33ec6584fbdfc4b9ecd543d1357de8814
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Nov 15 22:19:54 2007 -0500

    Revert "Portability fix from netbsd"
    
    This reverts commit c9264aa53bf1470ad9104d1e7c4a8ce13c49c270.
    This breaks damage support.  See bug 13244

commit 718bfd3b61879172eee819fdab7080d5d4c0a756
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Nov 16 10:37:04 2007 +1000

    r5xx: fix typo for crtc offset

commit e9d721c31372db045550f9562534b28f16121bb9
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Tue Nov 13 23:42:42 2007 +0100

    ignore sometime bogus agp_mode bit from chip (bug #13190)
    
    bit is wrong on at least X700 cards with rialto pcie-agp bridge chip,
    should be safe to use just the bit from the bridge hopefully to make
    agp setup work on these cards and not adversely affect others.

commit b865886d00907899297ae864358eb26d9980975d
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun Nov 11 20:38:41 2007 -0500

    bump for RC release

commit 7aeb35e5ad1aed6e78a3d8565fbfbfe66232ab45
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 11 19:29:30 2007 -0500

    fix from last commit

commit 2ea95900547165e86ad3f8a41ce3331a05bad60e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 11 18:43:03 2007 -0500

    Add full parsing support for atom bios connector table

commit 7ce730828c293f0810dfdc554df48dfd76e35c49
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 11 12:37:01 2007 -0500

    rework crtc output source setup

commit d61b6c78aa7810a2f9b9e2d9d95aab4295de80ce
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 11 11:58:17 2007 -0500

    make sure i2c bus exists before using it

commit 342e3e207efda42ba679731c30dfb9d5e9d5643f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 9 17:11:43 2007 -0500

    combine outputs based on id

commit 8078c299d5941460243944d55051547c1a4d3791
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 9 16:35:08 2007 -0500

    use atom to program plls on r4xx

commit 5febe2c96642f61d006abe6e8081e69d5b95adc0
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Nov 9 16:24:56 2007 -0500

    turn off vga control when using ext modes

commit 83f170c32c08c74a9e3466ffa0e0a0606c74427b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 8 19:33:13 2007 -0500

    add pci ids for X1550PRO

commit 5cdcaba0f6e9de2d15cfcc109ab97d9fd423e3bf
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 8 19:28:03 2007 -0500

    make sure to assign gpio

commit 2dcb852778301b9284a2b4906dcf64f95ed638b7
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Nov 8 18:39:23 2007 -0500

    pull in another of Dave's fixes

commit 96273016a0bbdfa4d3a4e6275a3b09eeeadaa534
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 7 01:22:30 2007 -0500

    fix and move crtc source set up atombios_output.c
    
    it's really more output related.

commit 5c495c81cc3bcd4a38d06954243ed3bdc85bdc07
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 7 01:04:11 2007 -0500

    add support for initing external tmds via ATOM

commit 5c13d9355280e6de44ebbf8de7ea89a6b91c7388
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Nov 7 00:17:28 2007 -0500

    add avivo output stuff

commit 68e7f5c67e2e9d2162b469ce31f452f3f89756b5
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 6 23:43:29 2007 -0500

    more avivo updates

commit 303562dfb57e13c027b2aa9289d54e547c829ff1
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 6 23:06:46 2007 -0500

    add additional connector types

commit 0d3e0735f710cb7b9505e4330997aa332f73c102
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 6 22:59:25 2007 -0500

    First round of avivo support

commit 0abfe3150ce3eed4db93ccc2975bd4622dfa54a7
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 6 18:47:00 2007 -0500

    Add atombios files

commit 20f01950e42babc308b4470df6a3c6628c932003
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Nov 6 18:04:43 2007 -0500

    for r4xx ATOM cards, just use ATOM for PLL
    
    while crtc timing and pll seem to work fine, output setup
    and routing don't seem to work too reliably with atom.
    AMD claims ATOM was still pretty new with r4xx so
    it's probably better to stick with direct programming for
    some things.

commit 37af2f6b52c8f217b205486742a6b46a864da8ed
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Nov 5 10:58:25 2007 +0100

    radeon: Use indirect register access for (un)hiding the cursor.
    
    This avoids hangs that occur when touching these registers while the card is
    busy with some cards.

commit 5659e2f1b08e44d0c4f21a403e91b4801ef78f62
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Nov 5 10:32:04 2007 +0100

    radeon: Fix build warning on powerpc.

commit d41d73f5f9d8baee7137e94da2c7852ea0412180
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Nov 5 10:30:23 2007 +0100

    Revert "radeon: Reinstate sync in radeon_crtc_show/hide_cursor."
    
    This reverts commit 0241cac643fa1c08a45ea44f5c670b290e760ad8.
    
    Taking the DRI lock in paths called from the SIGIO handler isn't safe. For
    example, the SIGIO handler may be called while the lock is held by an AIGLX
    context, resulting in deadlock. See e.g.
    https://bugs.freedesktop.org/show_bug.cgi?id=13005 .

commit 78a3eabff382e8ebe33df2039076fb083bcc361b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Nov 4 14:11:26 2007 -0500

    WIP: get ATOM crtc stuff working on r4xx

commit 5e9ebd8e496b72b051053d637c63b2956b7861d3
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Nov 3 20:46:17 2007 -0400

    Initial support for r4xx
    
    - add r3xx/r4xx MC access macros and functions

commit c106075ccb81ca2ee4894743e676fd37653c8dce
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Nov 3 18:29:20 2007 -0400

    More of Dave's ATOM init code.

commit e18f5d61806b445ad77d93e258fbce9422b52bb6
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Nov 3 18:20:55 2007 -0400

    Initial integration of Atom code and some of Dave's code.
    
    ATOM builds, but it's not hooked up yet.

commit aaafc6a8f33d4736c37c43d3fd5e43085a2590fb
Author: Brice Goglin <bgoglin@debian.org>
Date:   Sun Oct 28 21:10:32 2007 +0100

    Fix typo in 'disposing cursor'
    
    Bug #12984.

commit a5c55c418319c1315ad73c305ef48b44fe1d9580
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat Oct 27 19:46:11 2007 -0400

    RADEON: disable FP DETECT for DVI.
    
    These bits don't seem to be reliable or routed right
    in all cases.

commit 49cf7cb3db36ce7734f7e314a040a240191d6477
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 25 21:23:09 2007 -0400

    RADEON: Fix IgnoreEDID option

commit 70bbc0cfe699588f8ae4123efca0e1baffc91000
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 25 20:56:11 2007 -0400

    RADEON: clean up mode handling and improve reliability of DDC
    
    - Reduce the number of times we do DDC and don't
    skip the magical GPIO dance when doing DDC.
    - If no DDC modes are found, add the screen modes

commit 1a4f590c2ac071f0c348f38e9f26fa6093722453
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 25 19:25:36 2007 -0400

    RADEON: document DefaultTMDSPLL option

commit 2d26e0d0bcf25e210dc7771e76638dcfafcc2356
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 25 19:18:18 2007 -0400

    RADEON: Add driver option to force TV DAC load detection on

commit a9306b7986467c0794c91625ad2ece597b718462
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Oct 18 20:06:58 2007 -0400

    RADEON: fix possible crash in radeon_crtc_mode_set()
    
    when radeon_crtc_mode_set() is called during ScreenInit(),
    we don't have pScrn->pScreen yet.

commit 115b4b65ef679a46d90b7fc8ac22ace37038b3fc
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Oct 17 20:25:47 2007 -0400

    RADEON: Remove LVDSBiosNativeMode Option
    
    Shouldn't be needed any longer as I've finally sorted out
    the LVDS issues due to the crtc setup.

commit f2eb5c1cc69a4f7b0754ec6b2efde4fa1650ab6d
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Oct 16 18:54:28 2007 -0400

    RADEON: finish fixing LVDS/RMX
    
    For panels, both the mode and crtc values need to be updated based
    on the native mode timing.  This shoudl fix any remaining problems
    with RMX.

commit 93561688087493fccb7ac387d728feec61212180
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Oct 16 10:57:06 2007 +0200

    radeon: Handle 64 bit PCI resource bases better.

commit 08945fc8a14ba57e32350e85daa3354619e9e72e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Oct 15 21:12:46 2007 -0400

    RADEON: allow the user to set any tv standard
    
    allow the user to set any tv standard rather than
    limiting it to what the bios says is supported.

commit 571548b2b95ce289f26a77c11deb6266f0b18516
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Oct 15 20:33:56 2007 -0400

    RADEON: use native timing for RMX
    
    RMX should work again with native timings after the previous
    patch.

commit 2f87bff293a343b40c1be096933a5ae126632468
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Oct 15 20:06:28 2007 -0400

    RADEON: Fix subtle change in crtc reg init
    
    At some point we changed how hsync_wid and vsync_wid were clipped.
    Previously we used the field size as a mask when building the
    register.  This got changed to setting the value to the field
    size if it was greater.  this probably explains number stange
    mode bugs.

commit fd5bb7bb5e968127b87102320eccc1222f205e5a
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Oct 13 18:56:43 2007 +0200

    radeon: Improve detection of default value for Option "MacModel" on Linux.
    
    * Detect all PowerBooks with dual link DVI (according to developer.apple.com)
      and both Mac Mini G4 models. Other PowerBooks and iBooks should be covered
      by the 'detected as' line in /proc/cpuinfo.
    * Give specific instructions for overriding and reporting incorrect detection.
    * Only perform detection when Option "MacModel" isn't present with a valid
      value.
    * Close /proc/cpuinfo file handle when done with it.
    * Coding style cleanups.

commit fbf121add5584049627f07345fc502b2aefc88ce
Author: Eugen Dedu <Eugen.Dedu@pu-pm.univ-fcomte.fr>
Date:   Sat Oct 13 16:51:58 2007 +0200

    radeon: Derive default value of Option "MacModel" from /proc/cpuinfo on Linux.

commit 5db3afaa1fdb69d382ac769ef40191a4b964d28e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 11 20:25:20 2007 -0400

    RADEON: return status unknown for flaky chip/connector combinations
    
    This should at least get something on the screen.
    XPRESS chips, I'm looking in your general direction...

commit 1148d332f52f3780897aae3fcd5d6a67687c42cd
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 11 19:09:45 2007 -0400

    RADEON: fix potential crash in mode handling

commit 905b19df33d6f912336b65895e97775ffec07728
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 11 18:55:08 2007 -0400

    RADEON: small cleanup from last commit

commit 7afd04c1e4ffa6e4e5ba08ae90ba002237dc282b
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Oct 11 00:16:45 2007 -0400

    RADEON: tell the bios not to muck with the hardware while the driver is active
    
    by toggling the appropriate bios scratch regs you can tell
    the bios not the touch the hw while the driver is active.
    This should prevent the bios from scrambling the hardware
    when users open the lid or toggle bios hotkeys.
    
    fixes bug 12567

commit 1b231d28fdda5cdc44bb9d2075d4edfd8f17e21f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Oct 10 21:54:46 2007 -0400

    RADEON: attempt to detect lid status on legacy bios
    
    I'm not sure how reliable this is.  The lid closed
    bit only seems to be set if the lid is closed at boot
    so LVDS will default to on if you restart X with the
    lid closed after boot.

commit 47ef583b993607bc3a372dd125c6e5228c4ec7bf
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 10 19:35:31 2007 -0400

    RADEON: more XPRESS connector table hacks
    
    Seems XPRESS desktop chips with DVI-D list a proprietary
    connector type rather than DVI-D.  try and do the right thing.
    Also, XPRESS chips seem to include connector type 8 and ddc
    type 8 which are unknown at this time.

commit c9264aa53bf1470ad9104d1e7c4a8ce13c49c270
Author: Joerg Sonnenberger <joerg@britannica.bec.de>
Date:   Tue Oct 9 23:18:29 2007 -0400

    Portability fix from netbsd

commit 80eee856938756e1222526b6c39cee8b5252b409
Author: Matthieu Herb <>
Date:   Tue Oct 9 16:17:50 2007 -0400

    RADEON: fix console restore on netbsd
    
      Include the mode restore bugfix from monolithic Xorg, that is derived
      from the version in xsrc which in turn was provided by Matthieu Herb
      over 3 years ago on the XFree86 lists. Suggested by various
      developers, hold-back due to the working state in xorg-server 1.1.1.
      Tracing down the exact change showed that the changed default color
      depth made this issue a lot more prominent again. Discussed with Eric
      Anholt.

commit 547fef4c6382f8a4951c086ee531b804cba31075
Author: Lars Weiler <pylon@gentoo.org>
Date:   Tue Oct 9 16:10:34 2007 -0400

    include stdint.h to fix the build on some platforms
    
    fixes bug 12733

commit ddec5783103045084a66a34d71326cc6e4a3f598
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Oct 9 13:27:27 2007 +0300

    theatre compiles with pci-rework.

commit 051435610a66735fd455bbb526fa294fcfe8c0b6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun Oct 7 19:39:47 2007 -0400

    RADEON: still more LVDS fixes
    
    Seems some laptops need the native mode from the bios for
    LVDS while others seem to prefer a CVT mode.  Add an option
    to pick the preferred mode.  The default it to use the bios
    table timing.

commit 0b03a73b7dcb4aa192c42f2a4c842d324c358122
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Oct 6 20:11:19 2007 +1000

    radeon: add support for DDC type 6
    
    thanks to arekm on xorg-devel for testing/feedback

commit 83d7506a603889b6c18736cff9b2cd3296c95c84
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Oct 5 20:25:04 2007 -0400

    Bump for RC release

commit fe66cc4e02a52e1d014ae5de192c65e8abd7f58a
Author: Tormod Volden <bugzi06.fdo.tormod@xoxy.net>
Date:   Fri Oct 5 20:10:55 2007 -0400

    RADEON: rename to PCI_CHIP_RS485_5975 everywhere
    
    RS482_5975 is actually RS485.  see bug 12048

commit 314e8fdbe5369e4c1786d176d03d0d2a046f25d5
Author: Tormod Volden <bugzi06.fdo.tormod@xoxy.net>
Date:   Fri Oct 5 20:05:54 2007 -0400

    RADEON: Disable DRI by default for RS482 cards
    
    fixes bug 12048

commit abbafe6db7c0d24efc61a05950d4214c00d3f043
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Oct 4 11:33:09 2007 +0200

    radeon: Fix compile warnings.

commit 1110957ba703475847b8e72023c6edcbd1068aef
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Oct 4 11:32:48 2007 +0200

    radeon: Fix for pci-rework.
    
    Surprisingly easy, thanks to George's pci-rework changes.

commit 7addf41885ec5658f531624a9c24ea5bd7d22d19
Merge: 3a958ba 78c6bd3
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Oct 4 11:06:08 2007 +0200

    Merge remote branch 'origin/pci-rework'

commit 3a958ba136c3fae5a4ddd56373ac7cd47046f10e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 3 22:59:14 2007 -0400

    RADEON: remove some cruft

commit b6bda79f72df5e5bf9c6b71fa3298e765da506bd
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 3 22:56:27 2007 -0400

    RADEON: more fixes for single crtc chips

commit 5f5c4e6ad61c45c24f1443b91b4bc5375efdebc0
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 3 22:46:21 2007 -0400

    RADEON: remove RADEONSaveMode()
    
    It's only called by RADEONSave(), so just move its
    contents into RADEONSave().  this mirrors RADEONRestore().

commit bfede412b3a3cd11769a580b167c528734146096
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 3 22:19:16 2007 -0400

    RADEON: minor fixes for external TMDS

commit 597dffce9bdc200003d0be880235258386a0bdd7
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Oct 3 21:43:08 2007 -0400

    RADEON: final fix for RMX/LVDS
    
    It seems that on quite a few laptops the LVDS H/V timing
    from the bios tables are way off or just doesn't work period.
    Either we are using it wrong or we need some additional checks
    when we parse it. Only the dot clock seems to really matter,
    so use cvt modes and update the dotclock.  This seems to work
    correctly in all cases.

commit cc0c2d8e61600652b1f9cb3dc49db2ef62b1e40d
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Oct 3 00:59:37 2007 -0400

    RADEON: Finally sort out LVDS modes
    
    - The panel timing from the bios tables is for the crtc,
    not the native panel mode, so add cvt modes for the panel
    and fix up the crtc values in mode_fixup().
    - rename and reconfigure RADEONValidateFPModes() to what it
    really does: add screen modes.  I suppose for backwards
    compatibility we ought to add the screen modes to every
    reasonable output, but everyone should really use xrandr
    or an output monitor section to add custom modes.  Hopefully
    this will go away at some point.

commit 0ca184c3c35032df39ea7ce5d2d4aba1a97b6426
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Oct 2 19:38:18 2007 -0400

    RADEON: fix RADEONInitDispBandwidth() on single crtc cards
    
    Should fix bug 12490

commit a5fb2a5d54cdd562a97881cdea1a4af35b483aab
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Oct 1 08:48:27 2007 +1000

    radeon: fix powerpc build

commit 22519fde1e002f28d6036d448fcd18452d00f1bb
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Sep 30 13:11:20 2007 -0400

    RADEON: add support for ext tmds table and ext tmds chip init
    
    This probably won't work on all chips as the various gpio lines
    seem to need special magic to to actually talk to the i2c slave
    chips.

commit dcc376e2d2a13329dd03f1bc4b471329757a6f5f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Sep 26 23:27:38 2007 -0400

    RADEON: remove cruft

commit 99ceaefa18c6e07b55106cca0ea8996fa73667be
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun Sep 30 12:02:54 2007 -0400

    RADEON: more work on LVDS mode validation and fixups
    
    Hopefully this will fix up the weird mode issues with LVDS and
    native and RMX modes, but I can't seem to get quite the right
    combo to fix everyone.

commit d808781d48adf01e80b5bb476bae2d2f599030f1
Author: Dave Airlie <airlied@redhat.com>
Date:   Fri Sep 28 14:50:42 2007 +1000

    rc410: disable DRI by default due to it not working

commit 4d9f944e40c6b9ac7e80428dff49c6e83fda1d8f
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Sep 27 17:50:15 2007 +0200

    radeon: Fix build on little endian platforms.
    
    This was accidentally broken when moving away from using pixmap data pointers
    directly.

commit 5902e913010a2fb0c17efe01f9aade73f9646f16
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Sep 27 12:53:34 2007 +0200

    radeon: EXA pitch fixes.
    
    The combined pitch/offset registers only support pitches up to 16320 bytes.
    
    With EXA >= 2.3, set the maxPitchBytes field accordingly. With older versions,
    limit maxX such that the pitch of 32bpp pixmaps doesn't exceed the limit.
    
    Also check the limit in RADEONGetOffsetPitch just in case.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=12551 .

commit ca728973bce504e03bf6228d18287906c35eaa3f
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Sep 27 11:14:21 2007 +0200

    radeon: Don't use pixmap data pointer directly with EXA.
    
    Fixes segfault with current xserver master without AccelDFS.

commit 21593d04d222b05dbba9abd31eaa3bfb91d999b6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Sep 24 23:01:20 2007 -0400

    RADEON: more clean up of mode code
    
    also print out LVDS mode info from bios for both
    legacy and atom bioses

commit 22cccb99d762567757d3fd38795f71e943f1faf9
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Sep 24 00:10:01 2007 -0400

    bump for RC release

commit fad9e7b00de051f632000eb2304ac23a524f7c8e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun Sep 23 23:43:26 2007 -0400

    RADEON: Rework LVDS mode validation
    
    The old validation code wasn't really well suited to randr.
    This fixes several issues:
    - missing display size for panels with edid
    - broken duplicate modes

commit bf9674b9df351108e069d037ec10869a4154a881
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Sep 23 15:01:34 2007 -0400

    RADEON: properly set default RMX types

commit b27135bce8b41d69290613b440a338b0a7fe0200
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Sep 23 14:44:38 2007 -0400

    RADEON: fix up LVDS handling for r3xx and newer

commit d5cf268be2c9b3e320d7101f5213f7d5609b6308
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 18:31:51 2007 -0400

    RADEON: Fix crash when Xv window is outside of either crtc

commit 8aca0ca6be7122e0ece20985a1862553a1b225c0
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 17:56:50 2007 -0400

    Revert "RADEON: fix crash when Xv window is outside of either crtc"
    
    This reverts commit 9109e62e3be7f96b41b534ab517fdf1baf458806.
    
    This breaks ABI.  better fix to come.

commit d6e1d9be1cd5786a24ed4bb8e45fa7e04df56622
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 16:14:06 2007 -0400

    RADEON: Don't make the entity as shareable
    
    This should prevent people from mistakenly trying to run
    zaphod mode

commit 81114af1cdddc0b10d076f2e38c7a00c1223cc48
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 15:51:23 2007 -0400

    RADEON: preliminary support for mac mini
    
    Option "MacModel" "mini"
    may not be 100% correct yet

commit 6c482e453bc8156886294d0c1b8f3f1b3dcf4b36
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 15:11:20 2007 -0400

    RADEON: Fix RMX on LVDS
    
    LVDS + RMX doesn't seem to like having the crtc values tweaked.

commit 9109e62e3be7f96b41b534ab517fdf1baf458806
Author: Michel DÃ¤nzer  <daenzer@debian.org>
Date:   Sat Sep 22 14:19:10 2007 -0400

    RADEON: fix crash when Xv window is outside of either crtc
    
    Should fix bug 12175

commit d2ce4a5003ce1291ea2327b2c00a0b24408fe26c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 22 10:41:55 2007 -0400

    RADEON: RMX updates
    
    - add option to turn off RMX
    - turn off RMX by default on DVI
    - add infrastructure to support more RMX modes

commit f95b9ab729376083bf0d12987ee260ec2aba721e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Sep 21 00:12:37 2007 -0400

    RADEON: remove more old cruft

commit 5a6f74103f0ec0d451d0e2573442efe5922848af
Author: Maciej Cencora <m.cencora@gmail.com>
Date:   Thu Sep 20 23:56:08 2007 -0400

    RADEON: fix video in on RV380 (tested on X600 VIVO)

commit c72a365386e19f9257db041d44b09ad499cc9f6a
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Sep 20 23:49:57 2007 -0400

    RADEON: fix up dvo support (still no external chip init)

commit 5e4d98470b6412a686883c554e7eb7badbe78c4d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Thu Sep 20 23:22:48 2007 -0400

    RADEON: round 3 on the PLLs.  should fix the LVDS issues

commit c5e2a2f09af807006c7ea493a8e90ff77abe207c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Sep 19 19:58:28 2007 -0400

    bump for RC release

commit 46ff78b9f010ca24178d4363761be00eb3ecb632
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Sep 19 19:49:58 2007 -0400

    RADEON: add default connector setup for single crtc chips

commit 509ca0cb0e1cde905b47db2bbac6f2a58523b279
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Sep 19 19:41:17 2007 -0400

    RADEON: fix external TMDS parsing in legacy bios connector table

commit 5a59547ef7e986c9613023d941c3354cd476faf1
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Sep 19 19:28:09 2007 -0400

    Revert "RADEON: initial pass at external TMDS support"
    
    This reverts commit 4000a710c93dd2d82891e4082bc7fa922ba9c5f4.
    
    This needs to be reworked and needs more soak time.  so revert
    for now.

commit dc333884c540d536bffe51a5ebfaf1822af6a91c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Sep 18 22:23:12 2007 -0400

    RADEON: fix plls again
    
    previous fix seemed to break other chips.  Lets see how
    this goes.

commit 271e541088f455d1cfedff87e88c9a4fdbdbe424
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Sep 18 22:12:31 2007 -0400

    RADEON: Remove more mergedfb cruft

commit 8ae69c496eba701e744cca0605f73242673f7b3f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Sep 18 20:12:21 2007 -0400

    RADEON: adjust pll restore
    
    some chips seem to be pickier than others. fixes bug 12467

commit 8a84dc8ee260716026fa661a6dced2000621efa2
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Sep 18 11:53:39 2007 +0200

    radeon: Remove declaration of unused variable.

commit 2fbbd9c5f0ec27e72780e8b054bc59502f1e5651
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Sep 18 00:45:56 2007 -0400

    RADEON: note that MergedFB support has been replaced with randr 1.2

commit 81b708dbd35c29bf2d67e8c655af97b60e61498b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Sep 17 23:54:03 2007 -0400

    RADEON: turn off load detection on tv dac by default
    
    it's just too unreliable and even when it is most people
    don't want it.  enable it via output attribute or force
    the outputs on with xrandr

commit c3ab53159d42157985a25e9125eaa5362273b73d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Sep 17 23:28:51 2007 -0400

    RADEON: XPRESS connector tables are crap
    
    besides specifying the pimary DAC (which they don't have),
    most seem to specify DDC_CRT2 for DDC, which does not seem
    to ever work.  Some have reported success with DDC_MONID so
    lets give that a try.

commit 1fafa970fa78ddea29a8804b6cd0aea52e4fa2e1
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Sep 17 23:10:13 2007 -0400

    RADEON: ignore edid digital bit on analog ports
    
    Some monitors have this bit set even on analog ports

commit 4000a710c93dd2d82891e4082bc7fa922ba9c5f4
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Sep 17 23:04:17 2007 -0400

    RADEON: initial pass at external TMDS support
    
    - Based on Dave Airlie's initial work and the dvo support
    in the intel driver.
    - Only sil164 is supported at the moment.
    - Once we get some testing and such, we ought to move the dvo
    drivers out of the drivers so they can be shared among all drivers
    - Doesn't seem to work on my card (r4xx ATOM) card ATM
    - Legacy bios table programming sequence not implemented yet

commit 38515d402555eaa61c686d42973e59f659b07466
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 15 11:39:47 2007 -0400

    RADEON: don't restore bios scratch regs
    
    Leave them as programmed by the bios
    fixes bug 12424

commit 78c6bd305f2ea70629d1dda3c0c48c067451f5fb
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Sep 10 19:00:16 2007 +0300

    [mach64] Revert to multiple mappings per BAR.
    
    libpciaccess added subrange mappings and mtrr handling.
    
    compile-tested only.

commit 0241cac643fa1c08a45ea44f5c670b290e760ad8
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Sep 8 00:22:40 2007 +0200

    radeon: Reinstate sync in radeon_crtc_show/hide_cursor.
    
    Make sure the DRI lock is held though, as these can be called asynchronously.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=12245 .

commit 49933e2f7d590811f2bc8c0d51a09f3b7f14845e
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Sep 1 12:23:07 2007 -0400

    RADEON: automatically disable tiling if requested virtual desktop exceeds surface limits
    
    Also, tweak default desktop sizes and add some informational messages

commit d49a60bc939c9f3e9d57c23e44263f5bb52f09fb
Author: Sjoerd Simons <sjoerd@luon.net>
Date:   Thu Aug 30 11:40:13 2007 +0200

    radeon: Fix Option "MacModel".

commit 2b860726fff058623e0e8e1b0aca092c246875ce
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 30 11:38:28 2007 +0200

    radeon: Don't build currently unused RADEONSavePalette.

commit 12187a6aa93049c002a4171344d03c713f7f3c5d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Wed Aug 29 23:11:30 2007 -0400

    RADEON: Add quirk and connector tables for apple laptops
    
    As far as I can tell there are three apple laptop variants:
    ibook              - LVDS, TVDAC drives TV or VGA via dongle
    powerbook-duallink - LVDS, TV, External TMDS/Primary DAC
    powerbook          - LVDS, TV, Internal TMDS/Primary DAC
    use Option "MacModel" "<string>"
    to enable the appropriate quirks where string is one of the above
    
    We can't yet init the external TMDS directly, but if OF inits it,
    it should work. This should also fix bug 9955.
    
    Please test!

commit 61c1fdaa8553581944f78a11e6f9aa76163a468a
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Aug 28 23:47:19 2007 -0400

    RADEON: add option to force tmds pll to default table
    
    Also rework the tmds pll output attribute handling a bit

commit 0d9087bc60bb95c770b899cfed29699c02bdac49
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Aug 28 23:08:20 2007 -0400

    RADEON: remove some cruft forgotten in a previous commit

commit 6ff0645ecfe65727e8ef5d5e6215b4e03078e1a5
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Aug 28 15:37:11 2007 +0300

    [mach64] Convert to pci-rework, keeping source-code compatibility.
    
    It still uses the old probe method though, this is due to the ati wrapper.

commit 7b38d9a1209f87255e5bb0aefe46a363ce4fb6ef
Merge: 2e3d43a 673f799
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Aug 28 16:01:12 2007 +0300

    Merge branch 'master' into pci-rework
    
    Conflicts:
    
            src/ati.c

commit 673f799729824f4439dd5f681f75dd5aab50947f
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Aug 28 00:42:30 2007 -0400

    RADEON: Update tv attributes immediately

commit ad6f7ad1b2ccae0bc0a416b9b0ca22709c9d5199
Author: Alex Deucher <alex@botch2.(none)>
Date:   Tue Aug 28 00:08:41 2007 -0400

    RADEON: remove the "default" tv_standard option

commit 17e0f9e6cbfdb115034d327bd34d46339fd632b7
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Aug 27 23:59:03 2007 -0400

    RADEON: enable load detection for tvdac if output count for tvdac < 2

commit 42839fb5a8584196e7b18375bff6c426ed0347d9
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Aug 27 23:44:13 2007 -0400

    RADEON: make load detection an output attribute for analog outputs
    
    Since TV/VGA/DVI-I can share the TV DAC, we often get false detection
    of all inputs that share that DAC.  Make load detection an output
    attribute.  Enabled by default on primary dac and on cards where
    tv dac is (usually) dedicated to tv (non-IGP mobilities).

commit a5a1055d64ab4fa16bfb03a412ae6c4fe69ff65d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Mon Aug 27 22:42:22 2007 -0400

    RADEON: make tmds pll an output attribute
    
    sometimes the bios tmds plls are busted for certain
    monitors. sometimes the dirver tables are.  Let the user
    pick at run time.

commit a12e4aa01bf1c5723c3c791ff9bdc26eef21d5ea
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Aug 26 18:51:29 2007 -0400

    Bump for new release

commit d43596e5f5d7c60f96b57bc3e743a9b40eb7109d
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Aug 26 18:07:50 2007 -0400

    RADEON: Fix rotation.  works now

commit 47eb3327c258bb0cfd9a1d5677624b9988a39057
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Aug 26 15:43:22 2007 -0400

    RADEON: minor tweak to tv out

commit f36720377737210c985b196d9a988efdd767f1c7
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Aug 26 14:13:06 2007 -0400

    RADEON: fix depth 16 palette for real this time

commit f2b13f1457bf860b075310d3962254be0ed7bea3
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sun Aug 26 13:27:19 2007 -0400

    RADEON: Only update pixclks_cntl when updating tv routing
    
    No need to re-set all of the pll2 stuff

commit 5d044b9f74c7aa7e12f2822896fed881e2ca9d19
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Aug 25 21:03:08 2007 -0400

    RADEON: fix crtc clipping for Xv

commit 3fd2d22a02812d5f86cdc1c9503f48362b0c362b
Author: Alex Deucher <alex@botch2.(none)>
Date:   Sat Aug 25 17:37:35 2007 -0400

    RADEON: remove fbdev option
    
    FBDev support is currently broken, and it not really compatible
    with randr

commit 3469e1aa08792890fa6a5c72da52a1992a0b382c
Author: Alex Deucher <alex@botch2.(none)>
Date:   Fri Aug 24 20:42:13 2007 -0400

    RADEON: add extra green data in depth 16
    
    Apparently some radeons need this?

commit 71f650d1bc432514516f7ac64a5e8a54c5227881
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Aug 24 09:21:39 2007 +0200

    Require xorg-server >= 1.3 for RandR 1.2.

commit d7230939f523610c57f92bdfc72966bdbc6f1070
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Aug 24 09:21:14 2007 +0200

    64 bit warning fixes.
    
    For printf vs. CARD32, use %u or %x and and a cast to unsigned.

commit 91c45fedfd155a153dcd2c3f3e30986bfbd44e6f
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Fri Aug 24 15:05:01 2007 +1000

    radeon: don't disable dac if either tv or vga is using it
    
    On my rs480 I had to vt switch to get hotplug VGA working due to the tv-out
    code turning off the dac when the vga code was actually using it.

commit 056ca6bb5adf974290693b55de6cd6880d2132d1
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Aug 23 20:19:47 2007 -0400

    RADEON: NONE to None to match other port info

commit 13fd53286bdda2c55683bdb5f63e7d345f6c63ef
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Aug 23 20:17:51 2007 -0400

    RADEON: set (hopefully) reasonable default max desktop sizes
    
    Based on the amount of vram.  We really need ttm...

commit 53bad86ca48a9b6529c1f0989ee568d9d48841c6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Aug 23 19:24:59 2007 -0400

    RADEON: clean up the logic in crtc_mode_set()

commit 4712dedea225e9e07177aebda2ffc6290d1f53c7
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Aug 23 18:51:34 2007 -0400

    RADEON: Always assume LVDS is connected
    
    Not all bioses seem to set the right scratch bits.  If we have
    LVDS (via bios table or otherwise) assume it's connected.

commit b0f170c5f736ecba1a5899d602c4173fe9b9b1fa
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 12:55:40 2007 +0200

    radeon: Remove unnecessary #include <time.h>.

commit ac54c0e4360099697755d14b1030def73d8235b0
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Aug 22 14:33:59 2007 +0200

    radeon: Warning fixes.

commit de26e406f52b3b13f03eee2b8023924ec6406f0a
Author: Alon Ziv <alonz@nolaviz.org>
Date:   Mon Jul 30 22:47:59 2007 +0300

    radeon: Sane handling of timeouts in WaitForVerticalSync(2).
    
    RADEONWaitForVerticalSync() and RADEONWaitForVerticalSync2() need to wait
    for a timeout specified in milliseconds; looping around usleep() causes
    the timeout to be unnecessarily long, as the OS may sleep longer than
    requested (on Linux the minimum actual sleep value may be several ms).
    
    The new logic uses gettimeofday() in the loop to see when the (absolute)
    timeout has arrived.
    
    Signed-off-by: Alon Ziv <alonz@nolaviz.org>

commit c66e5de26ae93caa368213f3cce139aacec955d2
Author: Sascha Sommer <saschasommer@freenet.de>
Date:   Thu Aug 23 12:11:51 2007 +0200

    radeon: Round down RMX stretch ratios.
    
    Fixes issues with RMX scaling, see
    https://bugs.freedesktop.org/show_bug.cgi?id=8983 .

commit 633c1fff10a3be4c9f48c1995e330d60bf6abbb2
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 12:11:41 2007 +0200

    radeon: Sync pages when enabling page flipping with EXA as well.
    
    Exclude the DRI window(s) though to avoid scribbling over 3D rendering.

commit 4f8010ce22043c0f8d60c0f49d270ce98c9d2466
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 12:11:12 2007 +0200

    radeon: Don't synchronize DRI windows between pages when possible.

commit 7b527054a7c81d1d1dbc79d41b9e53064dab68cb
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 12:10:33 2007 +0200

    radeon: Restore memmap registers even if only AGP location changed.

commit d7ba9f001c0ab645984526afd0e64d1c6a6d654a
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 11:39:54 2007 +0200

    radeon: Change a test to info->IsIGP from several IGP families.

commit 8c7c22e22b6076abc80e4e1aaa8d1f4cf2f3ed14
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 11:38:17 2007 +0200

    radeon: Wait for pending overlay flip to finish before emitting new one.

commit 92fa7cc00688d7bfc1fb72e645ac30c6d92669c6
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Aug 23 11:38:16 2007 +0200

    radeon: Don't call RADEONDRIRefreshArea when the damaged region is empty.

commit 5cb20c2dc5eca9d7d7d78e9924ea1b90076e7253
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Aug 23 18:46:41 2007 +1000

    radeon: bug 11899 + debian 435040 - test for usefbdev before calling int10
    (cherry picked from commit 3334c247540b113f9c4a5ce1879d8648a45a959a)

commit 9d6261c024c697a211da4b6300420153eb72a264
Author: Roland BÃ¤r  <roland@verifysoft.de>
Date:   Thu Aug 23 18:33:34 2007 +1000

    radeon: bug 11860 fix some mem leaks

commit 7bc1f862bc5f992f213143fbafef52459ba7db4a
Author: Roland BÃ¤r  <roland@verifysoft.de>
Date:   Thu Aug 23 18:37:35 2007 +1000

    radeon: bug 11861 - dead code removal in radeon_video.c
    (cherry picked from commit 8e3a6f83016cd8c4cfd43ceee4cbf0a8dc018b2a)

commit 9d38c8aa1a7d6fb1af41ee8abdb4a95f94843538
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Thu Aug 23 20:10:24 2007 +1000

    radeon: cleanup some warnings

commit e4c8969b48a6c8dcc4e7f9852479d24a0204fc0d
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 23 19:56:21 2007 +1000

    updated release numbering for randr 1.2

commit 81a8093f2ffdce59d4e8a44f65f3d5c771fd6425
Merge: c08e6ec 53a67e3
Author: Dave Airlie <airlied@redhat.com>
Date:   Thu Aug 23 19:51:47 2007 +1000

    Merge remote branch 'origin/randr-1.2'

commit c08e6ec9e7ac06caee53689b0ec50ef6a7a0ba37
Merge: 5793e87 a0d0fcd
Author: Dave Airlie <airlied@clockmaker.usersys.redhat.com>
Date:   Thu Aug 23 19:42:19 2007 +1000

    Merge branch 'master' into randr-merge
    
    Conflicts:
    
            src/radeon.h
            src/radeon_bios.c
            src/radeon_display.c
            src/radeon_dri.c
            src/radeon_driver.c
            src/radeon_modes.c
            src/radeon_probe.h
            src/radeon_video.c

commit 53a67e31904bec9a3aa1bd24de8034dcafea1d2a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 21 21:20:41 2007 -0400

    RADEON: Fix color problem on pre-R3xx chips tv-out

commit e9719e8e02eef46717ae9b4d8c7998466dac30cb
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 21 21:17:20 2007 -0400

    RADEON: more tv out fixes and clean up

commit 36c22a49580d86a6518b67f31a78bd53d39491af
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 21 20:28:39 2007 -0400

    RADEON: fix tv-out on R3xx
    
    R3xx apparently needs the tv clock forced on.

commit 9470bd67731059f26859ed5f0bea3ade09e2c80c
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Aug 20 20:54:06 2007 -0400

    RADEON: Add DefaultConnectorTable option
    
    This option skips the parsing the BIOS connector table
    and falls back to chip specific defaults.
    Also remove man page section for the now gone bioshotkeys
    option.

commit a0d0fcd3bab765b4db25e04884fd8a342abb9c66
Author: iLisa Wu <liswu@ati.com>
Date:   Mon Aug 20 15:44:07 2007 +0200

    Fix crash with no valid mode in xorg.conf's modelist and empty Virtual
    
    If the resolution defined in xorg.conf failed to find a matching mode in the
    supported modelist, and no virtual desktop dimensions are defined the xorg.conf
    either, virtual X and Y dimension will be set to 0 which will cause Xserver
    crash.
    
    (Novell bugzilla #296856, closed)

commit b275febdb0918e8cebdffbb433b0eeb3ff4d3746
Author: Alex Deucher <alex@samba.(none)>
Date:   Sun Aug 19 20:55:32 2007 -0400

    RADEON: turn off TVCLK when blanking tv encoder

commit a90d675832ddb02c81ace010ccbf02619b70edac
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 16 21:55:14 2007 -0400

    RADEON: fix Xv clipping and overlay sourcing
    
    - Basically just copied from the intel driver.  I'm planning to push
    this to the server soon, but add it now to get things working
    and to provide compat for older servers.
    
    - Overlay crtc source control attribute now called XV_CRTC
    The old attribute XV_SWITCHCRT has been removed.  If anyone cares,
    we can add it back as an alias to XV_CRTC
    XV_CRTC: -1 auto, 0 crtc0, 1 crtc1

commit 5793e8753d11432bf95c7c6dd80c811e16aba058
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Aug 15 19:26:36 2007 -0400

    RADEON: Remove RADEONRestoreMode()
    
    Since we no longer use it to write modes all it did
    was restore some of the regs for a console restore.
    Just move the relevant bits into RADEONRestore() and
    remove it.

commit 6f011aaabaf18d66ffc255ad76aaf938b2396302
Author: Lisa Wu <Lisa.Wu@amd.com>
Date:   Wed Aug 15 19:17:51 2007 -0400

    RADEON: fix console restore on r3xx and r4xx
    
    When restoring the console we need to:
    1) we need to restore DAC registers after all other registers are
     restored and CRTCs are enabled.
    2) we need to enable CRTC2 registers before CRTC1 registers

commit c8dad98abb042c6abbbee18f9ae4db72084bc513
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed Aug 15 00:55:24 2007 -0400

    RADEON: make sure crtc routing is correct in r300_detect_tv()
    
    Also remove some unused variable

commit f8cd74435f0072dbf5f6e83d67d2d5e1f4e82c91
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 14 23:50:57 2007 -0400

    RADEON: minor cleanup

commit 6f398cd07ea734dd66a8eac71b629e59123d75b8
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 14 23:42:32 2007 -0400

    RADEON: Implement improved tv load detection for r300
    
    The previous implementation resulted in false positives
    on occasion.  This method works much more reliably.
    Based on beos code by Thomas Kurschel

commit 366a1d4c240ac93622caff97b652696db99bf2e6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 14 23:25:37 2007 -0400

    RADEON: Turn off tv encoder in disableoutputs()

commit 5b4a04c23e3f1ec2490418b111f417c16463c709
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 14 23:11:52 2007 -0400

    RADEON: Make sure RMX is always programmed for crtc1
    
    If the RMX registers are left as programmed by the bios
    this can lead to a blank screen when crtc1 is feeding a
    DAC.  Fix found and reported by Lisa Wu <liswu@ati.com>
    Fixes bug 11985

commit db2a828b2f21b92cd654b309d137204334975b89
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Aug 14 22:47:29 2007 -0400

    RADEON: Add load detection
    
    Based on the beos driver by Thomas Kurschel and the
    existing load detection code in this driver.

commit 6fc3ddbbb6fbbee1f6076c776e5b46c0c772b6d4
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 12 12:00:20 2007 -0400

    RADEON: order the VGA and DVI ports correctly

commit b7738d2ef82e1759adf78e5db1291f8739b4166f
Author: Alex Deucher <alex@botch2.com>
Date:   Sat Aug 11 17:50:42 2007 -0400

    RADEON: fix connector setup when there's no bios tables

commit d0895f67e327bb268fd59fcfd8fc22678d804f57
Author: Luc Verhaegen <libv@skynet.be>
Date:   Thu Aug 9 12:11:40 2007 +0200

    AGPFastWrite risk reduction.
    
    Actively warn the user in the log about the effects of AGPFastWrite and
    sanitise AGPFastWrite handling while we're here.

commit c01000bc684f6a23a38a52f0808182cefaa686bb
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Aug 8 00:07:16 2007 -0400

    RADEON: fix typo in comment

commit 5c3f49e651c36f3bd14fa29359e24825d8f7f77f
Author: Lisa Wu <liswu@ati.com>
Date:   Wed Aug 8 00:05:47 2007 -0400

    RADEON: make sure RADEON_CRTC2_CRT2_ON bit state is properly accounted for
    
    - when the TV DAC is used for crtc1 make sure to keep this bit set when
    initializing crtc2.
    - fixes bug 11894

commit 08fe7ad00fba523775e95b5e6295fe23a5119d60
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Aug 7 23:16:05 2007 -0400

    RADEON: fix ConnectorTable option after connector table re-work
    
    We may want to add the possiblity of more connectors to this option

commit f56b90a60393ed187c0e39e149b2a3a32331ea52
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Aug 7 23:08:02 2007 -0400

    RADEON: Make sure the default TV standard is supported

commit a88a0e77eec514325b4d07bf7be9fb04e6f8e244
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Aug 7 00:43:20 2007 -0400

    RADEON: minor fix to legacy bios connector table

commit 3752808d6c08a9727370ef8d79088e787791e131
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 16:13:39 2007 -0400

    RADEON: Always set MonType in radeon_detect()
    
    - Always set the the MonType in radeon detect even if no
    monitor is detected so users can still force disconnected
    outputs on.  For DVI-I users will have to set the
    dvi_monitor_type attribute to force digital or analog,
    everything else should just work.

commit b4ec3e436afb5bc99ec755cbd96eee9a1ec492a5
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 15:37:04 2007 -0400

    RADEON: add tv out properties

commit 1fc2a1120e7c05938e2bd72d3c7837ecff8bc9da
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 14:41:57 2007 -0400

    RADEON: switch DVI-I monitor type attribute to string

commit 7d8eb3751d74bd8a1fb9fa2d2fcb9c4c895f6ba4
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 14:31:18 2007 -0400

    RADEON: make backlight attribute lower case

commit e71bb88bc9052af8866fb6945dbc06dbb0e6d1c0
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 14:26:15 2007 -0400

    RADEON: switch RMX attribute to string type
    
    Still not actually hooked up.

commit 284323135ec04635dfa9cabd5790a35b953abca2
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 04:35:24 2007 -0400

    RADEON: typo

commit d1abdad167aa24ac970c69422435df443c82ebd6
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 03:45:02 2007 -0400

    RADEON: fixes
    
    - fix output ordering
    - set tv-out to return un-connected for now in radeon_detect()

commit 0cca25d8d6a0cb0d29b68e6cd9c699d1390aede1
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 03:19:24 2007 -0400

    RADEON: Fix DVI-I support in ATOM bios connector table parsing

commit ba5496ae7973786802962bf649dd91c219531749
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 02:27:32 2007 -0400

    RADEON: refactor output init to handle multiple DVI or VGA
    
    - refactor output init to handle multiple DVI or VGA with the new
    bios table parsing

commit 2ec22783ddf4c522df9e5fd1b2003854486d7a2b
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 01:39:35 2007 -0400

    RADEON: attempt to do the right thing for standards other than PAL or NTSC

commit cc8e1d95f1b90a259beea4e8cc4d7e29af660919
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Aug 5 01:14:36 2007 -0400

    RADEON: Major rework of BIOS table parsing
    
    - greatly simplify ATOM and legacy connector table parsing
    - use bios tables to detect LVDS and TV outputs
    - add support for TV table parsing (legacy only)

commit 1de52d91ff3a04b9b587b858e1e5be40d3a7fd0a
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 4 17:58:58 2007 +1000

    update configure.ac for 6.6.193 release

commit 371001c0433db1d17e468f3ea99ea57f922145a3
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 4 17:51:19 2007 +1000

    radeon: remove unused variables

commit 90946c53d7a4b23d03270ad6da0450759a11de3d
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 4 17:51:06 2007 +1000

    ati: add -Wall for gcc
    
    As per luc's "suggestion" in Novell bug.
    
    This may generate warnings on 64-bit until we get rid of CARD32

commit e30a145934df8f6a7f71290d6c75e4239f9d52f7
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 4 17:44:46 2007 +1000

    radeon: cleanup some pieces of the dpms/blank register programming

commit a156db5e8b037ed12a448f70045453baf9d0c504
Author: Luc Verhaegen <libv@skynet.be>
Date:   Sat Aug 4 17:37:18 2007 +1000

    Clean up PortInfo to CRTC mapping
    
    Also sanitise blanking and DPMS functions
    
    Fixes from Novell Bug 264720, and fd.o 10772

commit b61a49f2a5401560f85e11bcdd005287433cad12
Author: Alex Deucher <alex@botch2.com>
Date:   Fri Aug 3 19:27:59 2007 -0400

    RADEON: Change indexing of TV constants table in preparation for standard re-work

commit 288fa627274cb399059262d4f8bd844fc220a042
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 2 02:37:16 2007 -0400

    RADEON: avoid a divide by 0 and only save tv out regs if the chip has them

commit b66a1bc7994b33d349c1519761e431959311c85f
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 2 02:11:20 2007 -0400

    RADEON: fix tv-out enable/disable

commit d86592c8d5ce45d81d8a726c263e870e94fbcf11
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 2 00:50:51 2007 -0400

    RADEON: add missing break

commit 971feb34843225030fff05b3f9d3801534fbf2d4
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 2 00:50:04 2007 -0400

    RADEON: move tv dac enable to enabledisplay()

commit 98d7e00437bea78e03180eb30ff30de3455d9d1a
Author: Alex Deucher <alex@botch2.com>
Date:   Thu Aug 2 00:20:50 2007 -0400

    RADEON: limit tv modes to the only one we can program at the moment

commit 5c549c1d42f7bbc556942af13aff2661fae856f2
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Aug 1 23:45:07 2007 -0400

    RADEON: remove unused elements

commit b03978028fd975eb6946503d3a56a49c5a67f339
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Aug 1 22:39:16 2007 -0400

    RADEON: convert hard coded tv out values to calculations

commit cf54222f1fa37366b2c2b39c82f8afc02f32e63c
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jul 31 02:01:49 2007 -0400

    RADEON: more fixes...

commit 22d460d3ad991223aa1fbd7e5edeb45e36c65dc0
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jul 31 01:28:05 2007 -0400

    RADEON: fix name of tv output

commit 4822a2b837334f408f962646ab5ea4f8b0335ac9
Author: Alex Deucher <alex@botch2.com>
Date:   Tue Jul 31 01:18:40 2007 -0400

    RADEON: tv-out fixes.  works now.  tested on rv350.
    
    VT siwtch is busted, and xrandr doesn't play nice yet.
    uncomment code in radeon_output.c to test.

commit fe494c9db2995bb8ce7a028ecf9626e0cb0cf506
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Jul 29 15:26:34 2007 -0400

    RADEON: add info about tv out code and authorship

commit 6b9b7a7bdc290d07de9b226691ec8025af8db896
Author: Alex Deucher <alex@botch2.com>
Date:   Sun Jul 29 15:23:14 2007 -0400

    RADEON: Initial pass at integrated tv out support
    
    Based on the GATOS tv-out support by Federico Ulivi <fulivi@lycos.com>
    and information from ati with substantial rework by myself.
    
    Code is not actually hooked up yet.

commit 8d043db1817d94edeb72ab208dfea60026715d48
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jul 25 20:37:58 2007 -0400

    RADEON: Compute PLL VCO gain

commit 62f06d89da3f7160d5e4df8d7ce6fe1a94e9d07c
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jul 25 20:22:25 2007 -0400

    RADEON: write out saved vclk and pixclk values

commit 165a07cbbfcd94e3d1fac434b8fada8d29428a09
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Wed Jul 25 19:01:02 2007 +0200

    Minor fixes in the manpages
    
    - ati.man
      . add references to radeon and r128 manpages in SEE ALSO
        (Xavier Bestel in Debian bug #386001).
      . remove the manpage suffix from atimisc reference in the text
        since there is no such manpage for now.
    - radeon.man
      . typo in "specifying" (reported by A. Costa in Debian bug #432059).
      . replace a non-ascii character with the corresponding groff escape
        sequence so that it works whatever the locale (Julien Cristau).

commit 9cc3ab8320162f371bba15dc131f23c5de2013fc
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jul 25 02:24:14 2007 -0400

    RADEON: hack around console restore hang on r4xx
    
    r4xx seems to hang when unblanking the crtc(s) when
    restoring the console.  This needs to be investigated
    further.

commit 193d58b0ea9de3e326017e50b88e2f3726854506
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jul 25 01:27:58 2007 -0400

    RADEON: fix randr on r4xx
    
    Seems the way we parse the ATOM connector table results
    in reversed connectors.

commit 262e32bd9ea4123b116362b33b5798753b2568fe
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jul 19 23:48:57 2007 -0400

    RADEON: fix palette when depth != 24

commit 18b00b47a483e7854727e99126808ddf361e7a4a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jul 19 19:01:42 2007 -0400

    R128: don't clip modes to panel on laptops when only using the CRT port
    
    fixes bug 5832

commit 882fe7631586b0a7919f808588a2ea4fb555f7e8
Author: Brice Goglin <brice.goglin@ens-lyon.org>
Date:   Thu Jul 19 18:44:27 2007 -0400

    MACH64: avoid crash in Xv code
    
    fixes bug 11054

commit 7b3e22e96cfc98621bd20fa76317e6d8f7242165
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jul 5 20:37:10 2007 -0400

    RADEON: set default values for crtc_offset_cntls

commit 2a35ccfb8ffee9f0ef6f8d4f0eeb80a471543caa
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jul 5 20:04:04 2007 -0400

    RADEON: Fix tiling on r1xx and r2xx
    
    spotted by Andrew Randrianasulu <randrik@mail.ru>
    fixes bug 11357

commit ac9cbaf32176cf144bc694ac879e7c9e2920f762
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jul 2 10:06:02 2007 +0200

    radeon: Fully zero-initialize info->CRT2pScrn->monitor.
    
    This prevents modes from getting rejected due to the uninitialized maxPixClock
    value.
    
    Fixes http://bugs.freedesktop.org/show_bug.cgi?id=9816 .

commit bdcae622100c81a4d9a53938542b64908bacd195
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jun 29 01:15:57 2007 -0400

    RADEON: save crtc on/off state for console restore
    
    - prevents a possible hang if console is only using 1 crtc

commit 21be0d3a1f4700572c6425800596785d6850626f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jun 29 00:38:50 2007 -0400

    RADEON: simplify console restore
    
    - still need to track crtcs for blank/unblank when restoring text console

commit d9bf28b55d98fea2d285c9c46362aaf2175d0a46
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 28 23:52:28 2007 -0400

    RADEON: factor out surface_cntl init into one function

commit 9f193985627be8e6ea1418a424e825ddbc4957b2
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 28 23:43:13 2007 -0400

    RADEON: move crtc base setups to new functions

commit 0f361e9e80a29d287fa42436c32c657e3c102539
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 28 23:08:07 2007 -0400

    RADEON: fix corruption after 3D apps run

commit 1d4630067d293d26284d5fe230debef3913ec6cf
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 28 22:24:04 2007 -0400

    RADEON: set info->CurrentLayout.displayWidth in RADEONSetPitch()

commit 2754d1ba01fc3367019487e0c0f59d74c950aaa7
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 28 22:15:22 2007 -0400

    RADEON: Switch cursor back to memcpy()

commit 7901bcafa92dccd319ddb5de4627d806a39f15f9
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 18:39:14 2007 -0400

    RADEON: make sure we unblank in RADEONRestore()
    
    reported by Andrew Randrianasulu (bugs 11357, 11146)

commit 6a3599d6155d073a3116c4b13bdf04b44bb9e087
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 18:20:54 2007 -0400

    RADEON: make sure we set the stride properly

commit 771c37fcac8104b894120cc3fc0154b31b0318d1
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 17:53:26 2007 -0400

    RADEON: attempt to fix cursor on big endian (only tested on x86)

commit 5b5b90c2cea7e36895354f5872acd3fc769653f9
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 16:27:54 2007 -0400

    RADEON: fix possible segfault on mobility chips with MM tables
    
    spotted by Stefan Buehler

commit 01bd5eb713500d3e3d4351865d460c8d1e476454
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 16:16:18 2007 -0400

    RADEON: fix possible segfault on mobility chips with MM tables
    
    reported by Stefan Buehler

commit 52cc1dc1491559a9055f3ba6dd54064bb382ad86
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 25 15:49:19 2007 -0400

    RADEON: tiling and FB size fixes
    
    - fix tiling on older radeons
    - allow the user to specify FB size using Virtual line in config
    Current default is 1600x1200
    - reset ecp_div for Xv in randr crtc mode set

commit 3bb46c03fddd3bd79bdab887366aeeced0290a3a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri Jun 22 01:12:38 2007 -0400

    RADEON: bump crtc max to 1200 so 1600x1200 will work out of the box
    
    - a better fix will be forthcoming...

commit b9fac5695bf8f123b391e3b162c4865258a685dd
Author: Andrew Randrianasulu <randrik@mail.ru>
Date:   Fri Jun 22 01:01:14 2007 -0400

    RADEON: Fix VT switch hangs
    
    - re-order DRI resume functions in EnterVT()
    - fixes bug 11287

commit 92e65d5e0d6817ff4c9a08020a0a9b3a8c3c98b0
Author: Andrew Randrianasulu <randrik@mail.ru>
Date:   Fri Jun 22 00:55:00 2007 -0400

    RADEON: Fix VT switch hangs
    
    - reorder RADEONDRISetVBlankInterrupt() and RADEONDRIResume()
    - see bug 11287

commit ec1fd2c388ec2c4033644776ee8588405a3d25f1
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 19 00:39:59 2007 -0400

    RADEON: Split FP reg restore to only touch regs relevant to the output
    
    - only restore output specific regs
    - restore fp2_gen_cntl on R200 DAC restore as R200 DAC2 is connected via
    DVO

commit 0f5a92667281ca3f80218bc67d4031125a5e4793
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 18 23:35:21 2007 -0400

    RADEON: only touch LVDS on mobility chips

commit b72ff160f908bf3aa9f64705377e92d80360a4f7
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 18 21:51:45 2007 -0400

    RADEON: only touch LVDS on mobility chips

commit 80313621ffa8c409ae63fc1b28c15fc4abdc3a7b
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Fri Jun 15 17:00:05 2007 -0700

    Update CRT2pScrn->monitor->Last to reflect the
    last mode of CRT2pScrn. See bug 11278.

commit 5868af53204e8fc210735e68e891e15085285629
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 12 23:53:48 2007 -0400

    RADEON: yet another LVDS...

commit f19a6f7ee5bf4ec632e7813359f167599c08e823
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 12 23:44:41 2007 -0400

    RADEON: additional LVDS off fix (missed in previous commit)

commit 4f2a1ba9c2fc20042d67132f986a86a9783a245e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 12 23:41:24 2007 -0400

    RADEON: additional LVDS off fix (missed in previous commit)

commit 9fc416ce08cc5d74faa7b184e80ce43ed2f4fbee
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Jun 12 23:35:09 2007 -0400

    radeon: Fix panel size detection from registers with stretched mode programmed.

commit c4045cbc5e6975520efef422ce9df2a7d99a7ff4
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 12 23:32:18 2007 -0400

    RADEON: make sure to clear RADEON_LVDS_ON when turning LVDS off
    
    - fixes bug 3483

commit 090888d3baf61a70640d28e99afdce20952cdea0
Author: Tormod Volden <bugzi06.fdo.tormod@xoxy.net>
Date:   Tue Jun 12 23:30:18 2007 -0400

    RADEON: limit PanelPwrDly to 2000 ms on ATOM bios as per legacy bios
    
    - fixes bug 11238

commit 44748a826b52924a6e050215d8d62755e0ac7fb2
Author: Tormod Volden <bugzi06.fdo.tormod@xoxy.net>
Date:   Tue Jun 12 23:23:49 2007 -0400

    RADEON: limit PanelPwrDly to 2000 ms on ATOM bios as per legacy bios
    
    - fixes bug 11238

commit c292fc64499ff4cc135c07deda99cf4169f8fef4
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 12 23:20:18 2007 -0400

    RADEON: make sure RADEON_LVDS_ON is cleared when turning LVDS off
    
    - fixes bug 3483

commit c6a3286d6f6ddda89115d98d45665dadd78bf41d
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:39:38 2007 +0200

    radeon: Fix panel size detection from registers with stretched mode programmed.

commit 7a6b3c0f77c69019268f585c51c3dcbcc99014d4
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:39:38 2007 +0200

    radeon: Don't loop indefinitely if no mode matches detected panel size.

commit f31fd9ce598841c505a0b5ed32bf124f49fea332
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jun 11 09:39:38 2007 +0200

    radeon: Fix some more ErrorFs when setting mode.

commit 9dd9f09a9021653e5590d27bd7aa0e7af85416ad
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu Jun 7 15:32:31 2007 -0400

    RADEON: fix some issues with bios table init code
    
    - fix some issues with bios table init code
    - re-org preinit to better handle bios table init of cards

commit 9ad311eeb0ac2b70a862dbb9de278154ba9142ec
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Thu Jun 7 11:03:02 2007 +0200

    Fixed 'make dist'.

commit 2527f2b69aa7dffa3ba4359c45955e3185bdf0e6
Author: Alex Deucher <alex@botch2.com>
Date:   Wed Jun 6 00:08:45 2007 -0400

    RADEON: implement support for posting cards based on x86 bios tables (untested)
    
    This is based on the netbsd radeonfb driver by Garrett D'Amore.
    The code is not hooked up yet, but should allow you to post cards
    without needing to execute bios code.  This should be useful on
    non-x86 platforms, for posting secndary cards, and for suspend/resume.
    Works on legacy bioses only (no ATOM support).

commit e67d1420bf65055ecb6fdfe6b1b1f53aae83854a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue Jun 5 22:31:50 2007 -0400

    RADEON: fixup RADEONDisplayVideo() to better handle the crtc being used

commit 7886405308e3288d5c86b6f2c7dbfa8ff865139c
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 4 21:16:56 2007 -0400

    RADEON: fix indenting

commit f54ad565a69deb52547fd04e123f56fc1294cd0a
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 4 21:13:16 2007 -0400

    RADEON: no need to go through all the crtcs, we've got what we need

commit 687879bff716ad01f9f158860deb8ba770faab99
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 4 21:08:40 2007 -0400

    RADEON: add support for RMX on DVI, make sure RMX is only enabled on crtc1

commit e6161e472ff266f69547704a61040228a8704b06
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 4 20:32:55 2007 -0400

    RADEON: remove some cruft

commit be0ce38232ea4f5679c5829ab663939144c6e617
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon Jun 4 20:22:15 2007 -0400

    RADEON: number the outputs if there are more than one of the same

commit 8ec617f6493dd0aea5d11f92e3d58c3feef8c8fd
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 17:32:43 2007 +1000

    radeon: disable irqs at server start until 3D app starts

commit 2d40fa55e8d7a1cfb204d66ca4a4d95a3b13d5b5
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 17:32:43 2007 +1000

    radeon: disable irqs at server start until 3D app starts

commit dcb64a4d3947e5a9fbda4b72e29a5b6102370f07
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 17:10:49 2007 +1000

    radeon: disable vbl interrupts when no 3d is running on a new enough drm

commit 73d8e3ec8536b4777490b7ba457566f02233811f
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 17:07:59 2007 +1000

    randr-1.2 increase dri minor version for mesa to know we can do vbl on both

commit 63f0d4ed0a98830ecbe18c6e4174689111a59b68
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 16:49:14 2007 +1000

    randr-1.2: add support for vblank on both heads
    
    Also disable vbl when 3D isn't running

commit d7775c1b38b5bdc439a27ec2c3c3a03a5b24cf57
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jun 3 12:46:31 2007 +1000

    randr-1.2: make native mode preferred
    
    If we have a native mode from the BIOS make it preferred mode

commit 5a9516fe4f17854acd4fbf3a8eadf5139081dbd4
Author: Paul TBBle Hampson <Paul.Hampson@pobox.com>
Date:   Sat Jun 2 14:28:18 2007 -0400

    RADEONProbePLLParameters sets pll->reference_div, and
    RADEONGetPanelInfoFromReg uses it.
    
    This ensures that the former is called before the latter.
    (this should fix randr on ppc)

commit 802804461ebdca9a951e7e562ec68fd08d8eae01
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Thu May 31 22:23:57 2007 -0600

    Fix build whithout XF86DRI

commit 0e0946e0aa2527794e07473199e851bbfbc47cb1
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed May 30 18:56:53 2007 +0200

    radeon: Lots of warning fixes.
    
    Move code where it's used, remove unused variables, etc.

commit 31c1be420d5277dd15505bd73e6144827a0580cd
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Wed May 30 17:49:01 2007 +1000

    remove these syncs, at least on rs480 it doesn't break
    
    probably requires testing on other r300 based cards, with the syncs in
    we hang when moving the cursor into the second CRTC.

commit 7fc02657c4d740941fbda5a8823cf45de3eca3f8
Merge: 800bf53 4c61c0e
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Wed May 30 17:27:22 2007 +1000

    Merge branch 'origin' into randr-1.2-test
    
    Conflicts:
    
            src/radeon_cursor.c
            src/radeon_display.c
            src/radeon_driver.c

commit 800bf53279e2c2bf854682bbfd6fa16d03afed00
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue May 29 23:31:13 2007 -0600

    Fix build without XF86DRI

commit 4c61c0ee91a2ffeefce30972a584486f1df1d1ae
Author: Matthieu Herrb <matthieu@deville.herrb.com>
Date:   Tue May 29 21:35:35 2007 -0600

    Fix build without XF86DRI

commit 5337e7bd0069a3f2c4ab22b21a19471427ad3d81
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Wed May 30 08:10:44 2007 +1000

    radeon: add bios quirk for nx6125 monid

commit bff809dc8ed07ac39e9b576a87916486a5e37156
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Wed May 30 08:02:26 2007 +1000

    rs480: more unknown regs
    
    Hardcode the values from a working fglrx run, this works for me now
    
    I've no idea what it might do for anyone else

commit 104105fee5c3945d3f210e6a4cb73ab492c61543
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Tue May 29 19:09:33 2007 +1000

    rs480: make second crtc work with magic number in magic register.
    
    I've no idea why or what this does.

commit 5aa603bcabbb077dec169c48438c2e2ebe1195d7
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Tue May 29 07:23:24 2007 +1000

    rs480: only has single dac

commit c52322354fe64725733842b3356798c50e7735d5
Merge: dd6a966 975da59
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Tue May 29 07:21:48 2007 +1000

    Merge branch 'origin'

commit c2637a01f9aca4032262c66ade305f5fe2c54294
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 18:26:35 2007 -0400

    RADEON: remove some dead code from the last commit

commit bbb769c4107bfcae682e46d026e54cbfb67d62cd
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 18:25:06 2007 -0400

    RADEON: more rotation work (still not there)
    
    - once again borrowed heavily from intel

commit a69f90be9384244744fabfa76469ede9cd26ac98
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 17:54:48 2007 -0400

    RADEON: first pass at rotation (not working yet)
    
    - based heavily on intel

commit 3b619d88a65a5801c85d120f2d39704194433f10
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 17:06:18 2007 -0400

    RADEON: clean up and add comment regarding clones

commit 089ae4afd23322bf602d340c531c36a4c8b461ed
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 15:49:11 2007 -0400

    RADEON: Switch SetOutputType() to use names rather than numbers

commit c4cef0c9481257a744ac99dfc7beb988ce51a8ee
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 13:12:37 2007 -0400

    RADEON: make sure we have the lock when SYNCing

commit 899c62e987d5c7524817ba85675e39a8a28e0232
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 12:54:01 2007 -0400

    RADEON: Make sure LVDS and FP2 routing info gets written

commit 18857184ffa6847815d349c020b003f8401e36ee
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 12:27:00 2007 -0400

    RADEON: fix handling of DRI lock

commit 3a61453efb4f04492cef823b6dd1273b55c6a785
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sat May 26 01:38:09 2007 -0400

    RADEON: implement backlight control for LVDS
    
    This code is currently disabled as I'm not sure which
    laptops actually use this method for backlight control.
    My laptop seems to use another method as adjusting the
    backlight level doesn't seem to touch LVDS_GEN_CNTL.
    Maybe just macs?

commit ceec3f62257bafe4771e75d3c4f1d2a517d7acf8
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 25 23:29:51 2007 -0400

    RADEON: implement auto/analog/digital output property for DVI-I (untested)

commit e3e9c608651e7cbb9851489274815f47d2a8dbbb
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 25 19:26:24 2007 -0400

    RADEON: more clean of last commits

commit a7d2c9c0f6155c4e65a2e73f3832c0d8ca7af5fc
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 25 19:09:11 2007 -0400

    RADEON: fixup last commit and add support for ext TMDS detect

commit e50ca35ce2ea79dadb38ce14e459eed836452ff7
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 25 18:56:32 2007 -0400

    RADEON: clean up non-DDC probe, add detect for DVI

commit abb9b57e7b4162ab6c21fd1e809d24f13f7e1ea1
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 23 21:37:58 2007 -0400

    RADEON: clean up some logic

commit 679236defd28bea8874004377436347950ff7bec
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 23 21:18:40 2007 -0400

    RADEON: add output properties (not functional yet)

commit 975da595f032c145ad74079ff8edeaead779dc7b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue May 22 10:56:47 2007 +0200

    radeon: Provide new DRI texOffsetStart hook when available with EXA.

commit e38cad5633c974467f6417051eda8d487ac3686e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 22 00:09:46 2007 -0400

    RADEON: Only add valid connectors

commit 8275151baac22c34149cef0b7d922771d24abc3e
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon May 21 10:25:48 2007 +0200

    radeon: HW cursor cleanup.
    
    Don't needlessly turn the HW cursor on/off in RADEONLoadCursor*().
    
    Besides cleaning up the code, this semms to avoid some HW cursor related 3D
    lockups, see https://bugs.freedesktop.org/show_bug.cgi?id=10815 . My best
    guess is that this is because the engine is now always idled before touching
    the CRTC registers.

commit 137e3fc1899078af0f72303ab0a4e6cf35804a7b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon May 21 10:25:48 2007 +0200

    radeon: Suppress debugging output by default.
    
    It can be enabled at runtime by increasing the log verbosity level.
    
    Also change the prefix from (**) to (II) to make grepping the log file for
    defaults overridden by xorg.conf more useful again.
    
    Turn some MC related debugging output into normal informational output as it's
    useful for recognizing corner cases that can cause stability issues.

commit aed193a47a939451d9a6d05b02653b1d73e1d523
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 20 21:13:59 2007 -0400

    RADEON: fix crtc1 (un)blanking code after last commit
    
    - crtc1 MC control is on CRTC_GEN_CNTL
    - fix indenting

commit 870c8043068a0f44b53d1148371b2cc1e3970a7b
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 20 21:03:10 2007 -0400

    RADEON: several updates
    
    - move output init from InitCrtc() functions to the output mode_set()
    - take the crtc off the MC when blanking
    - move EnableDisplay() to output commit()
    - clean up some dead code
    - don't enable dacs in initcrtc() functions, this is taken care of in EnableDisplay()

commit 09bfc8ed000f95ede5b73f2bad69edc1a4d9bac6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 20 18:06:22 2007 -0400

    update to 6.6.192 for rc release

commit 764cb73e8dec4040cdd418d249fc504399fca3ee
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 20 17:26:26 2007 -0400

    Fix regular/"xinerama"/zaphod dualhead mode
    
    - logic in RADEONUnblank() was wrong
    - Calling RADEONSetupConnectors() on second instance screwed up the port info
    - still seem to be HW cursor issues with zaphod mode

commit 9a147fef8e0e2ede2a0008c4ecfbd9b00c8dc5f6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 18 23:45:11 2007 -0400

    RADEON: if connector is VGA set TMDS to none

commit bbd6faff4c6acb48970d774375c8a61861405f96
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 18 23:30:19 2007 -0400

    RADEON: Change default LVDS i2c line for powerpc

commit 7940ec364f3cbf02ba64b92c74cbaad4555baf38
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 18 00:23:08 2007 -0400

    RADEON: cleanup

commit f71bfde7352ef858c1041037d7dc77c237e315a4
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 18 00:12:03 2007 -0400

    RADEON: more cleanup

commit f711e266d6927dec648f6ff26f15c6f48643f78c
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu May 17 23:59:07 2007 -0400

    RADEON: turn off all outputs in screeninit().  We'll turn on the ones we want later

commit bfc1c372d7475b7fa6bffb8a79dec1dc2f11ec59
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu May 17 23:45:29 2007 -0400

    RADEON: More cleanup

commit c60b3bc9e3e7463bdb42e2478be8cc3f22c63c68
Author: Paul TBBle Hampson <Paul.Hampson@pobox.com>
Date:   Thu May 17 23:26:54 2007 -0400

    Fix for infinite loop in RADEONGetLVDSInfo

commit 11289f8206cab1a94bd64a3938cf9af50f19497e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 15 00:48:31 2007 -0400

    RADEON: remove some debugging code

commit fba1a11e287ebf04cf311645d31299896bad7283
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 15 00:44:29 2007 -0400

    RADEON: Move DAC regs to their own Save() function

commit 9ed00e959fcdab2739a7e64ca1e303a6faf28f15
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 15 00:36:05 2007 -0400

    RADEON: Lots of small fixes
    
    - remove extra crtc2_base set
    - remove some debugging code
    - clean up RestoreMode()
    - make sure a DDC reg gets assigned for LCD_DDC
    - make sure we adjust the right frame in AdjustFrame()
    - rename RADEONMapControllers() to RADEONPrintPortMap() to
    reflect what it actually does now
    - make i2c bus name match the DDC port
    - remove or comment out un-needed code

commit 5106c8fe5f74865cac8b00937739a4efde9fc254
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 21:48:26 2007 -0400

    RADEON: Further cleanup

commit 224a73e41e9be344d5644203e7ebd5a3a8272604
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 21:41:59 2007 -0400

    RADEON: remove remnants of "old" multi-head support
    
    The old screen based multi-head code is broken at this point
    and I have no intention of fixing it, so to clean things up
    I've removed it.

commit 9c2f20a83a5fed14225f4c3ebcd8ca41e9d4bd48
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 21:13:23 2007 -0400

    RADEON: additional cleanups

commit e187321ab8dd58d2b2fe92c062d070ba4820a2bf
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 19:49:10 2007 -0400

    RADEON: add new ConnectorTable option and re-add PanelSize option

commit e60a7bcaf5611ad4706b1d1442ce4cae49145f42
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 18:14:29 2007 -0400

    RADEON: remove mergedfb, etc. cruft from man page

commit 51caa5dccc4a2e14d1b41bb7868ad20468dd4cfe
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 18:10:02 2007 -0400

    RADEON: remove old mergedfb and dualhead options that are no longer used

commit c5da9d4040cb08598d171d20f84d3f6c20a033e0
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 18:05:38 2007 -0400

    RADEON: remove more dead code

commit e776fa9ecc53d63f916a5447a76fb2bb3b824167
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 15:43:39 2007 -0400

    RADEON: re-org randr code
    
    - move crtc stuff to radeon_crtc.c
    - move output stuff to radeon_output.c

commit 58ce388452b7bc790c438d75c9cf4a0f69f0d7b2
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 15:05:01 2007 -0400

    RADEON: Remove dead code

commit 66e8e6c8348d007930730e90295588efe8108844
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 14:25:03 2007 -0400

    RADEON: several fixes
    
    - give better DDC names
    - disable DAC if connector is DVI-D
    - fix indentation in ProbeDDCModes()

commit 1c16c2ce9c5b02b03d23da965127d82eea4c4039
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 13:54:04 2007 -0400

    RADEON: fix VT switch

commit 7c66e903368f77ecc4d3bd1c9f08d2adbd85e83c
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 13:37:59 2007 -0400

    RADEON: move crtc offset handling into init/save/restore functions

commit aec078eb0740651fba8ec602e8239bd679efc8ad
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 11:57:57 2007 -0400

    RADEON: fix up DDCConnected()

commit 0550c37ecc434b8075fb3c367d100ff27625bb64
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 11:44:50 2007 -0400

    RADEON: don't need to pass pScrn to EnableDisplay()

commit 117220527de9fd3158f600645bcfcaf46847f45f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Sun May 13 11:37:35 2007 -0400

    RADEON: remove hardcoded output limit and PortInfo stuff

commit 7e5c29961ac2a9e9dbe5d6d2d73d11cd018d62b5
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 11 18:00:40 2007 +0200

    RADEON: Fix RMX after the last commit

commit ab5603edd8fc3ef0560bdfb6a6d9c6af2a49d1e5
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 11 17:34:35 2007 +0200

    RADEON: Move LVDS, TMDS, DAC properties to the output rec

commit 94eb0681de0641e490f06486468617a727fefe86
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 11 14:39:48 2007 +0200

    RADEON: switch output dpms to use RADEONEnableDisplay()

commit 673ede5578d5d9caf2adf0445fe1e684b034eea5
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 11 14:28:17 2007 +0200

    RADEON: re-arrange output mode setting

commit 0070a7d787adaae99f7bc2659be4b0f49f439db5
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Fri May 11 13:06:15 2007 +0200

    RADEON: more re-org
    
    - move crtc mode setting around
    - add dri lock/unlock to crtc lock/unlock calls

commit bba456232ac9a6218aa7fbd504d6093fa72860cf
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu May 10 15:33:51 2007 +0200

    RADEON: fix VT switch

commit 1779a12a947401e5c6bcf784b47e9b3c80d37204
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Thu May 10 06:22:35 2007 -0700

    Add cscope files to .gitignore

commit 0cb23277666db3b30438c6f88840d861e04df414
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Thu May 10 15:20:56 2007 +0200

    RADEON: randr driver re-org checkpoint
    
    - split the mode setting per-crtc
    - reduce start up flicker

commit 33c370b1d8350945f80ac12097d3e91243a400f2
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Wed May 9 16:16:39 2007 -0700

    RADEON:
      - fix an ugly modesetting bug:  if we happened to set the mode on
        CRTC1 before CRTC2, CRTC2's RestoreMode function would clobber
        CRTC1's CRTC_OFFSET register since we never updated
        ModeReg.crtc_offset...  so make AdjustFrame use ModeReg and pull
        the call to it up before RestoreMode, seems to work ok here.

commit 6263248a0044777a352e4ee7380b4b8f9afd091b
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Wed May 9 14:52:00 2007 -0700

    RADEON:
      - use fixup_mode hook to set RADEON_USE_RMX flag so panel scaling
        works
      - use valid_mode hook to prune invalid default modes from list
      - use adjusted_mode in crtc_mode_set (using adjusted_mode from
        fixup hook)

commit d2497009e395800fbde5777465f3087a54b94418
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 22:23:45 2007 +0200

    randr checkpoint
    
    - server still hangs if you start with external monitor connected
    - RMX not working
    - more than 2 outputs now possible (untested)

commit 4488f0737d5268168eab41440b7a3b5732efb15e
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 16:41:13 2007 +0200

    more randr re-work
    
    - remove RADEONQueryConnectedDisplays(); randr takes care of this now
    - print edid after randr detection

commit 4d992386e2ab9d8c50f0484445564325dfb42930
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 16:12:21 2007 +0200

    enable all outputs on each crtc on mode restore

commit 2618cf2aa8ed76411b943eb90c95869814c2f151
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 15:48:40 2007 +0200

    More re-org to allow more than 2 outputs
    
    - Move radeon output crtc map into crtc_set_mode
    - in modeinit, set up all outputs attached to crtc

commit 61b9e79cbeee6f735a4c82ec8a802aee85d8b890
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 15:11:23 2007 +0200

    start to clean up MapControllers

commit 6a724dd798c1a7b461672993c02be83a7bccded6
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Wed May 9 14:48:17 2007 +0200

    minor cleanup

commit 03860fed24b4f76cc7f1f4210ec8f8040fa04777
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 8 19:27:48 2007 +0200

    remove some old mergedfb cruft

commit 76670f665ebec7cdf40a04bf9379cb3ad4417507
Merge: 83f81ed a3ee422
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Tue May 8 18:41:25 2007 +0200

    Merge branch 'master' into randr-1.2 and fix conflicts

commit 83f81ed5e3c33c94c80500316c37a7cbfc51f41f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon May 7 22:54:16 2007 +0200

    RADEON: Fix cursor handling for randr

commit 5fc21cd34436919300018d8d4850fc67db284eb3
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Mon May 7 13:31:20 2007 -0700

    - fix randr 1.2 on pre-RV350 chips by enabling DAC_MACRO_CNTL writes
    - set dac_cntl on non-primary crtcs
    - set XCRT_CNT_EN in CRTC_EXT_CNTL just because
    - fix warnings in calls to xf86PrintModeline (wants screen index not
      pScrnInfo)

commit 99b3df154317f0209618e532282a3e7ad091c00f
Author: Alex Deucher <alex@t41p.hsd1.va.comcast.net>
Date:   Mon May 7 19:02:35 2007 +0200

    RADEON - update randr cursor handling, LVDS setup fix
    
    - quick fix for the cursor handling to update to the latest
    server bits
    - make sure connector type is CONNECTOR_PROPRIETARY for LVDS.

commit a3ee42207aab77d93655a82fdcb32be38268b85f
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 25 09:52:22 2007 +1000

    radeon: another attempt at fixing the mergedfb refresh rate
    
    This attempts to keep it inside the 32-bit limit when multiplying things out
    later in the randr tree.
    
    Let me know if I screwed this up..

commit 3828237200fc16d4d32664fb8358950c213d4897
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Sun Apr 22 11:36:00 2007 +1000

    radeon: add support for DDC on some laptop chipsets
    
    I noticed fglrx has DDC for the panel in the rs480 laptop, however radeon
    didn't pick it up, so I valgrinded fglrx and spotted 0x1a0/0x1a4 accesses
    I actually noticed this before from the BIOS but never figured it out.
    
    So now I get DDC from the LCD on this laptop.

commit dd6a966e862b774a8e8b9e1a085309219673efad
Author: Dave Airlie <airlied@nx6125b.(none)>
Date:   Sun Apr 22 11:36:00 2007 +1000

    radeon: add support for DDC on some laptop chipsets
    
    I noticed fglrx has DDC for the panel in the rs480 laptop, however radeon
    didn't pick it up, so I valgrinded fglrx and spotted 0x1a0/0x1a4 accesses
    I actually noticed this before from the BIOS but never figured it out.
    
    So now I get DDC from the LCD on this laptop.

commit c81ed9bd7b37c9d02141d10f6c7bad3d0c57032f
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Apr 21 18:58:40 2007 +1000

    radeon: fix build on older server

commit 406eec71116a58d42288a7f1c809a92d5bda7350
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Apr 21 18:56:28 2007 +1000

    radeon: fix build since patches for IBM don't actually build

commit ad119960095b4b64f4c6793f65950c9967ce4989
Author: Matthias Hopf <mhopf@suse.de>
Date:   Thu Apr 19 11:54:46 2007 +0200

    Disable RMX for IBM Lewis server.
    
    Due to the hardware layout RMX ddc_mode has to be set.
    If ddc_mode is set, RADEONValdiateFPModes() shouldn't be called.
    Bugzilla #10620 (3).

commit 16ef77df4ebaf5ea13baa82972aaf98e71ac32ee
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Apr 18 17:36:15 2007 +0200

    Set sync polarity restriction flags even for non-"digital separate" monitors.
    
    According to Lisa Wu, this is correct regarding the VESA EEDID standard.
    Bugzilla #10620 (2), original patch by Lisa Wu @ATI

commit 0abce69f0d826a7ca1a41d963cd4730b6e01c145
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Apr 18 17:32:52 2007 +0200

    Fix inconsistent use of Mode lists.
    
    Some scans used to only check every second entry, some stopped at the entry
    before the last entry.
    Bugzilla #10620 (1), original patch by Lisa Wu @ATI

commit aea801cf9a5ce519a53d6fffd9a3a2e526ec79ea
Author: Matthias Hopf <mhopf@suse.de>
Date:   Fri Apr 13 16:16:05 2007 +0200

    Fix crash if MergedFB and secondary head not found
    
    If the secondary head isn't found (Monitor unplugged etc.) but MergedFB
    is configured, the driver segfaults because it tries to access the mode
    list private structures, which are not filled in.

commit 07ddffb32e6293c77b32c94b87ec468caef3d6f5
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Apr 11 14:36:51 2007 +0200

    Fixed typo in mode list generation.

commit 4effa67ea75736a31b9e78a7b35acf74b067c43e
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Apr 9 22:08:31 2007 +1000

    radeon: add support for enabling direct rendering on RS480
    
    Thanks to Matthew Garrett and Ubuntu for the hw loan to get this working.
    
    Still no 3D driver support but at least you should get CP acceleration for
    2D now.

commit 6b25a4c48796e022a093f3072574ffe9709ecaf4
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Apr 4 10:47:29 2007 +0200

    radeon: Link nearest modes by default for clone mode.
    
    This makes sure all modes of both CRTCs will be available by default with
    MergedFB.

commit 3c892f163ec1fa9be6e733aab091c9b718f41efc
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Apr 4 09:52:37 2007 +0200

    radeon: Always sort modes when adding to list.
    
    This makes sure mode lists will always be sorted from larger to smaller.

commit 3a8190ccc79969925257e7b980b78d79053d208d
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Apr 4 09:47:07 2007 +0200

    radeon: Don't shrink virtual size based on secondary modes.

commit 9b1e97284ce185d358ca756a235d2cee346fa53f
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Sat Mar 31 23:01:52 2007 -0800

    10205: Radeon driver's own mode validation code does not work properly

commit 9c2dcd19be8fc2cc29e637d1e9748e66196e3900
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Sat Mar 31 20:10:03 2007 -0800

    9337: EDID modes do not participate in validation for CRT monitor

commit 1acd6d6fa42acec07fb11aeb189f492ddb021cb4
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Mar 30 11:06:10 2007 +0200

    radeon: Guard some MergedFB specific code with info->MergedFB tests.
    
    Fixes https://bugs.freedesktop.org/show_bug.cgi?id=10442 .

commit 1a71106c0e4fe5f650239dc694163fdf52d33663
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 27 10:13:21 2007 +0200

    radeon: Fix typo.

commit f87e57d4d773a019d1cc8a10425c57480430f6a4
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Mar 27 18:08:54 2007 +1000

    radeon: fix up crtc debug dereference problem

commit 66b4a571a4e7960da6807d3f30955aa08e89ccc6
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Mar 27 17:00:37 2007 +1000

    update number to 6.6.191 for rc release

commit fca30a6b581cb6c1466ab1bc316df8fed5d82b60
Author: Alex Deucher <alex@botch2.com>
Date:   Mon Mar 26 23:26:51 2007 -0400

    fix NULL dereference
    
    when IsSecondary is true, crtc1 is NULL
    Noticed by Sverre Froyen.

commit 97d8d1ed10d069343f2b3172ba64ca421821a602
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 24 20:02:12 2007 +0200

    Move atichip.c from ati to atimisc.

commit aa8f5b02ebc9be60df48722588261627d6a457e8
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 24 19:53:02 2007 +0200

    [mach64] Use Mach64Chipsets[] instead of ATIChipNames[].
    
    atimisc is PCI-only now, we can get the chip name with xf86TokenToString().

commit 39e896a1e688ea2d2d21f88c1c5d34c5810aac1c
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Mar 24 19:47:18 2007 +0200

    [mach64] Set pATI->ChipRevision correctly, instead of overriding.
    
    There is no need to override pATI->ChipRevision for GX/CX, as it is only
    reported with a printf.

commit f046a910ca117279fbabc6281b2e23439ec9ea4e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Mar 23 22:19:17 2007 +0200

    Drop probing by driver name from "Device" section.
    
    atimisc is PCI-only now, so we only need to scan the PCI space.

commit 9cd175d9cd4ed710fccb303664c77519ecaf1e21
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Mar 23 22:12:48 2007 +0200

    Fold FillIn() back to Probe().

commit d7a8cd0e476034796fc38e25a28cd28d05ea4a13
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Mar 23 22:10:03 2007 +0200

    Drop now unneeded _X_EXPORT's.

commit 58626d8b78f26f0d9c480033d3c3a12e541342b1
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Fri Mar 23 21:30:19 2007 +0200

    Move {atimach64,r128,radeon}_probe.c from ati to subdrivers.
    
    Subdrivers are now loaded from the wrapper Probe function rather than at screen
    creation time.
    
    The wrapper Identify callback only prints chip families now, chip lists are
    printed when a subdriver is loaded. This also avoids duplication of subdriver
    Identify callbacks.
    
    Unknown radeons should still get a list of known radeon and then probe fails...
    
    Probe for atimisc last to avoid needless loading in most cases (r128, radeon).

commit 2e3d43af1e5077cc61dd8668551a6291368d9ed2
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Mar 19 19:05:04 2007 +0200

    [mach64] Compute MMIO address once for each case (PIO, MMIO).
    
    For an MMIO-only driver, the extra MMIO address probing is not needed since we
    already compute the MMIO address during probe and do not make any BIOS calls.
    
    For a PIO driver, this extra probing could even result in a wrong MMIO address
    since the checking is done by reading through PIO, not MMIO. The MMIO address
    is later corrected but having the extra probe there is useless.

commit e7defc0e930f1b2d83623a769b2bfdb05c66a5fe
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Mar 19 19:04:10 2007 +0200

    [mach64] Move setting of PIO and MMIO addresses up, after BIOS init.
    
    Partially revert "Minor refactoring of pATI->Block0Base computation."
    
    This parially reverts commit 2c8b33b761e4411451aea1eea3a89d629aeea40d.

commit 3dfdba195f1ff794ab00585ab80e7ea6ac92fcf4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 18 16:40:07 2007 +0200

    [mach64] Make mapping code friendlier to pci-rework source-code compatibility.

commit 321db6d87c9110654ab386e5ec270116eca1e04f
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 18 16:15:20 2007 +0200

    [mach64] Add macros for pci-rework source-code compatibilty.

commit dfd07b6e99020d1db43d7ce0cae4423d8c6b1f05
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 18 16:38:26 2007 +0200

    [mach64] Drop checking that BAR base + size fits in 32 bit.
    
    I can't see how these tests could fail on 32-bit. OTOH they are potentially
    problematic with 64-bit PCI addresses.

commit e674338a98c50800637b8ebc01adf3aec2a3eb38
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 18 15:50:41 2007 +0200

    [mach64] Single mapping per BAR.
    
    - We reset write-combining of the FB when MMIO registers fall in the linear
      aperture.
    
    - We set MMIOInLinear in all three aperture mappings since the mapping code
      depends on it.
    
    - We map the linear aperture in its entirety for MMIOInLinear also.
      This simplifies mapping of HW cursor and the LE aperture on BE archs, as
      they always fall in the linear aperture.
    
    - I assumed that BAR[2] is page-aligned (we know it's 4K-aligned for sure).

commit e7969de8ec572d8801806f9525a9a081a58a03f1
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 18 15:35:25 2007 +0200

    [mach64] Drop poking the VGA MMIO aperture.
    
    We will not be able to handle this when we do mappings for PCI BARs only and
    it should be handled with a CPIO driver anyway.

commit 166c760a86165330175023e07c4b2bd6891633c5
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:16:02 2007 +0100

    Fix advertised minimum minor version of the DRI module.
    
    We don't automatically require bumped minor versions.

commit 1bdd376dbd57de8925244f0808f974d6d8cff39d
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:14:39 2007 +0100

    radeon: Only sync to hardware when really necessary with EXA.
    
    In particular, don't sync again after accelerated DownloadFromScreen, which
    syncs implicitly. This avoids calling into the kernel when it's not necessary,
    which can be relevant in some situations.

commit 3cfa3a5c8daf03aaad6fc30d275709f6eb717d29
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:13:24 2007 +0100

    radeon: Unify code to release the CP.

commit e174d8df8c801fad95e5f79cff69187c200bee6e
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:12:51 2007 +0100

    radeon: Minor BlockHandler cleanups.
    
    Don't flush indirect buffer in BlockHandler; it's done in LeaveServer.
    
    Also set the EXA engine mode to unknown only at the end.

commit 113fb4b61e709a9b54fc2ef73efce06011e771c1
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:12:09 2007 +0100

    radeon: Disable CP line acceleration on RV280s.
    
    There have been several reports of stability issues with things like the
    xscreensaver hack hypercube.

commit 4651d00b183cb498879d605c4b93cd3a0c63cb33
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Mar 20 09:10:19 2007 +0100

    radeon: Make sure 3D clients will re-upload textures to video RAM after LeaveVT.
    
    Walk the SAREA texList and bump the age of every active object, so their owners
    will consider them kicked out when they grab the HW lock next time.

commit 2d2fb54ba370c1df9ef5102e83c17a7ff5c55403
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Mar 15 17:26:56 2007 +0100

    atimisc: Fix strict aliasing violation flagged by -Wall.

commit cfb82631fb683a0dc9bbc8f2d214646a8f1bca0b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Mar 15 17:12:43 2007 +0100

    radeon: Fix build warnings.

commit 50a524445ed1ea3c4fab56de772921ba86a21d35
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Mar 8 17:43:48 2007 +0200

    Move atioption.c from ati to atimisc.

commit 52684241ba1ffb393cb655ecc09cbd0cef5b1717
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Mar 8 07:07:02 2007 +0200

    Move atiprobe.c from ati to atimisc.

commit 2a1cd107a593630001799d6cd9e72c64222553b2
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Tue Mar 6 14:35:50 2007 -0800

    Add prepare/commit hooks to output and crtc func table

commit 703c6fc0142ffc600285c13fe6dafecf988c0a1d
Author: Jesse Barnes <jbarnes@jbarnes-mobile.amr.corp.intel.com>
Date:   Tue Mar 6 10:12:42 2007 -0800

    Update for new CRTC resize hooks.

commit 1e270b411cf691c69194932b864ee2c9db292263
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 4 18:21:49 2007 +0200

    [mach64] Bug 5586: overlay scaler limited to 720 pixels on ATI Rage Pro.

commit 54f9b8c1d01ecb97e2d4d247918f0efc86ed6037
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Mar 4 18:16:40 2007 +0200

    [mach64] Xv: use single surface and encoding structs.

commit e1e55b533d3ae528c8da37dcb77ed906d05697fb
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Mar 4 19:11:34 2007 +1100

    radeon: add option to set pci aperture size from config file
    
    This requires a drm > 1.26 to work

commit 58ee31d015cf8bec0edca62a46faec0b3505be8c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 25 23:29:09 2007 +1100

    fix typo

commit 3cfe94d5438961b869766dacbcd13fde8b770ca2
Merge: 31c018c 3b43788
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 25 23:27:19 2007 +1100

    Merge branch 'radeon-randrv12-v4'
    
    Conflicts:
    
            src/radeon_display.c
            src/radeon_driver.c

commit 3b43788c45f51ad2d3e8e64383c412f4ddd97207
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 25 23:17:31 2007 +1100

    cleanup radeon code against master server

commit 24c6fa7cfac5602ba9e6e2f331bcac52fab258e5
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Feb 25 21:43:54 2007 +1100

    make radeon randr build against master server

commit 4374895d393bf170134ccffc188521fe515d5a77
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Feb 24 21:25:13 2007 +0200

    [mach64] Consolidate adjustments of mode timings, part 3.
    
    Cosmetic.

commit 8b9a4ec8af90b2f9f0d0a3a7f6627061df7e01b3
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Feb 24 21:22:49 2007 +0200

    [mach64] Consolidate adjustments of mode timings, part 2.
    
    Factor out to seperate function.

commit bb226c9e7218d2a65c056fe74cb7eece0550670f
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Feb 24 21:20:53 2007 +0200

    [mach64] Consolidate adjustments of mode timings, part 1.
    
    Move LCD block from atimode.c to atimach64.c .

commit 31c018ca4a18ce426b29006f103f56eee7f985fa
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Wed Feb 21 13:47:37 2007 +0100

    add missing part of last commit...

commit df07fa14da73e92d1a6ee0173468ab5c075d1cbb
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Wed Feb 21 13:05:42 2007 +0100

    fix alignment issues with planar yuv and a bug with packed uyvy
    
    respect that all source planar yuv planes are already dword aligned.
    Some attempts to fix up odd widths and odd heights (which are a bit strange
    for 4:2:0 formats). They still don't quite work 100% correctly (at the borders)
    but neither do they with packed yuv formats.
    While here, fix totally broken packed UYVY format by inserting missing break...
    Both bugs reported by Felipe Contreras.

commit dfcb431adfbbaaee0d262d32735585555a0cbde4
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Feb 20 21:20:28 2007 +1100

    radeon: move some i2c registers out into common register file
    
    These regs are more useful than just multimedia

commit 7a25512415bb40b772491bb4a773dfe02ac8b71a
Author: Alex Deucher <alex@botch2.com>
Date:   Fri Feb 16 00:44:11 2007 -0500

    Add "DRI" option
    
    This option allows you to disable the DRI per card.  It also
    removes the "RN50Force3D" option as it is now covered by this
    option. RN50 users should set this to TRUE if they want to force
    the DRI on.

commit fa30ec6d5cd9bf4eb1a960592ca7311175219e4b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Feb 13 15:35:32 2007 +0200

    [mach64] PreInit: maxPitch, minor cosmetic.

commit 1777dcc1956d910073e13322767d9a3de41a949b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Feb 13 15:03:40 2007 +0200

    [mach64] PreInit: pitchInc is local.

commit 9cdf4fcc3a93a4e20244286392dc31a0b8e6a10a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Feb 13 11:53:42 2007 +0200

    [mach64] PreInit: Use goto bail.
    
    Match ATILock - ATIUnlock.

commit 482b85144fee42b6543dcc97a75899e363e05e9e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Feb 12 14:27:37 2007 +0200

    [mach64] Enable RENDER acceleration on the Pro variants.

commit 63248f0b4308a4487cda3aa22daa36e3e0d38d14
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Feb 12 19:37:36 2007 +1100

    fix LVDS by moving bios reading around

commit 6a25f620d40cbb063de94aa6b5267296cd5a0670
Author: David Airlie <airlied@asimov.stargames.com.au>
Date:   Mon Feb 12 15:59:43 2007 +1100

    remove assignments to pOutput before it is created

commit 9234d8045c5fefbd1a781209409e55a13e3e5370
Author: David Airlie <airlied@asimov.stargames.com.au>
Date:   Mon Feb 5 11:53:18 2007 +1100

    remove all the locking glxgears runs fine over screen changes without it

commit eda9fb15e8bc042661a91a3d8c921006dfb3ddd9
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Nov 21 04:02:41 2006 +0200

    Consolidate atixv.c w/ atimach64xv.c, part 2.
    
    Move {Initialize,Close}XVideo from atixv.c to atimach64xv.c .

commit 67b240ddd4a6549a23885afc723b6efa7c52db4c
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Oct 31 16:44:10 2006 +0200

    Consolidate atixv.c w/ atimach64xv.c, part 1.
    
    Merge ATIXVInitializeAdaptor() in ATIMach64XVInitialiseAdaptor().

commit 4dac7896549392f7378cad9620618cec28f41a16
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Oct 29 03:55:39 2006 +0200

    Consolidate aticursor.c w/ atimach64cursor.c

commit 23b12b9ff55224e8c3c45eb58ea5fbf2f747d82e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Oct 31 16:10:07 2006 +0200

    Consolidate atiaccel.c w/ atimach64accel.c, part 2.
    
    Merge ATIInitializeAcceleration() in ATIMach64AccelInit().

commit bc3b222b57d7edf7bdce00a53e8abd9047c314a4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Oct 28 19:29:12 2006 +0300

    Consolidate atiaccel.c w/ atimach64accel.c, part 1.
    
    Move ATIResizeOffscreenLinear() from atiaccel.c to atimach64xv.c and make it
    static. It is only used by XV memory management functions.

commit d876889add41c8052d4f3feaa21ddf384f5a7054
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Nov 21 04:47:06 2006 +0200

    Drop non-PCI support from atividmem.c
    
    - we require a PCI device (pVideo != NULL)
    - map the VGA framebuffer with xf86MapDomainMemory()

commit 2c8b33b761e4411451aea1eea3a89d629aeea40d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Nov 21 04:51:02 2006 +0200

    Minor refactoring of pATI->Block0Base computation.

commit a659b7235332e19659c56cc9d7af362bd8885a29
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Feb 4 11:28:54 2007 +0200

    Cleanup checks for pATI->PCIInfo.
    
    Fixes a bug where shadowfb would not be enabled by default in the non-accel
    case because pATI->PCIInfo is now set after ATIProcessOptions() is called.

commit 9d77aabdff919360f0c9333105436c31f1f5749a
Merge: ff8ea19 57822be
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Feb 5 19:16:51 2007 +0200

    Merge branch 'mach64-pci-1'

commit d7317604c843e21c1df048a9253ed55a1957cccd
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 14:54:00 2007 +1100

    get rid of mergetype and displaytype from radeon.h

commit 15c68ac19ff9971ae02cf52036ba36ddea1a6759
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 14:30:16 2007 +1100

    rename some variables to output from connector

commit 72ef23ef7dd159d827e8e122482a58928d532268
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 14:26:29 2007 +1100

    fixup mode probing a bit neater

commit 96acf6b2b242454345cc4b9cfc7ca07e0b597b43
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 14:26:19 2007 +1100

    bring over setproperty from intel code

commit 76bc53f9b153880730ab61dcd2b6e4e7717e4058
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 14:15:03 2007 +1100

    move i2c buses into outputs

commit 47fb9ce657f018177a35b449a4d716dc03be9327
Author: David Airlie <airlied@linux.ie>
Date:   Fri Feb 2 11:45:40 2007 +1100

    fixup callers to crtcsetmode fixes my cursors

commit 720730b1b0de632488d3b9818210ec5e9c7f07ae
Author: David Airlie <airlied@linux.ie>
Date:   Thu Feb 1 16:43:38 2007 +1100

    add locks for crtcs and some missing lines from intel update

commit 6748732658850ea506f623a3622aa7135513ffd0
Author: David Airlie <airlied@linux.ie>
Date:   Thu Feb 1 16:26:31 2007 +1100

    update to latest intel codebase modulo using their mode set
    
    and it breaks my cursor

commit a77f08298dc7e097025e3f7f92e3665c0ef30095
Author: David Airlie <airlied@linux.ie>
Date:   Mon Jan 29 16:12:24 2007 +1100

    radeon: always reset cursor regs

commit ff8ea19fcdce099732f9359e53cd62b9a04bfa6d
Author: Alex Deucher <alex@botch2.hsd1.va.comcast.net>
Date:   Tue Jan 30 21:11:09 2007 -0500

    add option to force the DRI on for RN50 chips
    
    Allow user to force the DRI on for RN50 chips.
    3D is not guaranteed to work on these chips,
    however in some cases it does.
    fixes bug 9802.

commit 57822be75740f339445f2375d44632560f4bbe57
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Nov 21 03:08:26 2006 +0200

    Drop pATI->Chipset, no longer used.

commit 8b7c88e9ed549777413136c0f2ccc61747b010d8
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Dec 28 14:46:10 2006 +0200

    Add option "probe_sparse" to force probing sparse I/O bases.

commit 3654b786f1ad1f4e6bfb2fff5ff057254958f7c0
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Dec 27 17:59:14 2006 +0200

    Sane probe, based on work by Luc Verhaegen <libv@skynet.be>.

commit 0117c9bde0d0bbb487bc259cf55e8066ebd63f6a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Dec 27 17:49:45 2006 +0200

    Drop checking of sparse I/O bases conflicts
    
    This will be handled with an option somehow.

commit 87cf2f1874ca8a7cc492d2e2b6918ba69a8aa713
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Aug 14 17:55:14 2006 +0300

    Minor refactoring of module (un)loading for TV_OUT.

commit 0b31333c9147af21c50493872779da12a3668e5d
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Nov 20 22:08:49 2006 +0200

    Drop support for non-programmable clocks.
    
    From README.ati:
    
    Clocks for supported programmable clock generators:
    
      The driver currently supports all programmable clock generators known
      to exist on Mach64 adapters.
    
    Clocks for unsupported programmable clock generators:
    
      This case is unlikely to occur, but is documented for the sake of
      completeness.
    
    Thus:
    
    - check for (pATI->ProgrammableClock > ATI_CLOCK_FIXED) &&
                (pATI->ProgrammableClock < ATI_CLOCK_MAX)
    
    - drop "probe_clocks" option
    
    - pATIHW->ClockUnmap is no longer used
    
    - pATIHW->ClockMap is only used with NewHW.crtc which is always ATI_CRTC_MACH64
      and has the identity map, so drop it
    
    - (pATI->ProgrammableClock != ATI_CLOCK_INTERNAL) => (pATI->depth <= 8)

commit c9a9ea5ebd1c27881c1fac19842cfa3af55c126e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Nov 20 15:09:41 2006 +0200

    Banked memory is no longer needed.
    
    - (pATI->BankInfo.BankSize = 0) in all cases, cull pATI->BankInfo
    
    - only keep the minimal pATIHW.SetBank interface for save/restore
    
    - clean ATISwap() a little, (NewHW.crtc != ATI_CRTC_VGA)
    
    - (UseSmallApertures == TRUE) <=> pATI->VGAAdapter

commit 383e963e275d351ea3631c352f5795340162d69f
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Jan 28 00:44:31 2007 +0200

    Always use the linear aperture.
    
    - drop (pATI->OptionLinear == FALSE)
    
    - AcceleratorVideoRAM is always set, i.e. VGAVideoRAM is not used
    
    - pATI->LinearBase is always set
    
    - xf86LinearVidMem() is now checked in atipreinit() for both CPIO and MMIO

commit 9b126f45db27496c1ad16db65a61fe641a018983
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Nov 20 20:38:59 2006 +0200

    We always use the accelerator CRTC within the xserver.
    
    - cull (pATI->NewHW.crtc != ATI_CRTC_MACH64).

commit 0abcb2b2c84a50e64bb6aa9e94760659ecf33add
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Jan 28 00:19:15 2007 +0200

    Clean pATI->Adapter and pATI->VGAAdapter.
    
    - cull (pATI->Adapter != ATI_ADAPTER_MACH64)
    
    - treat pATI->VGAAdapter as Bool

commit 817b4b5338dba4d8eb862f1f79ef0edb75aad7f4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Dec 27 21:16:18 2006 +0200

    Keep PCI mach64 only, drop:
    
    - Chip < ATI_CHIP_88800GXC
    - Chipset != ATI_CHIPSET_ATI
    - Adapter != ATI_ADAPTER_MACH64
    
    - depth < 8

commit d350860e29f043e98bfb1da74b26280f1755ab6f
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Dec 27 20:56:45 2006 +0200

    Keep PCI mach64 only (atipreinit.c, atimode.c), drop:
    
    - Chip < ATI_CHIP_88800GXC
    - Chipset != ATI_CHIPSET_ATI
    - Adapter != ATI_ADAPTER_MACH64
    
    - depth < 8
    
    atimode.c only:
    
    - NewHW.crtc != ATI_CRTC_MACH64
    
      This allows to drop VGACalculate(), VGAWonderCalculate() cruft early.

commit 5fa77f2d122e7267911a15235338d8d3f9eece2e
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Wed Dec 27 14:50:48 2006 +0200

    Drop probing for VGA, VGAWonder, 8514, Mach32.
    
    - ChipHasSUBSYS_CNTL
    - Coprocessor
    - SharedAccelerator
    - SharedVGA <=> (VGAAdapter != ATI_ADAPTER_NONE)

commit 1b2a9e1735da63bbb8cb41939668f789cee22579
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Nov 20 02:35:56 2006 +0200

    Drop AVOID_NON_PCI.
    
    This was not set anyway, because configure.ac would compute ATIMISC_NON_PCI and
    then test ATI_AVOID_NON_PCI to set AVOID_NON_PCI...

commit 2fb84dd2fc1a663c7b9d77e706189439ffe08381
Author: Alex Deucher <alex@botch2.hsd1.va.comcast.net>
Date:   Thu Jan 25 02:01:42 2007 -0500

    I think we can say r300 support is not experimental

commit e155659f4b006edff31f1fda88b32bf608dbeece
Author: Alex Deucher <alex@botch2.hsd1.va.comcast.net>
Date:   Thu Jan 25 01:59:27 2007 -0500

    update man page.  fixes bug 6457
    
    Most cards support 2D and 3D now

commit fa12fe1cc90dd745f3eea35a07d4f3efd652e7b4
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Jan 23 19:37:51 2007 +1100

    remove unused restore palette function

commit 4d3649b84a3325043c38cece4499de0095cebd71
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Jan 23 19:37:21 2007 +1100

    remove isused and isactive

commit 9149e763865598c307cbefc753ff6ebdeeaf32ae
Author: David Airlie <airlied@asimov.stargames.com.au>
Date:   Tue Jan 23 15:20:11 2007 +1100

    radeon: fixup problem with cursor not going off
    
    Also fixup secondary dac detect to return unknown for now

commit 2a13a3b641d9acf4f50472e1c8ba07633c3b78d6
Author: David Airlie <airlied@asimov.stargames.com.au>
Date:   Tue Jan 23 10:36:06 2007 +1100

    fixup init disp bandwidth
    
    This probably break old-style dualhead badly

commit cbd84bed13582e82f8b2e84aa152602474c09cd4
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jan 22 22:19:46 2007 +1100

    removed even more  mergedfb remains

commit 6296882135b183425a219efb75374d3b172de370
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jan 22 22:14:48 2007 +1100

    remove more mergedfb relics

commit 26e1bab2c7a4ad52710746265b3da495b54dab36
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jan 22 22:11:55 2007 +1100

    radeon: fixup some of the video code after randr
    
    This may not be complete, I need to test on dual-head system later

commit 9008e1caa45e4a18e6f3289c7b17036730fe578a
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jan 22 21:16:47 2007 +1100

    remove unused merged code

commit e29a32d711553fcb4ca9928122ac285fe0b0c1a7
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jan 22 21:09:53 2007 +1100

    add back overlay CRTC chooser this may not work yet

commit aa9d04ba94a3cd60b248231da517e2817591fc69
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 21 20:29:56 2007 +1100

    remove alot more mergedfb support

commit e8be0056e8ff666f63a294691661f5dab289203e
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 18 16:41:25 2007 +1100

    remove mergedfb

commit a648050a3cc60f92b1ca0b3d707aadf93d076d91
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 17 17:28:07 2007 +1100

    move some cursor code around for show/hide

commit d2ecfb507282726122bb8b0d17fd3637d0ae7d46
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 17 17:16:27 2007 +1100

    make dri work again

commit 369f7c85ceff983defb7657b80ec9cd3e5440b07
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Jan 17 11:14:09 2007 +1100

    comment out unblanking on VT switch

commit bdb66a2042f02c4b57bd3c0181a00b39fcbdb232
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 14 21:07:05 2007 +1100

    radeon: get randr-1.2 mode switching mostly working on my laptop
    
    The main change is to fix the dac macro + cntl register writes for rv350 and
    above, this still has a problem with resetting the same mode after connect
    disconnect cycle, need to talk to keithp

commit aa0e7337815d4daca4df0671768621330b759011
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 14 19:17:32 2007 +1100

    use more randr-ish names for variables

commit 9d37f23aea43b74a7ec640e6b03617c8392e2572
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 14 19:10:11 2007 +1100

    radeon: move blank/unblank to use randr

commit 6bd4fe42789c38e7e804826715214ce6badcca6a
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 14 18:38:59 2007 +1100

    disable dpms on/off as it was writing regs before we wanted to

commit 3949288ed26a91e180b178f4796f2f7e1bdc8ed6
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Jan 14 16:26:39 2007 +1100

    radeon: destroy and fixup LVDS crtc

commit f5ffb9fb3bdd7cec020240c5831ae92ee744972c
Author: Timo Jyrinki <timo.jyrinki@hut.fi>
Date:   Fri Jan 12 23:08:50 2007 +1100

    ati: fix detection of some newer radeons using ati wrapper
    
    This is mainly due to the cards having a different resource 1.
    Fixes 6796

commit 1e690c57ad1dfaeb760ef6e799faa6398e9a0551
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 12 23:03:10 2007 +1100

    always create a second CRTC I think this should solve any problems

commit 25b36a4c56422ad8e25a4a1c55055c2f062213ca
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 5 16:13:16 2007 +1100

    minor randr1.2 fixups

commit abe8791e4f9fa3e88273897b351387cd33822734
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 5 15:09:43 2007 +1100

    hook up DPMS through xf86

commit 8a9c68c2234b91ed38555f892afdad30b9e4b455
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 5 15:09:15 2007 +1100

    set binding for new heads

commit d6a2b8aeb5a97ee907fd45b574bc6e4ab4b3aede
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jan 5 09:33:54 2007 +1100

    fix LUT

commit ef1d36e56dec1fec37cee2dfd9cb5bf8ce2c485c
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Wed Jan 3 15:56:23 2007 +0100

    fix uninitialized mode regs (bug 9495)
    
    Since the reorganization of the mode setting code, the mode registers relying
    on state already set (by bios) were not read, thus clearing out all bits the
    driver does not touch. At the very least, this could lead to completely
    nonfunctional to misbehaving dvi output (see bug 9495). Fix this by using the
    SavedReg values, which also makes it more obvious that those are bits which
    were not set by the driver previously, but come from register readback.
    (cherry picked from 9506f7015a1e442f4ca0bd3bfae555ec7e8a5f37 commit)

commit 55aa832157bdebcba2d58896777942d108c352b0
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 17:57:31 2007 +1100

    fix cursor handling

commit 4f8a7cafdc77e98dc44f9eced876560b1ee01117
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 16:23:39 2007 +1100

    hook up crtc modesetting

commit 52f749c8a613ee316044abe82156ee270412ced8
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 16:23:26 2007 +1100

    fix typo

commit d7ff61c6822cbede7f5b59b411048d33dbae9ee4
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 13:38:26 2007 +1100

    hook up detection of output

commit 50439d7e9f4f6f9933bacd59f8bb3e655a35dbc2
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 13:21:57 2007 +1100

    fixup some function calls

commit e067bfee92f2b0877108355619b2fb9188a9d15a
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 13:21:45 2007 +1100

    add more files for back compat

commit f1f34627ffbe2136ac3e023c01c0430412919ded
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 12:50:03 2007 +1100

    make restore mode non-static

commit 249ec67c296b34d0c7c1d78602628d2f7ce6a045
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 12:43:03 2007 +1100

    more minor fixes to get radeon up to speed

commit a43c1d55f5f855d9e6ae939dd4eec1c607b6d514
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 12:29:51 2007 +1100

    bring radeon randr code inline with intel randr code

commit c54a31565e3ea50f1af7b81b1bf0c0e437099f47
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 10:39:01 2007 +1100

    radeon: fixup fastwrites to be always off
    
    My 8500 in i845 doesn't work with fastwrites even setup by the firmware.

commit dda2bbfdc2e0da6e8b9cb8d1bf78b91f1bb8131f
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jan 4 10:29:54 2007 +1100

    radeon: don't touch Controller[1] on single CRTC cards.
    
    This might fix bug 9371

commit 9506f7015a1e442f4ca0bd3bfae555ec7e8a5f37
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Wed Jan 3 15:56:23 2007 +0100

    fix uninitialized mode regs (bug 9495)
    
    Since the reorganization of the mode setting code, the mode registers relying
    on state already set (by bios) were not read, thus clearing out all bits the
    driver does not touch. At the very least, this could lead to completely
    nonfunctional to misbehaving dvi output (see bug 9495). Fix this by using the
    SavedReg values, which also makes it more obvious that those are bits which
    were not set by the driver previously, but come from register readback.

commit d5c6306385cbc7b13a132ae72ed04e04e24d9886
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Dec 19 09:45:24 2006 +0200

    Use portable XORG_RELEASE_VERSION macro.

commit 97df0a32b14e34f22dce9cd3b375c1ac5fb1c5eb
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Dec 19 11:28:21 2006 +0100

    radeon: Advertise 2D engine limits to EXA when we're not using the 3D engine.
    
    Also round up to the maximum width and height, as that's what EXA compares.

commit 295823d0879a5b574bb79843a6acd43adb9259e5
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Tue Dec 19 11:19:20 2006 +0100

    radeon: Default to leaving AGP transfer mode and fast writes unchanged.
    
    Based on the assumption that firmware should have set up the card and host
    bridge appropriately for these settings, this may actually be safer, at least
    for the transfer rate; leaving fast writes enabled is hopefully safe as well,
    it certainly is on my sytem.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=9284 .

commit 81f3b4070b70483d6da4f7587e52a64ac69c8ca0
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Mon Dec 18 14:06:15 2006 -0500

    Revert "Convert callers of LookupWindow() to dixLookupWindow()."
    
    This reverts commit 48ff33a1770f3684cd50184db8f1944a456d9974.

commit 87592ffb717da1f0a1767a38918d16d60953599c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 20:10:58 2006 +1100

    add setdpi call

commit 41cd50487bc85708a3f791dfa70bf85223d91a65
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 20:08:07 2006 +1100

    add displayWidth set

commit 555e0f988c571aa47bc62ec6d9612a71f1a1f59b
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 19:59:19 2006 +1100

    add randr pre init

commit 3e2c72d7ac80ed874bcf2887a5253dac1c9bb02c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 19:49:08 2006 +1100

    fixup even more remnants of old code

commit 4356b031886e00b3ed5ac1dbceeadebd7fc29fc2
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 19:47:45 2006 +1100

    fix remnant of old code

commit 17d39502a8dbea395051007aebffdf23644e9ee1
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 19:44:39 2006 +1100

    use getddcmodes properly

commit bf0b364cbd8682f297e2d110ece1f72e7151340d
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 17:31:08 2006 +1100

    fix up output namings

commit 4962a5430844114de864418d803f3182b90792ff
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 17 16:58:07 2006 +1100

    remove some code that moved into server

commit b47013f41249516ae82e22bd75caf573da2cc13c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Dec 16 12:02:37 2006 +1100

    hook up mode detect to new randr code

commit 48ff33a1770f3684cd50184db8f1944a456d9974
Author: Eamon Walsh <ewalsh@tycho.nsa.gov>
Date:   Fri Dec 15 17:43:39 2006 -0500

    Convert callers of LookupWindow() to dixLookupWindow().

commit 62a5e7565b66d7b7d65609c034f34b55bd266617
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Dec 15 19:48:42 2006 +1100

    bring over latest code from Intel git repo.
    
    this code doesn't work yet just realigns with intel work

commit 29124400c7f193317d41d8cfd748371a239cfea1
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 10 18:00:17 2006 +1100

    hook up randr crtc setting

commit 120c854f185c1e7711cf0dee19303fdb8894d49d
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Fri Dec 8 02:51:52 2006 +0100

    radeon: avoid unnecessary OUTPLL/INPLL calls when displaying video
    
    It is not necessary to always emit a OUTPLL/INPLL pair when we display
    a video frame. On some chips there are erratas for which the workarounds
    cause a 10ms delay by those calls. This is related to #5876 though those
    affected may suffer from other slowness issues too.

commit ccd37b3e88cdcfe03b7c707b6082339eb8f11e6b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Dec 7 18:41:48 2006 +0100

    radeon: Move Xv option handling code into RADEONPreInitXv().
    
    This unclutters RADEONPreInit() somewhat, but more importantly moves comparison
    against info->ChipFamily after that's initialized.

commit 02be8c04a268eaa71bdfe891331758715fef4e71
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Dec 7 18:31:58 2006 +0100

    radeon: Make cache flushing for R300 series less invasive.
    
    Instead of calling the DRM CP idle ioctl, just emit the cache flush commands
    into the CP stream.

commit be46f7b6f7a729695a0affe2328077666283af12
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Dec 7 16:27:10 2006 +0100

    Fix radeon compile warnings.

commit 59c5b4f69c97fb233144677ab18095f88aed006b
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 18:48:55 2006 +0200

    Makefile.am: re-add ChangeLog to CLEANFILES

commit 7611f14dc697b75cd7bb6493bb65b3a7ead379b8
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Dec 6 18:47:33 2006 +0200

    Makefile.am: fix changelog hook
    Make changelog hook safe for all situations.

commit f2a9d2d61addc4e3d5e128d8078a04c9a136be6a
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Wed Dec 6 00:16:41 2006 +0100

    radeon: fix up packed yuv broken by planar yuv patch
    
    fix the forgotten leftuv value for packed yuv which is
    needed to get correct uv starting pixel (fixes broken clipping /
    non-null src start pixel as tvtime uses)

commit d2aa57a4bdd4a0deb2c659bb07f3f57d1116f0d1
Author: Roland Scheidegger <sroland@tungstengraphics.com>
Date:   Tue Dec 5 01:30:13 2006 +0100

    radeon: use overlay scaler native planar yuv capability.
    
    Radeons can do planar yuv just fine, there is no need to convert all data
    to packed yuv manually. This saves some cpu cycles as well as some
    (graphic card) ram.

commit 5d5fa1b86e5179b061f0db47fe0227d1b84c37f8
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Dec 4 18:53:33 2006 +1100

    update radeon driver to Intel driver xf86Crtc interfaces

commit 51d1cf19e71dd5de47f2c6467f4a1685eefd9e1e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 3 16:30:01 2006 +1100

    Add radeon randr 1.2 initial attempt at support
    
    This doesn't do a huge amount yet

commit eb17c9aed2144701ad7bd1042b2905446e4d708a
Author: airlied <airlied@optimus.localdomain>
Date:   Sat Nov 18 15:48:02 2006 +1100

    move radeon over to not using X's mode management like the intel driver.
    
    this builds and at least seems to pick a mode.. might be near to hooking
    up randr1.2 soon

commit 941b5120916ebff69ec0ee4ca7a46105d5306e5d
Author: airlied <airlied@optimus.localdomain>
Date:   Sat Nov 18 10:41:12 2006 +1100

    make radeon modes use generic code

commit 608427283ea59cdfe3d85e1cf32719bc3809dc16
Author: airlied <airlied@optimus.localdomain>
Date:   Sat Nov 18 10:35:31 2006 +1100

    add more functions from i830 driver
    
    This adds more generic functions from the i830 driver to the radeon

commit d5b8cafc185b7d9fb909cb18a08615f81d89eaf8
Author: airlied <airlied@optimus.localdomain>
Date:   Sat Nov 18 10:22:38 2006 +1100

    add generic mode handling code from Intel driver

commit 9cfa82e1670ad85746926995972a535ddf03ee07
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 3 15:56:38 2006 +1100

    move monitor detection into single function

commit 032a00d155ecdcdcab3ca0d047f552fe6b338a97
Author: airlied <airlied@optimus.localdomain>
Date:   Sat Nov 18 10:23:12 2006 +1100

    make DDC function more generic

commit 2632ae24b3b50c69567e92611ce7c2cd2ee98baa
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 3 15:22:38 2006 +1100

    re-program bios 4 scratch so we know if the LCD panel is there post startup

commit ddec94e8f2f5746bad0e998d15303e771803d22b
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 3 11:07:23 2006 +1100

    move crtc to connector mapping to a connector to crtc mapping.
    
    Still not allowing any clone modes, but heading in the correct direction
    I hope... there is a chance this will regress something from superpatch..

commit 218cb7f8db35d0ce8f9fc4ece72bd5ec3f52106f
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Dec 3 09:53:35 2006 +1100

    radeon: dynamically allocate connectors

commit f22fd02bc7f7ef67e33c9bd93eae2d7488669b5e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Dec 2 19:48:00 2006 +1100

    make CRTCs malloc'ed rather than part of Ent
    
    This is leading towards randr-1.2 believe me :-)

commit 13efd1f75fbd29a4d1f69d7d5a5bb2b8d90ad820
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Dec 2 19:16:41 2006 +1100

    move HasCRTC2 to pRADEONEnt from info

commit 3933b86390eb2f4198d490acd4914fb470c40f47
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Dec 1 18:00:17 2006 +0100

    Make log file output clear about origin of used overlay scaler buffer width.

commit 563dfb52f5b24d2f765fae0394e599c11dcf0b5b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Dec 1 17:56:19 2006 +0100

    Increase default overlay scaler buffer width for RV350.
    
    Works with 1920x1080 video on my M10.

commit 984ea3d9b7c27d8183ca94ad9d7905f03613fe10
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Fri Dec 1 17:42:23 2006 +0100

    Fix build warning.

commit 9f5ea3981449f29ff204eb154166e8fc813205fa
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Nov 29 16:46:57 2006 +0100

    radeon: bug #1462, predownscale to make HD video work.
    
    Use the overlay scaler's predownscale capability to make videos with large
    horizontal resolution work if it exceeds the scaler buffer width. Make the
    scaler buffer width user-configurable since we don't know it for all chips,
    and using predownscaling may otherwise reduce quality even if it wouldn't
    be needed. This should fix bug #1462.

commit 35a5eaf5adf103ef57f8d4590dae25b0c50bd780
Author: airlied <airlied@optimus.localdomain>
Date:   Tue Nov 28 17:31:05 2006 +1100

    fixup EXA after previous commit

commit ba047ae863aac869595a31ea94f102084636fd29
Author: airlied <airlied@optimus.localdomain>
Date:   Tue Nov 28 17:26:10 2006 +1100

    radeon: initial move framebuffer away from zero prep.
    
    In theory the driver should be able to handle the front buffer not at VRAM 0
    In practice it didn't.. this is cleanup for at least XAA parts of the driver
    to allow for the frontbuffer to move. It has to re-organise a large part of ScreenInit so things happen in the correct order otherwise some things get setup in-correctly. (not sure EXA with fb not at 0 works yet...)

commit 0d42cab2d889070ab6de05990e2b19724595f7af
Author: Alex Deucher <alex@t41p.(none)>
Date:   Wed Nov 22 13:44:49 2006 -0500

    clean up previous VIP commit.

commit 8e0f57571228729cc40ed59266484ecc43819f44
Author: Alex Deucher <alex@t41p.(none)>
Date:   Wed Nov 22 13:38:01 2006 -0500

    Don't mess with the VIP bus on mobility chips.  Seems to cause fan
    problems on asus laptops (see bug 7463).  We don't support video-in
    on any laptops at the moment anyway.

commit e4850610596a08082a528c38186268b72012e78c
Author: Alain PÃ©teut  <alain.peteut@gmx.ch>
Date:   Wed Nov 22 12:54:55 2006 -0500

    enable i2c for PCI_CHIP_RV250_If.  allows AIW fuctionality to work.
    patch and testing from Alain PÃ©teut

commit ff38c2c9cf0c6acbdaf53b681ec721487cf411f8
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Nov 19 17:11:46 2006 +0100

    radeon: Bug #8989: Fix page flipping artifacts with XAA.
    
    We still have to force-sync the pages on enabling page flipping with XAA as the
    second page may have been clobbered by the offscreen pixmap cache since they
    were last synced.

commit 2dd0892817090709b2fb7ffba920595ada00fcad
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Nov 19 17:09:11 2006 +0100

    Fix compile warnings.

commit 8c1b9269aaac746989bdb9be02915722bcf6fec0
Author: airlied <airlied@optimus.localdomain>
Date:   Fri Nov 17 18:47:50 2006 +1100

    forgot SetPitch function is called

commit 3a0338bb487739a1740ddfb4d36d53cfa7f798c6
Author: airlied <airlied@optimus.localdomain>
Date:   Fri Nov 17 18:37:00 2006 +1100

    split mode handling code into separate modes source file

commit 13e0a95564220d42ad8060b43b0aaaba3002157a
Author: David Airlie <airlied@asimov.stargames.com.au>
Date:   Mon Nov 13 09:35:18 2006 +1100

    fix up issue with bindings and mergedfb

commit 63444770ff30afeb134befed5bb3a5c28b7bc4e9
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Nov 9 22:01:28 2006 +0200

    [mach64] Prefer double-buffered visuals for GLX.
    
    So that 3D apps apropriately fail in DRI...

commit 0411f68d71c75cda38ad46ad5c0f5cc3cda64464
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Nov 9 22:00:56 2006 +0200

    [mach64] Use asynchronous DMA mode by default.

commit 8dd668db05e8f1282fa0e29a91e38c7cbdc97aa1
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Nov 12 16:33:21 2006 +1100

    radeon: abstract init display bandwidth from mergedfb

commit 45a9f434b77ad892efcdba267a935135b972dd42
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Nov 12 16:12:56 2006 +1100

    add radeon Init2 function, to abstract some mergedfb mode setting

commit d0828804aec0852afaca44ee41c4792edc40dbb4
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Nov 12 15:59:02 2006 +1100

    add initial controller binding, remove uses of mergedfb test

commit 78061ca460c9d6fd338ccf273bbfa152f471622e
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Oct 23 16:49:59 2006 +1000

    radeon: separate static controller setup from non-static

commit f917f65e8d2b13d8b9bfc4320f4a935f5a5c4bff
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Nov 2 21:16:53 2006 +0200

    Officially require libdrm 2.2.0
    
    Note that this is only for the headers at compile-time. The driver still
    uses libdrm 1.2.0 from Xserver at run-time.

commit ca8c148942371c9445f32985625ce38eabc016e1
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Oct 26 15:40:46 2006 +0300

    Handle .99 in version patch level.

commit 23cec754158c94b43225b2070fc0a0b003e7bd25
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Thu Oct 26 15:39:49 2006 +0300

    [mach64] EXA: reserve DRI buffers only when DRI is active.

commit 9cd78af1d06f753e7bd7e1acaff25398bde45f6e
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Oct 23 16:52:07 2006 +1000

    radeon: set preferred modes

commit 914a5f0117ccb76292bdd81ea4a2a79d33319550
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Oct 23 10:13:24 2006 +0200

    radeon: Pitch doesn't matter when height == 1.

commit 2bcb51d66edaa944379cf8c8ca1ba91fffdc20a8
Author: Michel Daenzer <michel@tungstengraphics.com>
Date:   Sun Oct 22 17:26:28 2006 +0200

    Bug #6756: Attempt to fix repeat picture acceleration.
    
    Always use normalized texture coordinates on R200 and fall back if a POT
    texture pitch doesn't match the HW's implicit pitch.

commit dabffb8335027b60ca1fc554423e196dfb9acd6d
Author: Henry Zhao <henry.zhao@sun.com>
Date:   Tue Oct 17 21:17:47 2006 -0400

    improved results for mergedfb xrandr refresh rates - bug 6966

commit 831fc4a009841f68fe161b6e0db5b212d7d8079b
Author: Henry Zhao <henry.zhao@sun.com>
Date:   Sun Oct 15 17:12:06 2006 -0400

    fix bug 6966 (Henry Zhao, Shem Multinymous)

commit 5425be996692425e57884e5a4c159fc79510e89f
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 15 16:49:24 2006 -0400

    clean up magic number

commit 457178f418983041ea59df703a17513a47d17044
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 15 16:40:08 2006 -0400

    Disable all ouputs on initial mode set.  The ones we want will get
    enabled by RADEONEnableDisplay().

commit 3fb3f410931a13542fdd4c51c4c9ecada7b37d76
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 15 13:29:48 2006 -0400

    Rework the output init code.  Divide into separate functions
    for each output.

commit 45e13f3c8786e75276cce85de4af653713d9b4d8
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 15 13:18:01 2006 -0400

    Remove paneloff option.  This is already covered by monitorlayout and
    shouldn't be needed with xrandr++.
    Also remove commented out Bioshotkey code.

commit 4abb5b7afea8d37e95461335e52b16168e555dab
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 15 13:10:22 2006 -0400

    Remove Bioshotkeys option.  Leave the bios as configured at boot.
    Most distros enable this option by defalt anyway, and with xrandr++
    it won't be an issue anyway.

commit 2933140b5f1f8a6e270460d8918a14943bd0f174
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Oct 15 17:05:02 2006 +0200

    radeon: Use xf86XVFillKeyHelperDrawable() when available.

commit 4edbfb9eb952f9b3f5f597749192c17baf15cdce
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Oct 15 17:03:13 2006 +0200

    radeon: Track screen damage all the time for page flipping.
    
    This way we don't ever have to forcedly synchronize the pages so we hopefully
    never clobber one page's contents when we shouldn't.

commit c9c2ac2b42398f5bfad909f3289e2545bb7b3888
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Oct 14 15:49:22 2006 +0200

    radeon: Don't try to synchronize pages when the CP isn't running.
    
    Also move the DamageEmpty() call into RADEONDRIRefreshArea().

commit c19915a401ccf69046bed03c8d5067f2e72a094e
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Oct 6 09:55:40 2006 +1000

    always turn on DAC for scanning the CRT connect.
    
    Ubuntu 63994 - myself and BenH discussed this as a good idea on irc

commit b8547aa89f93a7fefbefb1c0d2743999930ac785
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Oct 4 01:44:24 2006 +1000

    update version number to 6.6.99 in preparation for a 6.7 branch at some stage

commit 23a6f97e08fd49e1cae03cd97cae67a5f06b7634
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Oct 3 13:48:09 2006 -0400

    FP timing regs required for both internal and external TMDS

commit 829be884702043fe4c9e349488d2585bf0561ae9
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Oct 3 13:41:21 2006 -0400

    remove bogus registers

commit cd900580dbc8928ebc28514162b4c1dbfe9fd5ae
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Tue Oct 3 00:32:22 2006 +0300

    [mach64] Fix build for !defined(USE_EXA).

commit 22860a3c0685a25f982983654303ad02aedc02ec
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sun Jul 16 19:23:56 2006 +0300

    Bug 6242: [mach64] Use private DMA buffers.
    
    Map the DMA buffers read-only. This eliminates a security problem where a
    client can alter the contents of the DMA buffer after submission to the DRM.

commit cb53fe7c1e45937746e43437ae6adb0355306ae9
Author: Alex Deucher <alex@t41p.(none)>
Date:   Sun Oct 1 18:46:05 2006 -0400

    fix LVDS plus internal TMDS

commit 145c716de6d42778e447581578f3e4db13c9a653
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sun Oct 1 18:22:14 2006 +0200

    Fix radeon vs fbdev pitch calculation.
    
    Fetch the correct displayWidth from fbdevhw after setting the mode.

commit d43ad88fa3913437f6987ab5ab46a38f0cb555a8
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Sep 30 19:25:20 2006 +0200

    radeon: Add support for page flipping with EXA.
    
    Also use the damage layer directly instead of via shadowfb and blit dirty
    rectangles to the second page in LeaveServer in order to try and improve the
    tradeoff between performance and correctness.

commit 146ea328b7962f56c6ab47fbe2adc7561b36189c
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Sep 30 19:22:26 2006 +0200

    radeon: Fix function name typo which could probably lead to an unresolved symbol.
    
    Also remove declaration of an unused variable.

commit 6671c1b01bf29d8f1cacf9306ef658b967d8a3cf
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Sep 30 18:29:45 2006 +0200

    radeon: Always call RADEONGetAccessibleVRAM().
    
    This fixes issues with Option "UseFBDev" and the new memmap code.
    
    OTOH, there is potential for this to break IGPs, but that's what Bugzilla and
    git-bisect are for...

commit c979c7f87fc449cc9631820101edff82c3013e66
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Sat Sep 30 15:14:42 2006 +0200

    radeon: Check ROM more thoroughly before treating it as an x86 BIOS.
    
    This prevents the ROMs on some Mac cards getting treated as x86 BIOSen,
    resulting in garbage values.

commit 37c114acbabe35881c39642e293519e2635907aa
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Sep 30 15:11:42 2006 +0200

    Remove some dead code.
    
    Fix two compile warnings.

commit 6d7b0763173f56050411d7bdf9a583b9bfc050c4
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Fri Sep 29 18:50:44 2006 -0400

    Undo unintended configure.ac change.
    
    Dammit, git, grow a sensible UI already.

commit f96ddd32d3a9e64dc0adec5c50386d6db5b182ee
Author: Ronald Wahl <rwahl@gmx.de>
Date:   Fri Sep 29 17:51:42 2006 -0400

    Hook up DFP power to DPMS events.

commit f6b42149c5a3fee663575fe6bbe78b62695bdbc8
Author: Alex Deucher <alex@samba.(none)>
Date:   Fri Sep 29 00:44:36 2006 -0400

    tvdac handling was reversed between r200 and other chips

commit c0660495080719c052d6393ede707755929102cd
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Sep 27 18:12:52 2006 +1000

    radeon: check DDC info for both connectors not just the pScrn one.
    
    Otherwise we disable DDC before we've checked the CRT if LVDS is in use

commit 5b98545618141e86164f3ce66469f9e16b1cf6d4
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Sep 27 18:10:30 2006 +1000

    radeon: don't move connectors around if LVDS connector is connector 1
    
    On my laptop this allow me to plug or not plug a monitor without affecting
    my lvds

commit 74c725bd86348b5bf9bba0c50e8a6a7885d7ff7b
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 25 11:35:32 2006 +1000

    radeon: cleanup some bits from superpatch

commit 9827afaa40720a58e2fc029c0bf92ad2fe223d11
Merge: 10b4b46 ad8259c
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 25 11:25:17 2006 +1000

    Merge branch 'radeon-sp'

commit ad8259c814629e741ed5567923f40879cc0c7051
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 25 11:25:03 2006 +1000

    radeon : add back tv-dac register write

commit 10b4b46c16ff3748856b732f9a39de40ba197112
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 25 09:08:47 2006 +1000

    remove all CVS annotations from the ATI driver files

commit 976dec04786e9b050945c290840b4cdc978c0b23
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 25 09:00:21 2006 +1000

    radeon: put back in reverseddc code
    
    BenH claims it is needed, agd5f can fix it up later if it isn't.

commit 980fb2f6bd7641c8c57769b0c67e3561903e89a9
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 08:31:56 2006 +1000

    radeon: add some missing bits of superpatch for crtc registers

commit 1ba4f36821e60289cad937abbb0edb273c88436c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 08:25:42 2006 +1000

    radeon: finish radeon_driver.c import for register changes

commit 547543bbefe605a453bfa5ae6d063ae02c5f040e
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sat Sep 23 08:21:59 2006 +1000

    radeon: re-organise FP and CRTC register setting routines

commit fd978140bcb7670f28c684c06c2b6c611c26bef4
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 08:09:57 2006 +1000

    radeon: initial CRTC register setting alignment

commit 406f4911e7ce821002c111d6bcdec35f5b56c943
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:59:24 2006 +1000

    radeon: setup the radeon init function to use secondary

commit 452f0f8079d65679905ed5178a256534ef0db0e4
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:41:57 2006 +1000

    radeon: bring over final set of changes for radeon_display.c from susperpatch
    
    This brings over Alex's final set of changes...
    
    i'm unsure about the disappearance of reverseddc - alex to review

commit a8b9aa69259a0706d0688d2656ece5a292799242
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:38:25 2006 +1000

    radeon: align tabs and make display detection like superpatch

commit 8d4ae98c528a2309dc3c545893dbba2e7f76916c
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:26:44 2006 +1000

    radeon: align some output with superpatch

commit 65b54847c5e79b2ec3cb1a08b265229443c9deb9
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:22:31 2006 +1000

    radeon: change function name to Displays rather than Monitors

commit 7e16d9fff96dcdff8c25dbbe2a51be0023b7985a
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:21:15 2006 +1000

    radeon: make GetConnectedMonitors a static void

commit 6f63b3dc8b3e2299f5f02abc1c565176d2d46cee
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 23 07:19:43 2006 +1000

    radeon: some minor alignments and cleanups for info->

commit c9f3ced3b1c194cacf1ab9436ee6c2d4efd3a8e9
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Sat Sep 23 07:16:10 2006 +1000

    radeon: add reverse display option to switch displays on non-mobility cards

commit e752443c540d9a94522050c61ef7c33d912fece5
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 07:10:10 2006 +1000

    radeon: flesh out mapcontrollers

commit 7a0e4eb47655c4701fc3a4b33b6c8e9f378ccc9e
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 07:05:56 2006 +1000

    radeon: add some info to the map controllers

commit 75bf69c868be6164d0041a32f52244f1ef83e050
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 07:03:52 2006 +1000

    radeon: add simple map controllers call

commit 8ba5abd1329347c7fbf4b4d09c95da0d23b4884a
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 06:58:41 2006 +1000

    radeon: move comment

commit e8d77b7c36fa791a2350a6f4b15728b15d8f3de0
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 06:55:51 2006 +1000

    radeon: refactor blank/unblank

commit 8534723f5710e2916b4a22efe22a6b7365cc8db6
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Fri Sep 22 06:36:03 2006 +1000

    radeon: make DVI_I default connector

commit d7fc79fd9f094ac462de0883af7e6030cb6195a6
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 06:35:34 2006 +1000

    radeon: add enable display function

commit 4a54886d510f26b29d27e5c9a73647554291b1a6
Merge: 70264d6 9fa176c
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Sep 22 06:00:04 2006 +1000

    Merge branch 'master' into radeon-spm1
    
    Conflicts:
    
            src/radeon_driver.c

commit 9fa176c7989030e7340cc9b85d0b6a7b34303091
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Sep 19 13:58:17 2006 -0400

    Provide all resolutions (instead only the largest one) in MergedFB clone
    mode without config file (Henry Zhao)

commit e742aeb28c7d9d6e75932c408bcc7c44af52e303
Author: Alex Deucher <alex@samba.(none)>
Date:   Tue Sep 19 13:45:33 2006 -0400

    fix large negative refresh rates with mergedfb (Henry Zhao)
    fixes bug 6966

commit 9c0c805704f1df1b66adc2a6b9313597ae5b86cc
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 18 19:41:21 2006 +1000

    radeon: fix rn50 memmap
    
    This should fixup the rn50/m6/m7 memory map problem that has been reported
    since BenH's memory mapping changes

commit 70264d645724718a48ca229fedc04e33681b7d31
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 09:56:25 2006 +1000

    radeon; put back old TV DAC code for now

commit 53eb843ad8ec5a292dff0844330ecfa9b7b2a0cb
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 07:55:21 2006 +1000

    radeon: move code around in InitCrtcRegisters

commit bcae4352079109a9dd16117bf9ec19dd215180bf
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 07:33:48 2006 +1000

    radeon: cleanup DPMS set on/off code to use new controller structure

commit 87622f56b3dd7e2d2f00ad71e5b569eac31fb2b1
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 07:15:54 2006 +1000

    radeon: cleanup DacPowerSet

commit a417fa081926b2f84e2cbdc355cc7462d1ebdfad
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 07:15:41 2006 +1000

    radeon: fixup InitFPRegisters function call to not pass info

commit 8bff57a938e92dfc8729e40f7aa9ad9a96262131
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 07:02:35 2006 +1000

    radeon: copy of overupdated bios hotkeys code from Alex

commit 76352c684d5e840c9f7ac0781e3ecb32951b32db
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:54:28 2006 +1000

    radeon: minor cleanup of masking for crtc registers

commit a7b97697ed13ac25844890439ffba31524e03a16
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:53:23 2006 +1000

    radeon: initialise controller structures

commit 362ee3778764633cb4c9388aa329c5b715885038
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:41:14 2006 +1000

    radeon: move InitFPRegisters up to align with superpatch

commit 11fb9a14741746c752b0001c1b1d39a54e69657a
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:35:50 2006 +1000

    radeon: add tv dac adj lookup

commit a15ac59c4d1a15380910be2a7438111b09161c81
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:35:28 2006 +1000

    radeon: re-add ATI patch for rn50 modes

commit d80ea2d67b63ea2f2ce0277952af186b69b19e7d
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:30:30 2006 +1000

    radeon: re-add DAC power on/off code around detect

commit 0a93936f9f048b8837f1c765fea7ccb61f072697
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Mon Sep 18 06:25:15 2006 +1000

    radeon: restore secondary head behaviour

commit 6da5a0bfdedb2062ec835f45514c22917abdcf4c
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Sep 18 06:16:58 2006 +1000

    radeon: move to using Alex's controller structure

commit cd1bc1d1febf0a79d835c7dc8b353123278dec51
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Sep 18 02:44:09 2006 +1000

    radeon: add save/restore of some new registers
    
    move some registers about

commit 9b5c4cf8a98b0c20bb821f5003495481fbd0c10c
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Sep 18 02:28:32 2006 +1000

    radeon: add pre init controller function

commit 311e776c4429485d29aaf11d350cab8e6fe7564b
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Sep 18 02:21:49 2006 +1000

    radeon: add missing tv-out registers to register list

commit 65cb77c79c2c5cb536494200d4fba6815d7e771c
Author: Alex Deucher <alexdeucher@gmail.com>
Date:   Mon Sep 18 02:21:29 2006 +1000

    radeon: restructure files along lines of Alex's superpatch

commit 25fa71ca0a24190cc8be2e80769443e0e09303b3
Author: Henry Zhao <henryz@ati.com>
Date:   Mon Sep 18 03:15:54 2006 +1000

    Power up DAC around check for CRT connectedness

commit 39fcac431eba60adf2d4e357cfc811dbae36a4e1
Author: Henry Zhao <henryz@ati.com>
Date:   Mon Sep 18 03:09:43 2006 +1000

    Bump up clock rate for ES1000 to allow higher resolutions

commit 7d9e2b450f0fa42553156f57572a6dab70a0ea13
Author: Dave Airlie <airlied@starflyer-ubuntu.(none)>
Date:   Tue Sep 12 07:04:23 2006 +1000

    radeon: this stops mergedfb working on my ATI M7 development board
    
    I've no idea what this is for, it came from an ATI codedrop and it may
    fix some laptop or production system, but it looks to me more like a dirty
    hack than a true fix, as I have an M7 which I need to specify CRT for the
    second head and it breaks mergedfb for me.

commit ad1778eb1eb59de14ec309b99131931cbccf64e9
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Sep 10 23:32:44 2006 +0200

    Revert "* [ Bug 6966 ] large negative refresh rates reported"
    
    This reverts caaed927a07ffbac68b08246185ef93c1e7bb98c commit.
    
    See https://bugs.freedesktop.org/show_bug.cgi?id=8137 .

commit 6e92981b024b59c2237f949321f6b2591dada519
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Sun Sep 3 21:11:10 2006 +0200

    Removed the warning re. the r300 DRI driver status.

commit caaed927a07ffbac68b08246185ef93c1e7bb98c
Author: Henry Zhao <henryz@localhost.localdomain>
Date:   Thu Aug 31 13:27:45 2006 -0700

    * [ Bug 6966 ] large negative refresh rates reported
    * [ Bug 6309 ] radeon/r128 fails to read hsync/vsync rates when rang
    *              descriptor is missing
    * [ Bug 5473 ] Blank screen with Radeon Mobility X700 (Acer Ferrari 4005)
    * Reboot should not be needed for external CRT to function when connected
      later on Ferrari 4000
    * Modes need to be sorted, and sorted correctly
    * Provide all resolutions (instead only the largest one) in MergedFB clone
      mode without config file
    * Bump up clock rate for ES1000 to allow higher resolution

commit 6d2028b84ff2b82c849b74776258f8e52c952e36
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 10:05:44 2006 +1000

    and of course it takes two commits to do a simple commit

commit e90c6feddbcd719fda3bbc3d48fd55045e9d5adc
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:59:58 2006 +1000

    add changelog hook from nv driver

commit 1e06212f792d1ed1f7545e16824b86fbd34fa284
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:52:30 2006 -0400

    Enable CPIO in the atimisc driver on ia64 platforms.
    
    This fixes many mach64s, but potentially breaks mach32.  Mach64 is widespread
    on ia64 machines but PCI mach32's are quite rare on any platform.

commit dfa47b09b5b8d7eeaa3f8ae629ebb3c7efb51511
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:50:46 2006 -0400

    Disable DRI on xpress 200{,m} since we know it's broken.

commit 1dcd9b1f75ba2307beb42556aa7f2f945171d5fb
Author: Adam Jackson <ajax@benzedrine.nwnk.net>
Date:   Thu Aug 24 19:42:26 2006 -0400

    Disable DRI on RN50 in a more pleasant way.
    
    Rather than publish a non-existant driver name for RN50, just don't bother
    initializing it in the first place.

commit 64b18e246586b1043a12f381a9d4c834464ed9b5
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:40:04 2006 +1000

    update version numbers for release

commit be229d97e1f0282f2099c7ace7cb257a2738a58f
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Aug 25 09:39:46 2006 +1000

    make colortiling default to on all cards

commit 750ed51bc3d5119e2d2a91a05ae5a971dcd3b88a
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Mon Aug 7 17:09:02 2006 +0300

    [mach64] RENDER support: drop caching DP_WRITE_MASK.
    
    Caching DP_WRITE_MASK causes artifacts, e.g. with evas_xrender_x11_test.

commit b2beea2fa8949874d3d57fb9b43fe85cc08a8bff
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 18:36:24 2006 +0300

    [mach64] RENDER support: save/restore, cache texture registers.

commit 43aaed99950640c3695b3c2b91faabf00c6338a7
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 12 22:12:07 2006 +0300

    [mach64] RENDER support (bug #6877).
    
    RENDER accleration is disabled by default. It is strongly recommended that the
    patch from bug #6772 and the 'exa-damagetrack branch' are merged in the xserver
    before enabling RENDER acceleration. To enable RENDER acceleration, add the
    following in xorg.conf:
    
    Section "Device"
            [...]
    
            Option          "AccelMethod"           "exa"
            Option          "RenderAccel"           "true"
    EndSection

commit d113f40fd97408661193895ff3aa82262f100143
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Aug 12 17:16:33 2006 +1000

    radeon: make some local data static
    
    This is inspired by a patch in XFree86 from David Dawes, it isn't the
    same as we have different gamma curves.

commit a1da2b5e0a38feae01107676a76bdc5c185ad34b
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:18:34 2006 +0300

    [mach64] Halve max w/h for hardware-accelerated operations.
    
    EXA hits these limits for some operations on offscreen pixmaps and GTPRO seems
    to support the reduced limits.

commit a66c8d2f9855caa10142b39f155dd8232b1f2389
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:16:56 2006 +0300

    [mach64] EXA: add memcpy-based UTS/DFS.
    
    EXA hits more optimized paths when it does not have to fallback because of
    missing UTS/DFS.

commit 0fb8503d60cf646c91a806f9ed322f9ceff18baa
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:16:15 2006 +0300

    [mach64] XAA: minor refactoring of memory manager setup.
    
    - DRI: factor out to separate function and add comments on layout
    - no DRI: factor out to separate function, maxScanlines is always equal to
      ATIMach64MaxY

commit e203d86643d5d70bf18248712d05b72b79aee705
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Aug 5 03:15:42 2006 +0300

    [mach64] EXA support.

commit dc1e289a611a17090e6dc7ae8a8d3f26d20df4eb
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Jul 29 01:05:35 2006 +0300

    Bug #6623: Fix I2C bus Mach64 initialisation failure.

commit b377f403e0cd5253402ef3945e5944d1a2763a94
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:03:34 2006 +0300

    Fix warnings for Option:1 bit fields.

commit 91b8b0ca41ad0b9659f0982a05148cab8558e9d5
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:02:48 2006 +0300

    Bug #807: copy throttling.
    
    Fix corruption associated with the engine randomly not waiting for a copy
    operation to commit its results.

commit 7800407a2db4b7307192bf3b43fffb9c4748b9c0
Author: Marc Aurele La France <tsi@xfree86.org>
Date:   Sat Jul 29 01:00:56 2006 +0300

    Bug #807: invalidate read-back cache.
    
    Fix corruption when scaling 1-pixel wide pixmaps, in which case the first CPU
    read of the framebuffer will return stale data.
    
    This bug always manifests itself in mach64 EXA (to be committed soon), with
    this patch mach64 EXA passes rendercheck.

commit 49b11c540d37152eee4907ab30353ede01e4fb56
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jul 29 00:52:28 2006 +0300

    Bug #807: split out TestRegisterCaching block for DP regs.

commit 290c5aaa580428bc4748a47e4b9bcc22b90fc8d4
Author: George Sapountzis <gsap7@yahoo.gr>
Date:   Sat Jul 29 00:51:53 2006 +0300

    Bug #807: split out TestRegisterCaching block for DP regs.

commit fba8c839b47e2c8d6a6d65950c3431ff5b870aa0
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jul 23 18:51:47 2006 +0200

    Bug #6819: Fix broken rendering with *8b8g8r8 source formats.
    
    Use the corresponding texture formats with R200 family.
    
    Unfortunately, it looks like the R100 family can't accelerate these source
    formats, so we have to fall back for them.

commit 60ebe97e2d5d27c2bf4213e201cef74503809cb6
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Mon Jul 3 19:37:28 2006 +0200

    Move variable declarations before statements to be C89 compatible

commit 6900ff3c5e574881b1470e2363b200e99ab8bf3e
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Mon Jul 3 13:09:47 2006 +0200

    Bug #6872: Disable digital output while reading ROM with Radeon 7000.
    
    This is a workaround for ATI Radeon 7000 erratum F1.

commit 920ac1f56fad6f48a30e65836ce054815f270738
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jul 3 01:21:18 2006 +0200

    Do even less cache flushing when the previous engine mode is known.
    
    OTOH, flush everything when the previous engine mode is unknown, and mark the
    engine mode as unknown in a couple more cases.

commit dd0dd4bab76907b4b1b6d814f24e73e57d71f587
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Jul 3 01:10:10 2006 +0200

    Bug #6762: Remove gratuitous cache flushing.

commit 22f165f290f57e638d198f24a37f62fc16b72bae
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jul 3 00:39:45 2006 +0200

    Build and warning fixes for !defined(USE_XAA).

commit ea5105230c7c3519730b8d3c250e9ba9a4e4374a
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Mon Jul 3 00:03:22 2006 +0200

    Reserve HW cursor memory statically instead of from EXA offscreen.
    
    As a result, quite a bit of code can be removed that attempted to deal with the
    EXA offscreen memory disappearing, with varying success. Because the HW cursor
    memory is now always immediately after the front buffer and before the back
    buffer, this also fixes bug #6808.
    
    As the HW cursor memory is now reserved statically with EXA and XAA, change
    RADEONUseHWCursor() to check info->cursor instead of info->cursor_offset, for
    which 0 might become valid with HW cursor enabled in the future.
    
    Change info->cursor_offset from unsigned long to CARD32 as the corresponding
    register is 32 bits wide, and to avoid issues with printf.

commit 66586f905857ea5bf37cb5d34949cd450a9ed067
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jul 2 23:38:20 2006 +0200

    Clean up some redundant code.

commit 1159c85861dc507ebf323aca82e32fcc67726420
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jul 2 18:24:28 2006 +0200

    Bug #6548: Fix playback of interlaced video with more than 1023 lines.
    
    This will still break with 2048 lines...

commit 11bedb7c845fc6074383890d5525315aebe05f2c
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jul 2 17:03:23 2006 +0200

    Bug #6939: Disable RENDER acceleration by default on RN50.
    
    Based on patch from Weixing Zhang, but still allows enabling it with Option
    "RenderAccel".

commit 4a0c22e32901a510c7aad070be25c31519c284e3
Author: Weixing Zhang <anzhang@ati.com>
Date:   Sun Jul 2 16:55:25 2006 +0200

    Bug #6939: Disable 3D acceleration on RN50 by setting invalid ClientDriverName.

commit 9c4a1e3300d30b23806988aa9328fc6ef92e2663
Author: Frank Gevaerts <frank@gevaerts.be>
Date:   Thu Jun 29 18:21:22 2006 +0200

    Fix build for !defined(USE_EXA).

commit ee0544b670567491b7770f469a64a6cd85519ba1
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:19:58 2006 +0200

    Remove unused variables.

commit 15c556f5a8c9069d3dd00ce139d46c39b7298951
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:18:21 2006 +0200

    Don't declare unused variables on __powerpc__ and __alpha__.

commit 055ac2836ec0afd51cf554d043a59068c36a07d3
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 29 18:14:45 2006 +0200

    Fix strict aliasing violation flagged by gcc -Wall.

commit 4b1904017caa976c138594a86e75feaf470e72b5
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Jun 26 20:34:34 2006 +1000

    radeon: force CP and VIP clocks on some r300 and rv100 chips.
    
    fglrx appears to do this on r300 and Jerome Glisse has spent most of his
    life tracking down what caused the 9800 to lockup. This is my attempt to
    fix this. Please report if it works for you.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c5d8c8db3e75976687bfb364f0a7b235c7ae8793
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sat Jun 24 16:01:19 2006 +0200

    Bug #7274: Fix corruption with 'small' accelerated DownloadFromScreen transfers.

commit f25ba3dc0e7850f0b1b78f54c0e7211bf2e81b3a
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 11:38:18 2006 +0200

    Remove obsolete FIXME.

commit 764013ec61b9043f1487513658e374569f7154a9
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 10:56:02 2006 +0200

    Use AC_CHECK_HEADER() to check for exa.h

commit 3c701d49b3eb7adb82267cec53163e475913aca3
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 09:59:29 2006 +0200

    Use AC_MSG_RESULT() instead of echo for check results.

commit dbef62615f38aebf4cdc579e3b26a7e7c719abc4
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 08:50:49 2006 +0200

    conditionally declare pPCI and PciReg, too

commit a01c01787cfbe3706ae7747cde1657abd79ecdaa
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Wed Jun 21 09:38:47 2006 +0200

    Bug #7283: Build fixes for !defined(XF86DRI).
    
    Thanks to Matthieu Herrb for pointing out some of these.

commit 79d1c573133e64ddf4446b6bb0eaab4a5a6c73ab
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jun 18 17:39:09 2006 +0200

    Implement accelerated EXA DownloadFromScreen hook.
    
    x11perf -getimage numbers only increase by about 20-30% on my PowerBook with an
    M9, but by about 100 times(!) with a PCIe X550. I suspect the former could
    perform better with PCI as opposed to AGP transfers, which would also remove
    the need to disable this by default with AGP.

commit 2bcdc7cfd013bd457d35f927390e5cc3544f30f1
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jun 18 16:01:00 2006 +0200

    Remove #include <fbdevhw.h>, not used here.

commit 25a5ccb63a9e3074b4c8eaf48844877d84ff76bb
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jun 18 15:26:55 2006 +0200

    Prefer visuals with stencil when it's hardware acclerated.
    
    Also make the formatting of the if statements consistent.

commit 8fcc436f19f9c1371295af2d0c45608fb43c584b
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jun 18 15:16:08 2006 +0200

    Take part of the blame for the radeon driver.

commit c8366d7b457565a06acdf6b40c5448c7f13f1641
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Sun Jun 18 14:24:14 2006 +0200

    Add Option "DepthBits".
    
    This allows getting higher depth buffer precision and stencil hardware
    acceleration in depth 16 or saving some video RAM at the cost of these features
    in depth 24.

commit 23a21d00db6f3b88b54c44648f968018a03677d3
Author: Tilman Sauerbeck <tilman@code-monkey.de>
Date:   Fri Jun 16 16:37:07 2006 +1000

    [PATCH] move the declaration of pMach64 into the correct ifndef statement
    Signed-off-by: Tilman Sauerbeck <tilman@code-monkey.de>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c6b33db9d2c751e34c2152b0bb7e0e84a812589f
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Jun 16 16:22:03 2006 +1000

    ati: prepare for release
    
    Update some versions for release

commit 9c534b5330534fc6cf392936a9b200a5128c787c
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:09:55 2006 +0200

    Some more ignores.

commit 3d68698647fb17a6f5ae9a225f552cb0130fa946
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:07:15 2006 +0200

    Fix semantic glitches pointed out by gcc -Wall.
    
    The radeon driver builds warning-free with gcc -Wall here now.

commit ab2b48e0df328fd08a2412911126b3184a601aea
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 16:06:13 2006 +0200

    Remove another unused variable.

commit 56bd5a370472663af5607cd327f757367b238db0
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 15:35:05 2006 +0200

    Fix some more cosmetic warnings.

commit ec93e08b24f7c0e583970d08bfe18ad142e6b047
Merge: 051c49d 6ca9862
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 15:03:27 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit 6ca986242c80bcfe7ca2d435a772bbdf034892c4
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:24:46 2006 +1000

    remove unused variable

commit 9a5f5bc0d3f5e62b79355993ca6246382394daee
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:24:16 2006 +1000

    remove all printf specifier warnings on Linux

commit 051c49d0f002c72d1d8f15f6df264d8b093d4e95
Merge: a840afc dfac819
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 13:10:44 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit dfac8191dbda29ef7f6ce33d7356fee89c17d59b
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:05:16 2006 +1000

    fix last ati*.[ch] format specifiers

commit 33525540f3a9d6760c6edcfe765d2a004a6b894f
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 21:03:01 2006 +1000

    fix more printf formats

commit 6bcf6f29af24b6725e097dd72af8e8b9f6d0676c
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:59:33 2006 +1000

    some more unused variable cleanups

commit a840afc75a0453b4694e3f987ebdbddc6844a169
Merge: c90c49d d511ef4
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 12:46:58 2006 +0200

    Merge branch 'master' of ssh+git://git.freedesktop.org/git/xorg/driver/xf86-video-ati

commit d511ef486a15b582e5d1708a17a00701f5cf1ccd
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:39:22 2006 +1000

    ati/r128: add includes to get C function decls
    
    Also fix a void pointer cast

commit f46c3bebe821ee0031770d98d04bd406d1abb9ed
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:34:56 2006 +1000

    fix some more unused variables and bad parameter passing

commit 6c3f81683abab8ff6b8f2fcaf01a2a1a63af5ef6
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 20:25:00 2006 +1000

    ati: fix -Wall in atidri.c
    
    atidri.c has some parameter passing bugs, fixed those and cleaned other
    warnings.

commit 58c6aac0669101481ef6b8217e5cede4573ece42
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 19:58:11 2006 +1000

    theatre: fix all -Wall warnings in theatre*
    
    This fixes all the warnings, it doesn't clean up the horrible mess that is
    theatre*.[ch].

commit c90c49da3844f93d2d29070b15bb7def72b98b0f
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 10:29:46 2006 +0200

    Collapse .gitignore files into single toplevel file, sorted with LC_ALL=C.
    
    Suggested by Keith Packard.

commit b7a3e4c9b33f72ae447f99c0c765f24fce988142
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 09:45:12 2006 +0200

    Fix some implicit function declarations.

commit 556ddc9c41020271e92389a3900d097ec443c625
Author: Michel DÃ¤nzer  <michel@tungstengraphics.com>
Date:   Thu Jun 15 09:30:43 2006 +0200

    .cvsignore -> .gitignore

commit 4708327969a21fc171dcd80a1b506028cc8e4f90
Author: Dave Airlie <airlied@linux.ie>
Date:   Thu Jun 15 07:37:03 2006 +1000

    ati: remove Changelog from ATI driver.

commit ecbec8379c24bd6c16ced674d5e6affcd3985e46
Author: Michel Daenzer <michel@daenzer.net>
Date:   Thu Jun 8 17:29:12 2006 +0000

    Bug #5678: Fix setting of transfer mode for AGPv3 devices (Tilman
        Sauerbeck).

commit 874ff105bc63c4fc242fbabaec04fde2cb81fdd4
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Jun 3 10:50:33 2006 +0000

    Bug #1889: Stop the CCE before an engine reset. (Conn)

commit f9db5595fe4d62c54b3a501b2af64b4e2b7035cd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sun May 21 14:33:34 2006 +0000

    Derive ATI_VERSION_{MAJOR,MINOR,PATCH} from package version in order to
        hopefully confuse bug triagers a little less.

commit 25ba85cab8b3d831da646fef19f01769410fc958
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed May 10 02:46:37 2006 +0000

    - remove obsolete option "OverlayOnCRT2" (bug 6488)

commit ede75fe2b1850a4d9f03c724b7c1d1ed65e60f2f
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue May 9 14:40:23 2006 +0000

    Drop support for radeon DRM <= 1.7. The 2.4 kernel has version 1.7, and
        various problems up to system hangs on X server startup have been
        reported with that and DRI enabled.

commit bc93a46c4fe499f23b9c0ff52e2e36b4c587f7d6
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon May 8 09:29:34 2006 +0000

    Bugzilla #4640 <https://bugs.freedesktop.org/show_bug.cgi?id=4640> Patch
        #5273 <https://bugs.freedesktop.org/attachment.cgi?id=5273>:
    Add cases for FOURCC_RGBA32 and FOURCC_RGB24. This prevents clients from
        receiving incorrect data sizes with these formats. (Jan Schmidt)

commit 2b0cdd9448a24ea067b0d78f319b99c1041df2e0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed May 3 04:25:27 2006 +0000

    Enable decoding of version 4 TMDS PLL config tables, they actually work,
        the problem in the comment only concerned pre-production cards that Hui
        tested apparently. Also set back the default value to what it was
        initially, fixes some more cards that don't have a proper table (Mac
        Mini for example)

commit 36c04b88416905b9ae305583e8e34fefdbfafc50
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon May 1 17:49:41 2006 +0000

    Bugzilla #6755 <https://bugs.freedesktop.org/show_bug.cgi?id=6755> Patch
        #5536 <https://bugs.freedesktop.org/attachment.cgi?id=5536>:
    Change HostDataBlit interface to take dst_offset_pitch and coordinates
        instead of just a destination pointer, as the latter is not sufficient
        with tiling. Also, use HW clipping to avoid overwriting destination
        data outside of the specified width.
    Adapt to new HostDataBlit interface. This fixes corruption with
        UploadToScreen to the front buffer (from exaPutImage).

commit b90d3710e67caad0686efab491c2b76ae877920c
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 21:30:23 2006 +0000

    Bugzilla #1992 <https://bugs.freedesktop.org/show_bug.cgi?id=1992> Patch
        #4988 <https://bugs.freedesktop.org/attachment.cgi?id=4988>: Fix Option
        "DisplayPriority" "HIGH" for R300 family.

commit 30f3ce5c5ba205a23748def11de019ee727897f3
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:34:57 2006 +0000

    Properly de-initialize EXA driver data, so EXA can be initialized again in
        the next generation.

commit d705429c230c9cc1645ae540a51dba62cae9f23e
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:18:48 2006 +0000

    Fix tests for (un)forcing HW cursor. The broken tests caused problems when
        switching to console with 3D clients running.

commit 6142cb079d4a5844e4863c800baf4ae19c636af5
Author: Michel Daenzer <michel@daenzer.net>
Date:   Sat Apr 29 20:12:38 2006 +0000

    Prefer double-buffered visuals. As a consequence, the root window's visual
        is double-buffered by default, which is desirable in a number of
        situations, in particular when running a GLX compositing manager with
        AIGLX.

commit eb841974d041b19461b7fb726687df8938b2e39b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Apr 28 02:55:08 2006 +0000

    Bug #6761: Fix font rendering in non-DRI mode by replacing RB2D_DSTCACHE_*
        with RB3D_DSTCACHE_*. The RB2D versions are read-only mirrors of the
        RB3D. This is masked when DRI is enabled because the DRM uses the right
        registers in its flushing.

commit 85e2ee6de6fd347aad66785ec7119f92013cd994
Author: Dave Airlie <airlied@linux.ie>
Date:   Wed Apr 26 08:38:47 2006 +0000

    Make the ATI driver use the PCI BAR size to determine the MMIO register
        aperture size. Otherwise it tries to overmap things if they are up near
        the end of memory.

commit 13b19edf5accb7427436d3f0b1c9a9efb4fe98fa
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Apr 26 07:26:15 2006 +0000

    Add support for some component-alpha operations (InReverse, OutReverse)
        necessary for testing upcoming general component alpha acceleration
        assistance in EXA. Tested with rendercheck on an r100.

commit 44a45bcb82d49349f4fdfae3e4b8f24f98d99b46
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 25 23:31:56 2006 +0000

    Use a CPPFLAGS with XORG_CFLAGS so that the exa test can actually find its
        headers and not fail. Also correct some nearby spelling.

commit cc1825b503ce7e785cbb4611fd177477a1081b6e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Apr 24 07:44:52 2006 +0000

    Fix enabling of external VGA output on some cards with dual entity setup
        instead of MergedFB. This was broken due to bogus manipulations of a
        register between the 2 entities. This fix is a big "violent" in that it
        always enables the analog output regardless of what is plugged. It
        should work though (at the expense of some additional power
        consumption). A proper fix should be easy to do once Alex gets his
        output mapping rework in.

commit a66145bc9d487f7e19237cf292f12750cb959f61
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Apr 21 00:38:44 2006 +0000

    Bugzilla 6672: fix interrupts on radeon since memmap changes

commit f1f057df9aaba42986d9e20afe6f609a90318333
Author: Dave Airlie <airlied@linux.ie>
Date:   Fri Apr 21 00:34:43 2006 +0000

    Add support for backing up the PCIE GART table on VT switch. This makes
        suspend/resume work a lot better on PCIE cards.

commit 31396df3b0101571bb85a4a66b67f5a8b0c992a9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Apr 8 01:19:17 2006 +0000

    Bump to 6.6.0 and release. This module's versioning is completely screwed,
        so until we split out mach64/r128/radeon please just increment the
        package number whenever you make significant changes.

commit d706f494ed22afd369991e8c75a2d4f5aed15305
Author: Aaron Plattner <aplattner@nvidia.com>
Date:   Fri Apr 7 23:06:02 2006 +0000

    Add a DrawablePtr argument to the XV functions to pave the way for
        redirected video.

commit f94685aec26b65f60c00a4b1bcd8f26bd80eb6e4
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Apr 4 07:42:36 2006 +0000

    Bug #5632: Fix up ati.4 to explain that it is a wrapper driver for the
        other three. While here, touch up radeon.4, and add an authors list
        gleaned from checking copyright headers.

commit 58c9b1d84f514755945e7a0d25fd5530af34ce95
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Apr 2 21:45:12 2006 +0000

    Add missing .cvsignore lines.

commit f1ce6170ef21e1f9769337c3138cd8d65c33e40a
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Apr 1 23:02:40 2006 +0000

    - Fix dpi when switching from clone to dualhead with MergedFB.
    - Add ConstantDPI option to force a particlar dpi across mode changes Both
        based on Thomas Winischhofer's sis code.

commit 607f18cfbfc2a7b5509f8b567bf510fce31b361e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 27 06:12:57 2006 +0000

    Fix a regression of my latest fix that broke color tiling on some setups.
        RADEONRestoreMemMapRegisters() must not clear CRTC_OFFSET_CNTL and
        friends unconditionally but only when there is a map change or it will
        clear them after the DRI updates the AGP location, thus turning tiling
        back off on the CRTC. Also remove a duplicate call to
        RADEONInitCommonRegisters().

commit bf1c4471137f10b7de9d79519ca2240058997e18
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Thu Mar 23 18:04:17 2006 +0000

    commit the actual changes instead of just the Changelog...

commit aa5fff9bae4818bbf99e8d9caa8f2ce9905294ca
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Thu Mar 23 17:59:25 2006 +0000

    Use programmable tap coefficients for (hopefully) better video image
        quality when downscaling. Remove unnecessary code programming the tap
        coefficients twice. Disable some code which is supposed to improve
        filtering quality but causes very visible image quality problems at
        least with rv250 when upscaling. Fix potentially broken FOURCC_RGB16T
        format (untested if it was broken, untested if it works now...). Change
        some magic numbers to (new) macro defines.

commit 17c52ff15ebe2cf220d5988ee13b599c41799886
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 23 01:37:15 2006 +0000

    Call RADEONRestoreCommonRegisters() before RADEONRestoreCrtc2Registers()
        instead of after. I can't find any good reason why we did it backward
        until now and it definitely causes problems as the workaround for VT
        switch in RADEONRestoreCommonRegisters() will break output to the
        secondary head in various situations. Also does an unrelated minor
        update to a comment.

commit 673e4d7501861066fdd0874919a4524b820b944b
Author: Kristian HÃ¸gsberg  <krh@redhat.com>
Date:   Thu Mar 23 00:06:56 2006 +0000

    Add atipciids.h.

commit 5dcb4152dca6ac1fe9342f44eb48c0198b15772e
Author: Kristian HÃ¸gsberg  <krh@redhat.com>
Date:   Wed Mar 22 22:30:14 2006 +0000

    Convert use of xf86fopen() and other xf86 wrapped libc symbols to use libc
        symbols directly. The xf86* versions aren't supposed to be used
        directly.
    Drop libc wrapper; don't include xf86_ansic.h and add includes now missing.

commit 21acdf371e3cf913c5affbd3e86641cfb115311c
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Mar 18 00:08:24 2006 +0000

    Clear the offsets when updating the memory map instead of when enabling the
        CRTCs and try to make that code more reliable. Doesn't disable the
        CRTCs beforehand.

commit 323ecb92e40d71c5ef994b41b6d8dedba6dd6203
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Fri Mar 17 03:00:53 2006 +0000

    Fix various small cosmetic issues. Change a driver message, get the order
        right for requesting drm versions, replace the use of some numbers with
        the respective macro defines in radeon_video.c, and add some more macro
        defines. None of that really matters.

commit dc552edf191e14249421f8b27146874f16b80c1a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 21:53:58 2006 +0000

    Add missing return statement (the driver would not start randomly), add
        RV410 to the list of new generation cards for the memory map setup and
        fix a bogus message.

commit 901409f47cc990721c1648b1c08e23450e6a4452
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 04:32:22 2006 +0000

    Fix incorrect CRTC2_OFFSET values when using old-style dual head (not
        MergedFB). Fixes Xinerama for me.

commit 4d6656062129da0489eb4bc898871379ba891d8f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 16 03:09:34 2006 +0000

    Add various workarounds that seem to fix some remaning lockup scenarios I'm
        experiencing with the driver when setting the memory map. Some of the
        magic delays are a bit dodgy but they seem to work, I suppose I can't
        do better now without help from ATI. Also removed some really too noisy
        debug messages.

commit 36799e3ea7ddde5fce528e8bc17ea942933a9111
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 15 04:03:37 2006 +0000

    Fix various issues with DRI & server recycle by putting DRICloseSreen in
        the normal CloseScreen callback chain at a spot that matches the call
        to DRIFinishScreenInit in order to unwrap at the right time.

commit 50923b6a9325592edc8b02b17646f96b9b8c4a01
Author: Luc Verhaegen <libv@skynet.be>
Date:   Wed Mar 15 00:46:33 2006 +0000

    Add some autoconf to keep this driver from building EXA when a slightly
        older server with older exa is installed.
    The way in which this problem was treated by the actually related
        developers explains a lot about this driver.

commit 74f4ed4275866475b3c182fae962df2fc0946b85
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 13 02:57:17 2006 +0000

    Fix typo in the function setting the color space transformation factors for
        old radeon

commit 65625c6c2053792cd14b54c904bf46f360ef1565
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 13 00:09:44 2006 +0000

    Earliest fix introduced a bug due to another chicken & egg problem in card
        detection. Now split PreInitConfig into PreInitChipType and PreInitVRAM
        so that PreInitDRI can be done just in between. Restores proper AGPx4
        functionality (when enabled)

commit 3a290115af41b0ecb94eb201d7e7abb42ebbfec6
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 12 06:53:27 2006 +0000

    Stop using xf86PciInfo.h, instead use a local copy of the PCI IDs we need
        in atipciids.h so we can update the ATI driver independently of the
        server when new chips are added

commit d6b8f0a5eeb332563ec3ec7082f03be1797d26d8
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Mar 11 04:19:47 2006 +0000

    Add #ifdef XF86DRI guards around references to info->allowPageFlip and
        info->depthMoves, since they are only defined if building with DRI.

commit 69fe90bc501df9bd9e74b894bfca79a4025725bd
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Fri Mar 10 13:00:49 2006 +0000

    Use "FBTexPercent" option for XAA too (only for increasing memory reserved
        for textures).

commit 8033d7423267fc1b3725df6a077dd910b586daaf
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 9 23:26:27 2006 +0000

    More memory map fixes !!! This time, we add a way to get the DRM kernel
        module version early, in order to properly limit the framebuffer size
        when a module that doesn't support the new map is loaded. That will
        improve backward compatibility. I also made the minimum required kernel
        module version 1.3 which hopefully shouldn't be a problem for anybody,
        and cleaned up the ordering in which we test for DRM version to enable
        features

commit c637939d3c4ce5cdddbc5200d5ffbca4c3927050
Author: Michel Daenzer <michel@daenzer.net>
Date:   Thu Mar 9 15:41:16 2006 +0000

    RN50: Skip modes that exceed memory bandwidth.
    Bugzilla #5766 <https://bugs.freedesktop.org/show_bug.cgi?id=5766> Patch
        #4636 <https://bugs.freedesktop.org/attachment.cgi?id=4636>
    - Acknowledge that RN50 only has one CRTC, and use this to distinguish it
        from RV100.
    - Fix detection of RN50 memory type and bus width.
    - Model RN50 memory bandwidth limits by capping the pixel clock range based
        on memory clock, bpp and memory bus width. (ATI Technologies Inc.)

commit 890b95a3ddad7634f3aea635cb236b221e902acc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Mar 9 06:06:25 2006 +0000

    Update drivers that support EXA for the new EXA ABI. This consists of
        moving all the accel and card members into the driver ptr, filling in
        the exa_major/ exa_minor fields, and always using LoadSubModule so we
        can check the module version up front. Only tested on ATI.

commit e19ccfa18fee046c54d7a9401e4e0098b2300598
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Mar 3 16:41:41 2006 +0000

    Add Option "FBTexPercent" to override the amount of video RAM reserved for
        OpenGL textures with EXA.

commit ca00035eccb6e3495b27f8e64f2d016d8d2a9ce2
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 2 02:05:17 2006 +0000

    Fix the fix ... I didn't interpret PciInfo->size properly and forgot that
        the function works in Kb not bytes... Ooops.

commit b2145aea36bb035bff048366c607b967d70fff49
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 1 21:35:14 2006 +0000

    Extend the alignement workaround to post-rv280 chips as well (thanks Hui)
        and also limit the CPU accessible memory to the size of the PCI BAR
        size (yeah, it was passed to the driver, I just got blind for a while
        it seems)

commit 163581a82fe9395672c31b41cd67aa44158f5201
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Feb 28 23:34:03 2006 +0000

    Workaround for rv280 bug which needs the framebuffer memory mapping to be
        aligned to its own size. Also add back limit of 128Mb of mapped fb
        space for now until I fully sort out what's up with dual function
        cards. I would really need to access the PCI BAR sizes here but that
        information seem to be missing from the PCI info passed to the driver.

commit 5ff8fb2bea1fe7d14db53c19ff3a3a56668ec417
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Feb 28 00:52:53 2006 +0000

    Add the newly added (and tons of previously forgotten ones) pci ids to the
        ati wrapper too (probably not required for it to work as everything
        should default to radeon anyway there).

commit 1574b41a0f894f9b6e30d3ee94e596695a4c64f0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Feb 26 10:01:32 2006 +0000

    Fix page flipping with XAA. The new code ended up calling ShadowFBInit()
        before XAAInit(), which breaks ShadowFB.

commit 1f43a584a684af8078631425886cce236500e0e6
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Sat Feb 25 01:57:05 2006 +0000

    Add pci ids known to exist (see #4284 for instance). There are still
        entries which probably don't really exist (cancelled cards and such),
        leave them as-is. Fix the name of some entries, mostly based on the
        .inf file of the newest catalyst driver. Use own family id for rv410
        and rs400, though there is no different code (yet?).

commit 5c141bb15d1163e04c012a0cdf0699d534f0be37
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Feb 16 23:27:44 2006 +0000

    Memory map and misc fixes. This completely reworks the way the driver
        detects available & accessible video memory and initializes the card
        internal memory map. Along the way, I re-ordered some of the stuffs in
        pre-init in order to remove some dodgy codepath, fixed various init,
        exit and vt switch issues, and overall made the driver more robust. The
        full memory map fix requires an updated DRM. The X driver no longer
        tries to position the AGP aperture, this becomes entirely DRM
        responsibility.

commit 8c6e5a6eb50d371fd4ec700c26aa628cb5f45731
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Feb 15 23:36:55 2006 +0000

    The engine setup would trigger a bogus line write before the proper
        addresses are setup, thus causing the card to try to bus master over
        the system bus to some stale location (usually 0 but could depend on
        whatever was used before X). Remove that useless init bit, and always
        setup some good enough engine source & destination pointers in case we
        have some other spurrious engine activity going on.

commit d4ec0223029d8fe03a836a5a6e9a7cc8897b4c90
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 13 05:30:13 2006 +0000

    Fix EXA acceleration of textures with byteswap or tiling From John Clemens
        <john@deater.net>

commit 79c60ebbc34aaf0ac0b0723898d5b63015547178
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Feb 7 04:39:59 2006 +0000

    Fix a copy'n'paste-o in the EXA render implementation that resulted in
        [ax]8b8g8r8 pict formats not being supported on r200, but no other
        issues.

commit 8d74f3d49e73626f5d658ba6586a7c1487dae141
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Jan 19 14:20:37 2006 +0000

    Bug #5656: Set all Radeon XPRESS 200 R[CS]4xx-based chips to have IsIGP =
        1, fixing modesetting issues.

commit e490f4b86e6bba70f7c884fca3cf41d159323689
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jan 13 01:37:43 2006 +0000

    XF86_VERSION_CURRENT -> XORG_VERSION_CURRENT

commit ac296d9137b02753bc79a9930d168855adea9c95
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Jan 13 01:02:01 2006 +0000

    When failing to parse MetaModes, reset CRT2pScrn to NULL after free'ing it
        so we don't crash when trying to use it later (such as in
        RADEONFreeRec).

commit dd98ce78407c9eddd7adaad1d73d6910e6949b87
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jan 8 19:02:16 2006 +0000

    Bug #5523: Make radeon compile without USE_XAA. (Tilman Sauerbeck)

commit a99429b2bc6407ff2a094e6ee30ce2032f734966
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Dec 21 02:29:59 2005 +0000

    Update package version for X11R7 release.

commit 96e225b950c74e64f3f788be8a8489c5075ea55a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Dec 19 16:25:52 2005 +0000

    Stub COPYING files

commit 6bea785ea0bdf01673a6ddc45765ae7372fdd371
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Dec 19 09:07:50 2005 +0000

    Typo fixes, mailing list & url updates, and other changes to prepare for
        X11R6.9 & 7.0 releases.

commit 07d5cf8fc37eb72dbb344081ff07d59dbf568e9c
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Thu Dec 15 23:15:37 2005 +0000

    Bugzilla #5238 <https://bugs.freedesktop.org/show_bug.cgi?id=5238> Patch
        #3978 <https://bugs.freedesktop.org/attachment.cgi?id=3978> r128 man
        page dualhead note update (Alex Deucher)

commit 6db5cbfbf6d405d9871892d1255dd7442e4539e9
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 15 00:21:32 2005 +0000

    Update package version number for final X11R7 release candidate. Bump
        driver version number.

commit 726fd3a81dfbd1b0c8e4ede104a48523daecab92
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 14 19:41:28 2005 +0000

    Bug #1760: Fix ati wrapper multihead to be dlloader friendly.

commit 328a2d74dabe32ce35e879799412666feedb0eef
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:25:02 2005 +0000

    Bug #3869: Don\'t walk off the end of an array in connector detection.
        (Eric Anholt)

commit 03961a05438e916b6725f4e547f23a84ead13c5e
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Dec 9 18:15:31 2005 +0000

    Bug #1106: Fix memory allocation for Render. (Michel Daenzer)

commit 091e5c584124f9b849c0f46802b2f0d8b0cc2388
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:55:18 2005 +0000

    Add configure options to allow hard-coded paths to be changed.

commit e38e2df15c9a4b08dee6386a225e98827bb35aad
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Dec 8 17:54:40 2005 +0000

    Allow hard-coded paths to be configurable.

commit b8203604bf9bd3813668313a1c8c17040b9d93ce
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Dec 6 22:48:33 2005 +0000

    Change *man_SOURCES ==> *man_PRE to fix autotools warnings.

commit a86920e812bfd40ec9facfc234220e83066dd263
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Dec 3 05:49:32 2005 +0000

    Update package version number for X11R7 RC3 release.

commit 010adc8988846e6f76f111a9fd32eca021d12fbc
Author: Kevin E Martin <kem@kem.org>
Date:   Sat Dec 3 05:45:17 2005 +0000

    Bump version numbers for X11R6.9/X11R7 RC3.

commit a5efa6724e7fd8318e262060b084630632dfcb44
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Dec 2 02:16:07 2005 +0000

    Remove extraneous AC_MSG_RESULT.

commit feeef3cba1f4736a96daf3002ec902ced2874198
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Nov 30 18:51:22 2005 +0000

    Bump libdrm dep to 2.0.

commit 7ca2b3fa30fedd07951f7c6e73ed4d2a6f6606ea
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Nov 29 23:29:58 2005 +0000

    Only build dlloader modules by default.

commit e167e5151e32d54919e96cbfdcf932e16b1cab2a
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Nov 28 22:04:08 2005 +0000

    Change *mandir targets to use new *_MAN_DIR variables set by xorg-macros.m4
        update to fix bug #5167 (Linux prefers *.1x man pages in man1 subdir)

commit 0015b1a007bed61aaf389f8f927e4ae0568d7da7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Mon Nov 21 10:49:09 2005 +0000

    Add .cvsignores for drivers.

commit 00b8f6ccfbb5163c47e9def0e4ecc6ac7be7e8af
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Nov 11 11:05:42 2005 +0000

    Bug #1028: Don't (incorrectly) mark the 24/8 z/stencil case as slow, which
        resulted in whining at runtime about the visual not being supported.

commit 33326847ccc9cf4cd6a23a257e5392e348e6dd22
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 21:31:20 2005 +0000

    Bump version numbers for X11R6.9/X11R7 RC2.

commit 68e11246bd6f6a641807230834dce4e7fd6911af
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 21:15:14 2005 +0000

    Update package version number for X11R7 RC2 release.

commit 1582d3b34643babcbb794d2df8d7c9a755d569c9
Author: Matthias Hopf <mhopf@suse.de>
Date:   Wed Nov 9 17:42:57 2005 +0000

    Bug #4998: Add ';' and ',' as valid separators for MetaModes as well.

commit 2d22d78d157e07e6ec6a3e2d03fc17f102f6e00e
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Nov 9 07:30:03 2005 +0000

    Fix DoLoadableServer NO build.

commit 999f67763a5ea9fef7b7b576262f0da079efcfee
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 16:30:48 2005 +0000

    bugzilla #988 (https://bugs.freedesktop.org/show_bug.cgi?id=988) Fix typo
        which may or may not have had a negative impact on stability with R300
        class cards.

commit 5aa401efa0b8d81da418eafeb857142a33f85da9
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 14:05:00 2005 +0000

    bugzilla #4494 (https://bugs.freedesktop.org/show_bug.cgi?id=4494) Call
        RADEONDGAInit() even if EXA is enabled; the problematic DGA
        acceleration hooks are already disabled in that case.
    This fixes DGA issues such as DGA mouse (typically used by games in
        fullscreen mode) not working.
    Fix suggested by Eric Anholt.

commit 345180131a7b2752773dc2a3ee1221ad1e05c815
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 13:35:23 2005 +0000

    bugzilla #4916 (https://bugs.freedesktop.org/show_bug.cgi?id=4916) Fix
        segfault with MergedFB and EXA enabled and HW cursor temporarily
        disabled.

commit 23911421ffa7bdd2e191a72c41bf1f26c92c1a67
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Nov 8 09:44:41 2005 +0000

    bugzilla #4951 (https://bugs.freedesktop.org/show_bug.cgi?id=4951)
        attachment #3689 (http://bugs.freedesktop.org/attachment.cgi?id=3689)
        Fix HW cursor getting silently disabled with EXA.

commit e1259c0117a190cf4c6e7be07d5aa83e03afb3a0
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Mon Nov 7 19:28:40 2005 +0000

    Replaced the variadic macros(gcc) by macros according to C99 standard

commit 67bdaae04ab37f38a6d0c8dc4b6328c3ba3b3393
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sun Nov 6 07:41:29 2005 +0000

    Sun bug #6325220: Xorg dumps core in dual monitor configuration with radeon
        driver if CRT2Position not specified in xorg.conf
        <http://bugs.opensolaris.org/bugdatabase/view_bug.do?bug_id=6325220>
        (Stuart Krietman - Sun Microsystems)

commit 733ebf6e4a7c7b2f1a861077d43da2a853e4c0d7
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Nov 1 15:08:52 2005 +0000

    Update pkgcheck depedencies to work with separate build roots.

commit dd0eb76337bfdaec8f456380a6ced9e0487e190f
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Oct 21 18:40:18 2005 +0000

    Bug #4829: Remove some useless DRI symbol checks.

commit e6c1859e3a7c84b882e0c30d0783255ed1258d9e
Author: Donnie Berkholz <spyderous@gentoo.org>
Date:   Thu Oct 20 23:01:58 2005 +0000

    Bug #4831 <https://bugs.freedesktop.org/show_bug.cgi?id=4831>. Check for
        x86_64 in addition to amd64 in host_cpu.

commit 33460fb393c9591babcc43b30a73eef3971765c2
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Oct 19 02:48:02 2005 +0000

    Update package version number for RC1 release.

commit 77d5c3549db4f6a7ff9f969f885d7a4e58ab2b16
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Oct 18 15:46:37 2005 +0000

    Do the following to make the drivers pass distcheck:
    - Only define EXTRA_DIST when there are actually man pages to be processed
    - Add missing man pages to keyboard and ati drivers EXTRA_DIST

commit 35e717078c840414b0d6a0e37b3ffed0a7b102aa
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Oct 18 00:01:52 2005 +0000

    Use @DRIVER_MAN_SUFFIX@ instead of $(DRIVER_MAN_SUFFIX) in macro
        substitutions to work better with BSD make

commit ff6e5b0412fe347575992c83bb7cb47b6f96f390
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 17 22:57:32 2005 +0000

    More 1.7 braindamage: define EXTRA_DIST in terms of @DRIVER_NAME@ instead
        of indirectly

commit a2e7c55850d383e3af948d445b1645d8a47811cf
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Mon Oct 17 00:09:01 2005 +0000

    Use sed & cpp to substitute variables in driver man pages

commit 524fb1440760a14c53fb3f238aad6c3cdb7e6a08
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Oct 9 10:36:50 2005 +0000

    Secure the Radeon PCIE GART tables in framebuffer memory by not allowing
        the clients to get access to a secure area of framebuffer.

commit e526211b86ec5343002978debfcf78f74a10c69e
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Tue Oct 4 20:01:03 2005 +0000

    Check in generated README files

commit 431d0e144ae4c294e1f6110fc3db497ce9bd9cfd
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Mon Oct 3 21:22:07 2005 +0000

    - For all drivers that have a <driver>.sgml file, add code in their build
        system to build the README file at make dist time
    - in util/macros/xorg-macros.m4, add a new XORG_CHECK_LINUXDOC macro that
        will check if the required tools and files exist, and if so set a
        conditional.
    - util/modular/symlink.sh
    - Link all the <driver>.sgml to xf86-video-<driver>/README.sgml
    - Add all the README.<driver> to the list of excluded files
    - xc/programs/Xserver/hw/xfree86/doc/sgml/SiS.sgml: Various changes to make
        it spew less warnings when the text file is built.

commit 9147c20e5ff662ac511a19e7623b406dffee2242
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 3 06:14:58 2005 +0000

    Bug #4001: Don't crash when PanelSize is unset. (Alan Coopersmith)

commit 7e2090e3ebf0bd699d66d336353c097d658a86ae
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 20:42:06 2005 +0000

    missed one missing return value.

commit a843e4281134de1545d538cb8970179b1d6977f6
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Oct 1 17:09:48 2005 +0000

    add missing return value on success in RADEONSetupMemXAA().

commit 98f7d043f894c73fecaf14440c1a24b6c2fc4b06
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Wed Sep 28 15:10:38 2005 +0000

    Make ati driver distcheck
    radeon_commonfuncs.c \
    radeon_exa_render.c \
    radeon_exa_funcs.c \

commit e7b1af5d1677e53820dd1c0926cc8b5a4284901e
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Sep 27 23:55:15 2005 +0000

    Move the RADEONEnablePageFlip/RADEONChangeSurfaces calls back to the end of
        the function (the code above will cause pixmap cache to be freed and
        copied around, and these functions must be called after that otherwise
        pixmap damage will occur). May be related to #4440, #4456 (unclear if
        these setups involve 3d apps)

commit bc3c26fe365347c427e04385c1df95a5eec14f28
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 27 23:34:11 2005 +0000

    Fix Radeon MMIO Render acceleration with EXA by writing out floating- point
        coordinates rather than integers.

commit 58dfb95c446b73fbc34784f0894cf89152dab043
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Sep 24 18:45:45 2005 +0000

    Disable the {Open,Close}FullScreen DRI protocol. Remove empty FullScreen
        stubs from drivers, comment the non-empty ones.

commit 65b5f0017e29903565aff0b7527d955ed016c9a6
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Tue Sep 20 16:53:34 2005 +0000

    Only include radeon_dri.h & radeon_sarea.h if XF86DRI is defined.
    Include "compiler.h" to define __inline__ on non-gcc compilers

commit 0b7441b19a1a5df91aca6b1a02944afb636bc523
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 18 02:32:23 2005 +0000

    Break EXA ABI while we still can. Add coordinates to the UploadToScreen
        hook so we can upload a subset of a pixmap, and convert the current
        drivers to respect that. Use this support to directly UploadToScreen in
        exaGlyphs, providing a 47.4% +/-2.4% decrease in wall time for ls -lR
        programs/Xserver in an antialiased gnome-terminal on an M6 (n=3, caches
        hot). I would have bumped major version, only I can't tell what the
        EXA_VERSION_* is supposed to be doing as opposed to the module version.

commit 64e7db2698ee48af92594c16d72e33c16372c9d7
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sat Sep 17 20:02:01 2005 +0000

    - Don't try to upload 0 byte-per-pixel (PICT_a1) data using
        RADEONHostDataBlit.
    - Disable the shortcut for switching from 3d to 3d in radeon_exa.c. It
        appears that we do need the cache flush here, thought it's not clear
        why. Disable the 2d to 2d shortcut while here, since I'm unsure of what
        we're doing. Exposed by the following bit:
    - Bug #4485: Add a new routine, exaGlyphs, to handle font drawing. Glyphs
        were being accumulated in from non-migratable scratch pixmaps, causing
        the destination pixmap to move towards screen but the migration
        necessary for source never to happen, leading to abysmal performance.
        Instead, copy the scratch glyph data into a real pixmap first, then
        composite from that into the destination, allowing for migration. time
        ls -lR from programs/Xserver showed 26.9% (+/- 6.3%) decrease in wall
        time (n=3).
    - Create exaDrawableUse* wrapping exaPixmapUse*, but which are aware of
        windows needing backing store. Makes migration code prettier, and
        ensures that composited windows will be migrated as normal when we turn
        off cw for EXA. (issue brought up by keithp)

commit 3c71198a088e71a105e274f176c8ceb503615d46
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Sep 17 07:47:51 2005 +0000

    Switch radeon driver to using a card type rather than having a IsPCI flag,
        allow for PCI/AGP/PCIE cards. Set PCI gart allocation to only happen on
        PCIE cards. Add Radeon PCIE card detection using capability bits.

commit 10cf3523f236a017a1ca7e5ee57e02176b924059
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Sep 14 22:06:41 2005 +0000

    Bug #2573: Remove the disabling of automatic cache flushing on non-r300
        cards. It has been implicated in hanging at least r300s and some r100s,
        and seemed to be the cause of some bad rendering for me.

commit d68894a463a3bb08c97e91ff6fc4b65b29183ff6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Sep 13 22:04:12 2005 +0000

    Remove the hardcoded USE_EXA/USE_XAA defines now that they've been
        hardcoded in configure.ac (config.h).

commit baa9b5b6e19cf9794bf810e3c582bf1d7f808663
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 12 09:27:07 2005 +0000

    Fix Radeon EXA for when RENDER isn't defined

commit 8c89610389197dc94d3bceaf44d9d2ea91848f1b
Author: Dave Airlie <airlied@linux.ie>
Date:   Mon Sep 12 09:17:42 2005 +0000

    Move GART offset/size outside XAA

commit eba44d9747adde8385f2a242dee5a8e73ce5a205
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Sep 12 09:04:36 2005 +0000

    Define USE_XAA and USE_EXA for the time being.

commit a255e7b0984890daad98b74ace0c572965fe61f5
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 21:00:44 2005 +0000

    Attempt to fix up the modular pieces for EXA support. (untested)

commit 3e0d9c945a6a71cc476d27341ef18618529a91a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Sep 11 20:58:53 2005 +0000

    Add support for EXA to the radeon driver. Building EXA and XAA support is
        controlled at compile time, plus the runtime option of Option
        "AccelMethod" "EXA" or "XAA". The XAA support appears to remain as
        before, while the EXA pieces need just a little more polishing. Notable
        features:
    - Render acceleration working on Radeon 100 and 200-series with DRI on.
    - DRI works with EXA Notable issues:
    - DGA disabled in the EXA case.
    - Backbuffer moves disabled in the EXA case.
    - No textured XVideo.
    - MMIO render acceleration is close but still has some issues.
    - Memory pressure while using Composite is really troublesome with DRI on.
        This patch is based on an initial patch by Zack Rusin, with significant
        work by Benjamin Herrenschmidt and myself.

commit fd62082b68ac3aadd8ffc441352d75d88334904e
Author: Dave Airlie <airlied@linux.ie>
Date:   Sun Sep 11 08:51:38 2005 +0000

    Add support for allocating PCI GART table in framebuffer memory. This is
        needed to support PCIE Radeons using a new DRM.

commit cb63f8d9c0563fb0eff28e2be6d4adf5666540d2
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Sep 6 10:03:19 2005 +0000

    Handle VIP timeouts more gracefully -- impose a hard limit of 10ms on
        waiting for VIP_BUSY so we don't lock up hard, spinning.

commit dbd83cf18e1bf5e7e31e1ac150227bd27e8b1739
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 28 20:51:14 2005 +0000

    Bug #4148: Bump required DRM version for r300 to 1.17.

commit ce0589ff3b9fcf8c6bab64da4dba40ba540a6a03
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Aug 28 18:10:34 2005 +0000

    Bug #1109: Fix VGA init on Rage Mobility 7500 (Marc Le France)

commit 250c8732a54924eeb459880f2905f8e59d038e60
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Aug 28 18:00:23 2005 +0000

    Modified the licens type from GPL to a X/MIT one

commit 94c0196652c3cfa0558f61b55f5df9bf50f9ac49
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Fri Aug 26 20:04:01 2005 +0000

    #include "extensions/dpms.h" -> <X11/extensions/dpms.h>

commit 107e42cabe1cc41fe86b0218c3229b5f34b2df84
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 07:00:24 2005 +0000

    Fix 'ugly' warning in r128. (Branden Robinson, Debian #069)

commit d3f5911c85ccfaaf50c05ce80d56dac13fd15701
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Aug 26 05:30:52 2005 +0000

    Only use vgahw symbols if we're building vgahw for this architecture. TODO:
        Fix this for the modular tree (maybe an unconditional yes?). Define
        that we're using a DPMS server and include DPMS headers. (Debian #024b)

commit 879213455740d2d653d38c712275f07610e4dc9c
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Aug 26 02:11:24 2005 +0000

    - fix pitch increment (Aapo Tahkola, Roland Scheidegger)

commit 6519cc71e4387ef979de90be517145611511ff1a
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 25 03:34:58 2005 +0000

    Fix bug in Radeon connector table parsing -- parse all entries, not just
        the first. (Ben Herrenschmidt)

commit 8734a5d0bafb60f5e38b2cee10587f01fc016379
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 25 03:07:50 2005 +0000

    Blacklist Radeon M300 from multimedia I2C code. Handle I2C timeouts more
        gracefully -- impose a hard limit of 10ms on waiting for I2C_GO so we
        don't lock up hard, spinning.

commit 578564b4f7fce1f02d056c2b12ffb7803d268829
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Aug 22 03:05:52 2005 +0000

    Explicit license statement.

commit c9005c91bf6aaf4728a6606284f5d24e0b4a8282
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Thu Aug 18 09:03:46 2005 +0000

    Update autogen.sh to one that does objdir != srcdir.

commit 508a7421a1386b5b783a867d860b858a55f216d3
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Mon Aug 15 07:30:05 2005 +0000

    Egbert's 64bit fixes for mixed 32/64bit clients

commit 204290412fbe8b4ac1a0f4f97bc7aec2847a1df7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sun Aug 14 16:14:51 2005 +0000

    Make DGA, CPIO, non-PCI, and TV-Out support detected per-platform, using
        the same semantics as in drivers/ati/Imakefile.

commit adb093bdf3cea8108a40bcd72f09924b416de0c1
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Aug 8 23:42:36 2005 +0000

    - radeon XPRESS chips are actually RV3xx based

commit 9c11018beb186b4b303524685fb62629b9ca863e
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Aug 7 14:46:55 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Update warning about DRI support on R300 and later cards.

commit a28b2c76c7df2fe65a93eed34bc85c2cf5afb314
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Aug 7 14:40:58 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Properly configure fbLocation and related registers for R300 cards. (Dave
        Airlie)

commit 692fb0f8b51abeccaf70b51fc1defc62132b15e9
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Aug 6 17:23:16 2005 +0000

    - missing line in mergedfb option parsing. Spotted by Christoph Bauer

commit 14e77a39320a7a074b5c2eeeea9750b469abc978
Author: Ian Romanick <idr@us.ibm.com>
Date:   Fri Aug 5 23:04:32 2005 +0000

    I have resolved this by making all the "Direct rendering disabled" messages
        X_WARNING and all the "Direct rendering enabled" messages X_INFO.
        Ideally, we need to factor some of this stuff out to common code. There
        is a *LOT* of duplication among the *_dri.c files under
        programs/Xserver/hw/xfree86/drivers.
    I'm trying to clean up as much low hanging fruit as I can and got tired of
        waiting for ajax. :P

commit 8e88d36f78c13025847310b411402f1d46a2e0cd
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jul 31 17:19:27 2005 +0000

    Post-merge fixups:
    - Disable building the gamma driver
    - Fix numerous Imakefiles to get header paths and subdirs right
    - Symlink client-side GLX lib source from Mesa
    - Add new shader subdirs to the Mesa core build
    - Tweak the DDX drivers to not ask for "xf86dri.h"; they don't need it,
        since they don't generate protocol, and it was breaking the build.

commit fb9f712fd1044feb8ce6a99aabaeb5966123e268
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 29 21:22:42 2005 +0000

    Various changes preparing packages for RC0:
    - Verify and update package version numbers as needed
    - Implement versioning scheme
    - Change bug address to point to bugzilla bug entry form
    - Disable loadable i18n in libX11 by default (use --enable-loadable-i18n to
        reenable it)
    - Fix makedepend to use pkgconfig and pass distcheck
    - Update build script to build macros first
    - Update modular Xorg version

commit ee45e1fb5da793fa14770b28fd662e69d52b2c6a
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Jul 29 19:45:14 2005 +0000

    bugzilla #3911 (https://bugs.freedesktop.org/show_bug.cgi?id=3911)
        attachment #3191 (http://bugs.freedesktop.org/attachment.cgi?id=3191)
        Disable bus mastering while updating MC_FB_LOCATION and friends to
        prevent the X server from hanging on startup every now and then under
        some circumstances. (ATI Technologies Inc.)

commit 44a66ec5a01c3b4dfa046a66b80a3b7e9dfff537
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Fri Jul 15 15:02:47 2005 +0000

    Install theathre drivers in @moduledir@/multimedia

commit dbcf104689ca368523715eb5945bcd800985799b
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Jul 15 03:39:58 2005 +0000

    Fix filename typo

commit 2256fabf1cd69c950639f236f61e59e68cc8e6fa
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 22:30:47 2005 +0000

    Fix check for headers. Use {XORG,DRI}_CFLAGS subst instead of replacing
        CFLAGS.

commit 520317863ffb365eca17c96b4d545adb554bbbd6
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Jul 14 19:35:48 2005 +0000

    Make compiling with DRI support configurable/autodetecable. Autodetect DRI
        sdk headers. Expand help string for xorg-module-dir option.

commit ab5264838ae34bb29791bc08d5a4f853a995faf1
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Thu Jul 14 17:10:01 2005 +0000

    fuck you cvs

commit a608c4422665ce1e933483b7c2a25ab2daae5930
Author: SÃ¸ren Sandmann Pedersen  <sandmann@daimi.au.dk>
Date:   Thu Jul 14 16:03:36 2005 +0000

    Try adding build system for ATI driver again. Who knows, maybe CVS works
        today.

commit d715561d28d82591adf5c7504068c1818eb2245c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 11 02:29:45 2005 +0000

    Prep for modular builds by adding guarded #include "config.h" everywhere.

commit 5b37b695019b7a4522a96a63f1f6b035160e6a25
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Mon Jul 4 23:44:59 2005 +0000

    Bug #2604: Disable workaround for horrible flickering when scrolling
        vertically in a virtual screen when color tiling and page flip are both
        enabled, as it potentially does more harm than good. The flickering
        still needs fixing probably though.

commit 08b886850f115f404187acd619aa2c2ca18ae3c7
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Fri Jul 1 22:43:11 2005 +0000

    Change all misc.h and os.h references to <X11/foo.h>.

commit 1c7c3372776d6d116facabbf055f27af3e96f59f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Jul 1 04:16:42 2005 +0000

    - fix depth tiling for r3/4xx chips (Aapo Tahkola)
    - adjust limits for tiled surfaces on r3/4xx

commit e8c2574557950bfa150806432d566cd38c47158f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Jul 1 02:56:04 2005 +0000

    - Fix Support for Philips FM1236/F tuner on ATI AIW 9600 XT (Jeff Smith)
        Bug 3401

commit d258e1c1566d005693260230712c9d78f1447dba
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 04:46:11 2005 +0000

    - change back part of a comment I seem to have accidently changed.

commit 6d9c02d58eae1966e8fa8d7d305849c6e57434ad
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 02:02:10 2005 +0000

    - small mergedfb fix from Thomas Winischhofer

commit 85365b791542cab221c37c9b3b4593ea0c6c9e2d
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 01:40:17 2005 +0000

    - add support for colortiling on r3/4xx hardware (disabled by default). In
        order for pageflipping to work on r3/4xx we will need to update the the
        sarea and drm so that the crtc1/2 xytiling regs get updated. Initially
        worked out by Aapo Tahkola.

commit 3ec99c9cd821aeacdd57a9bbc20c4e4ec4711790
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 00:56:01 2005 +0000

    - Increase the priority of display 0/1 in the memory controller for r3/4xx
        hardware when displaypriority is set to HIGH. Fixes display problems in
        high res modes. Originally reported by Aapo Tahkola.

commit a7523e6c0be7a600963e9de10cf0060d16117bf6
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Jun 30 00:33:36 2005 +0000

    - fix some OUTREGs that should be OUTPLLs in dynamicclocks code

commit c7e1d31c6aec3a99061c77c4d6f57e2e874e37f1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sun Jun 26 04:38:12 2005 +0000

    Bug #3628: Fix video driver submodule visibility.

commit 1beca962ecee5b5c51eb2fb8451fcc2a2ed4b97c
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jun 25 21:16:53 2005 +0000

    Bug #3626: _X_EXPORT tags for video and input drivers.

commit 9a4895c4c2fd9614d83adfe3967f4f46dc4dfff6
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 22 22:50:49 2005 +0000

    Add missing detection of the PCI ID for 0x5b62, Radeon X600 (Vladimir
        Kushnir).

commit 43e3cc7c21160f4536ed860f97d02545c267dfbc
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed Jun 15 23:40:50 2005 +0000

    Sync up radeon mergedfb with Thomas' latest sis mergedfb changes:
    - non-rectangular mergedfb desktops
    - screen offsets

commit b67f9f5c875efaa41bded7ed2f38b2a5fbd17597
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jun 4 20:26:28 2005 +0000

    Sync with 6.8.2 branch: Bug #591
        (https://bugs.freedesktop.org/show_bug.cgi?id=591) attachment #308
        (https://bugs.freedesktop.org/attachment.cgi?id=308): Fix video timing
        problems with Sony PCG-C1VN Vaio Picturebook notebook && co. Patch by
        Marc Aurele La France

commit daae70d9083e9c15358f160f0df3176e344f1cb9
Author: Alan Coopersmith <Alan.Coopersmith@sun.com>
Date:   Sat Jun 4 20:04:36 2005 +0000

    Sync with 6.8.2 branch: Bugzilla #1306
        (https://bugs.freedesktop.org/show_bug.cgi?id=1306) attachment #1291
        (https://bugs.freedesktop.org/attachment.cgi?id=1291): Fix SEGV in
        "radeon" driver. Patch by Kevin E. Martin <kem@freedesktop.org>

commit c27c193f192b117232dbe39575d3d5ab7c6a1b1e
Author: Felix Kuehling <fxkuehl@gmx.de>
Date:   Fri May 27 22:33:23 2005 +0000

    Fix for bugzilla https://bugs.freedesktop.org/show_bug.cgi?id=3414 (patch
        https://bugs.freedesktop.org/attachment.cgi?id=2782): Don't use RMX if
        we are Dell Server.

commit 3b674815e0a6d19b0719e71261c0909b92173aed
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue May 24 23:26:50 2005 +0000

    Typo fix from bug #3163 commit

commit 0845d1db801ae74688464bd4c41a7e40e4b50186
Author: Egbert Eich <eich@suse.de>
Date:   Mon May 23 09:50:20 2005 +0000

    Explicitely disable DPMS power states during close screen. Fix macro that
        takes a value and a mask of bits to modify to be behave evquvalently if
        the bits that should remain unchanged are set or unset in the value
        (Bugzilla #3369).

commit 74b86b036def72e5180a46871b8452ba9eea9bb1
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed May 18 17:47:35 2005 +0000

    Bug #3163: Create new DRIINFO_*_VERSION macros to indicate the version
        number of the DRIInfoRec, disambiguating it from the XF86DRI protocol
        version number. Modify DRIQueryVersion to return the libdri version
        number, which all DDXes were requesting implicitly. Fix the DDXes to
        check for the DRIINFO version they were compiled against.

commit 0f4a8fc6aa5157a8b48beb49f30511665cfa4b63
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Wed Apr 20 21:07:44 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/theatre.h Build fix for
        DoLoadableServer = NO systems.

commit 3355d12f832909b05e8b022fad784c9f7af7341f
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Wed Apr 20 12:25:22 2005 +0000

    Fix includes right throughout the Xserver tree:
    change "foo.h" to <X11/foo.h> for core headers, e.g. X.h, Xpoll.h;
    change "foo.h", "extensions/foo.h" and "X11/foo.h" to
        <X11/extensions/foo.h> for extension headers, e.g. Xv.h;
    change "foo.[ch]" to <X11/Xtrans/foo.[ch]> for Xtrans files.

commit 31cb4758eae4703d4de31a0b291847cefa855fc3
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:28:09 2005 +0000

    Added fifo_read and fifo_write in tge generic bus definition

commit 2b363e02c7c122f07e6fc406fb8ee52d97b55cad
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:26:36 2005 +0000

    Added new options for the ATI driver: RageTheatreMicrocPath and
        RageTheatreMicrocType

commit 6286efeba564c63ec198c091e4bba22027586901
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:23:45 2005 +0000

    Addeded support for FI1216ME (PAL) version of the tuner, detection of
        UDA1380 sound processor

commit 9a63c216e90622cd96d4555155df06dd66c3235b
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:18:26 2005 +0000

    Use the theatre_detect to determine the chip ID and then load the
        coresponding theatre module

commit 247057762813f12f171b1fa05f31c5ace4c245a7
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:15:31 2005 +0000

    Added functions that access the FIFO on RT200

commit bcccf9259784f21d84d52c526aa68df0787118b4
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:13:45 2005 +0000

    Added RT200 registers

commit da9d27f8c8cccf2f40a244b25ffe0d3162c41a63
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:09:28 2005 +0000

    This is the theatre chip detection module

commit e4623bbce161c41ccac65210fd2539211e8af715
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:07:54 2005 +0000

    Now the detection of the theatre chip is in other module called
        theatre_detect

commit 405b4dcb067346fce7fd9f6d8a6507a58c740ac7
Author: Bogdan Diaconescu <b_diaconescu@yahoo.com>
Date:   Sun Apr 17 23:06:17 2005 +0000

    Added the RageTheatre200 video demodulator support

commit 310eb24a45b145efbd47196a1c3ec750cf004154
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Apr 4 23:07:08 2005 +0000

    Release SDA/SDL I2C lines from an asserted-low state after a DDC probe,
        which caused Apple Studio Display monitors to shut off after a second
        or so (Ben Herrenschmidt).

commit a416667f980a8679352be897af2fb3215da2d000
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Mar 31 23:18:10 2005 +0000

    - Add new Radeon pci ids (ATI devrel), bug 2827

commit 2e7365ffb767099faf3f191dc65341dbb3ef6247
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Mar 31 18:26:05 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    Patch from Antti Ajanki - provide VBI capture support for PAL and SECAM
        (You need GATOS km module to actually get at the data, the change
        merely configures the hardware to handle it correctly).

commit 9a3c1c8e4cba2885b707db0f855e11dc6e640b49
Author: Michel Daenzer <michel@daenzer.net>
Date:   Tue Mar 29 06:14:34 2005 +0000

    bugzilla #2844 (https://bugs.freedesktop.org/show_bug.cgi?id=2844)
        attachment #2230 (http://bugs.freedesktop.org/attachment.cgi?id=2230)
        Wait for idle before uploading HW cursor data to the framebuffer to
        avoid lockups when moving the mouse on some machines.

commit 97863f112850be5206ea555297354c1c104fcdbe
Author: Kevin E Martin <kem@kem.org>
Date:   Tue Mar 29 03:49:04 2005 +0000

    bugzilla #2840 (https://bugs.freedesktop.org/show_bug.cgi?id=2840)
        attachment #2227 (https://bugs.freedesktop.org/attachment.cgi?id=2227)
        Fix build problems introduced by previous Radeon PLL errata
        workarounds.

commit 04cbb8d174cc5e3c7ecdd4e171170213ecb3c7ed
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Mar 26 00:53:01 2005 +0000

    bugzilla #2057 (https://bugs.freedesktop.org/show_bug.cgi?id=2057)
        attachment #1516 (https://bugs.freedesktop.org/attachment.cgi?id=1516)
        Add TVOUT Support for Mach64 (Leif Delgass, fixed up for Xorg by me).

commit 5be4bf9000bdf58584a10a6b8e285d0f173304fa
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Mar 24 06:45:52 2005 +0000

    - radeon PLL access errata workarounds (Benjamin Herrenschmidt, acked by
        Hui Yu)

commit 34af3da80304a13b6407dcc0f4db54d6c8bb7a41
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Mar 18 22:36:47 2005 +0000

    Add support for production version of ATI RN50/ES1000. (ATI Technologies
        Inc.)

commit b56a5f96048b920a7751318dde211e881f53b2bb
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Mar 17 03:36:25 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_mergedfb.c Back out
        RadeonWaitForIdleMMIO that I put in earlier.
    From discussion on dri-devel we do not need to be as careful with INREG()
        access on Radeons as we are on mach64 chips.
    The fix is backed out due to:
    it breaks DRI on SMP systems (due to absense of the lock in mouse handling
        functions)
    I am no longer able to reproduce the lockup I saw before

commit 01a9c1157cdfbc5f74b035383e060b8419979563
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Mar 8 23:41:37 2005 +0000

    Fix accidentally removed depth pitch adjustment if displayWidth is not a
        multiple of 32 pixels (bug #788)

commit 9b994b40710103b263364153429ebdb9ea3f58ed
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Mar 4 22:21:40 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c Let through all chips
        R300 and above - presumably the filtering should take place at the DRM
        driver level. Correct cut'n'paste position misprint. Big thanks for
        Michel Danzer for pointing out both improvements.

commit 7d37a9f1f9fffe98067c3b5bc4749cc799fb0c77
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Mar 4 05:48:31 2005 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c Turns out Radeon R420
        chips work fine with R300 microcode. Thanks go to Rune Petersen for
        careful investigation.

commit f1edbb7852d85f660188498f578a0a697c2094fe
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Tue Feb 22 00:39:15 2005 +0000

    Fix building radeon driver with BuildXF86DRI set to NO, the breakage was
        caused by the tiling support (bug #2481)

commit b853dbb50fb7c46fb5a70f349a3f264f0bb94e8c
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Feb 19 16:00:12 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    Fix an INREG without WaitForIdleMMIO. This one should be unlikely to
        trigger, but we should still do this in the name of correctness.

commit 84290849b4aee336e9db0779d93fc2d7ed8881b1
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Feb 19 00:57:23 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_mergedfb.c
    Add a call to RADEONWaitForIdleMMIO() within RADEONChooseCursorCRTC() as
        this function uses OUTREGP() which, internally, calls INREG().
    Thus (due to SilkenMouse) INREG() could be called while CP engine was busy.
        I have observed this lockup on RV350 + R300 3d driver and have no idea
        why no issues were reported for R200 cards. Perhaps, few of them have
        enough memory to run merged fb and 3d simultaneously ?
    This fix is the right thing to do, however, we might also need to put fifo
        management calls into other cursor handling functions (in particular
        those that write cursor image directly to video memory).

commit 60070063e2130af0b9d5d34eed7adbae0c0fa67b
Author: Michel Daenzer <michel@daenzer.net>
Date:   Fri Feb 18 19:55:35 2005 +0000

    Bug #2576: Add support for ATI RN50/ES1000. (ATI Technologies Inc.)

commit 32032cdc78097840b7e2685fdec11bc0816aa0ac
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Feb 18 16:42:11 2005 +0000

    Bug #2567: Fix reversed memset arguments. (David Krause)

commit d5fadd6d86ae2a2f8c1bb55e36ab3d6d49649b46
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Feb 9 02:22:39 2005 +0000

    do not enable color tiling on r300 chips and newer, since it doesn't work
        (yet) (Bugzilla #2504)

commit 5ff35300e66a81ecc17c4e9396eb6d158f5c8e1b
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Feb 2 21:35:30 2005 +0000

    fix error with color tiling and hw scrolling, it looks like rv100 doesn't
        need the special treatment, after all (reported by Stephane Marchesin)

commit 7a9031683914bb1d17d223634e5dbf2e18955651
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Mon Jan 31 20:10:28 2005 +0000

    change option EnableColorTiling to ColorTiling

commit a2b123f7672ea678290798786ecb408a86d8c683
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Jan 26 18:23:41 2005 +0000

    (Stephane Marchesin, me) Add support for color (framebuffer) tiling.
        Convert all XAA accel code to use explicit dst and src offset pitch
        control to make it work. Use the new drm surface ioctls to set up the
        tiled surfaces (if dri is enabled).

commit e0df1e41724cd009fe7c833d2f9555f5d87e3202
Author: Roland Scheidegger <rscheidegger_lists@hispeed.ch>
Date:   Wed Jan 26 17:39:56 2005 +0000

    fix issues with mergedfb + pageflip (fix up sarea frame values)

commit aeb01807263c47f49abaf00031d8505e8ebda82c
Author: Egbert Eich <eich@suse.de>
Date:   Mon Jan 24 15:40:21 2005 +0000

    Don't exclude 'RADEONInfoPtr info = ...' declaration even when not building
        with DRI support (Bugzilla #2370)

commit c6c30cfa354eb456638f10771a7cb02271696af2
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Jan 13 17:35:49 2005 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    Some of the newer Radeons (R420 for example) have MM_TABLE's with size 0x33
        (instead of 0x0c that we know). Furthermore, they lockup during access
        of I2C bus !
    Add a check to validate MM_TABLE. Note: the check is not more stringent as
        other card manufacturers (like Asus or Tekram) might make cards with
        slightly different MM_TABLE.

commit 414c035a965b9db15656058c0e9cfeb3acf0158f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Dec 24 18:26:19 2004 +0000

    - Fix MCLK / SCLK calculation (Benjamin Herrenschmidt) bug 2144
    - formatting cleanup

commit 7c7b278883676412f5709cf812587b1408628133
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 19:49:33 2004 +0000

    - Add support for Dualhead on M3/M4 (bug 1760)

commit 08a45118b53129f3b9c30004404b906c7d7690be
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 19:29:10 2004 +0000

    - Make dualhead ram allocation cleaner and related messages clearer

commit 97cfd7b1489a9510cd233d6dc7154c210f32b9f5
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 06:56:37 2004 +0000

    - Add DRI resume support (Micha Feigin) bug 2063

commit 5b8577ae3200d967b4316156f16028cbcfd21983
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 19 06:11:06 2004 +0000

    - fix warnings (Ronny V. Vindenes)

commit 447124a663a24a7fffb0cd241d18dd896a43098b
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sat Dec 18 21:37:48 2004 +0000

    - fix warning and potential error in radeon_driver.c

commit ac6166158a58b377e7383950c169956f78b62093
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Dec 17 19:19:32 2004 +0000

    - Add VGAAccess option to r128 driver. Based on Benh's radeon patch. r128
        should now work on ppcs without usefbdev. To use this on ppc make sure
        you set "usefbdev" to false. (bug 2089)
    - Apply Benjamin Herrenschmidt's radeon patches (bug 2064)

commit ac860ed6bbed84f6fc39a9acf53ee87646cfc8dc
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Dec 17 16:50:36 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    Move DMA robustness fix into radeon_dri.c::RADEONEnterServer() as per
        suggestion by Michel Dänzer.
    I could not trigger a lockup, even with r300_demo (possibly it has code
        that flushes cache inside ?), so this must be good enough..

commit 3ba5b525c4d6390184fdf79b28c954d5caadc6a4
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Thu Dec 16 16:26:56 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    Add DMA robustness fix from Nicolai Haehnle.
    TODO: move this fix into DRM driver or other parts of Xserver when R300
        support is more stable.
    This fix affects only R300 and later variants and results in small slowdown
        when using CP acceleration in comparison to the previous version of the
        driver.
    We are still a lot faster in CP mode than using MMIO register access.

commit c7b5f4a9eb49c0edd690c972be1015c98408ffaf
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Dec 15 19:35:33 2004 +0000

    Bug #2008: Fix gcc4 compile problem.

commit 8c1969f22fba2e1c9ed34d5ca77bee3a9f577640
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 20:42:29 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_render.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    Make DMA blitting code more robust.

commit 8a9077bc70fd800983f138a224b95301992a2296
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 19:28:37 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    Enable DRM support permanently, allowing its use for any CHIP_FAMILY >
        R300. Fix bug in naming Mesa3d driver (it was defaulting to r200)

commit 845df6dd96785b59c44c670009c4fcdb20e147ab
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 17:29:45 2004 +0000

    - missing diff from agp 8x support

commit 36b92808e4ff1311f91543388c18cbe8e9eb4aab
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Dec 12 16:05:35 2004 +0000

    Modified:
    programs/Xserver/hw/xfree86/drivers/ati/radeon_accel.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_dri.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_common.h
    programs/Xserver/hw/xfree86/drivers/ati/radeon_version.h Add R300 (and
        later) DRM support, protected by X_R300_DRM option.
    Note: at the moment this is for 2d support only, if enabled running
        glxgears locks up my machine, but DMAForXv=yes works fine.

commit 68ea67ce98b8f3ad4c17f987e0e2b92f79a96fbf
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 02:00:48 2004 +0000

    - add AGP 8x support (Hui Yu, Michel Daenzer) bug 1819

commit 93675d288d5ebb35d4724ebbfc455a703e25a311
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Dec 12 00:14:32 2004 +0000

    - only mess with Dynamicclocks on mobility chips (Benh, me) bug 1912
    - fix display detection (Hui Yu) bug 1559
    - Add new option "BIOSHotkeys" to allow the bios to control output
        switching (off by default) bug 2000
    - update the savage man page to document the "CrtOnly" option

commit ed217003127028483fd2956851d438977169d154
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Mon Dec 6 13:27:56 2004 +0000

    Apply Debian patch to re-POST via VBE if driver thinks it has no video
        memory (a symptom of incompletely coming up from D3 power state), which
        fixes some Dell laptops (closes: #1890).

commit 2b8ab42b05b32710fa4f71a25e2f84192e637fbd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon Dec 6 06:27:53 2004 +0000

    When direct rendering is enabled, use hostdata blits to transfer data from
        system memory to video RAM, which should reduce CPU usage especially
        with larger videos. Can be disabled via Option "DMAForXv" if there
        should be any stability issues, but it's been stable for me during a
        week of testing. Based on a patch by Nikolaus Meine
        <meine@tnt.uni-hannover.de>. Probably fix endianness issues in some
        newer XVideo code, untested.
    Also use hostdata blits to transfer RENDER image data to video RAM to avoid
        idling the accelerator engine. Increases RENDER performance
        significantly for me.
    These changes were only tested on an M9 in a Titanium PowerBook but should
        work with all Radeons where direct rendering is supported.

commit 960d15ae3a44efe7c02a3d6d0acbabe63e07be74
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 4 22:34:54 2004 +0000

    Disable interrupt handling after the DRM handler has been removed,
        preventing lockups (closes: #1886).
    Allow pitches with a granularity of 32, rather than 64, because some
        clamshell iBooks have 800-byte pitches. Change Xv allocation
        granularity to 8 bytes, rather than 16 bytes, also (closes: #1888).

commit 4706dfb7804a46e3cc5aafc3644f5a1134ab3d19
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Sat Dec 4 22:24:06 2004 +0000

    Retry CCE idle commands until the (higher) timeout is reached, and properly
        stop the engine if we totally fail -- gets rid of serious performance
        issues and lockups with r128 DRI.

commit bce508a288d6b95708dbbfc6b235e2d95b6b96ad
Author: Markus Kuhn <Markus.Kuhn@cl.cam.ac.uk>
Date:   Sat Dec 4 00:42:59 2004 +0000

    Encoding of numerous files changed to UTF-8

commit e9c9fd279ed43cc0d779266efcea69a67541c794
Author: Egbert Eich <eich@suse.de>
Date:   Tue Nov 30 08:38:44 2004 +0000

    Make Xorg the default server to install.
    Avoid PIO access on IA64. Some IA64 machine check if legacy ports outside
        the VGA range are accessed. The ATi driver however does this to probe
        for ISA Mach8/32/64. Since no IA64 has ISA slots this restriction
        should not be relevant to the user.
    Avoid recursive calls of xf86scanpci(). This function normally detects that
        it has been called before by checking if the PCI structure is filled
        out. So far if this was not the case (because PCI probing has failed
        for some reason) the function is traversed again. With the chipset
        specific PCI bus probing this can lead to an endless recursive loop as
        the post-probing code calls xf86scanpci() from within this function.
    The OS specific PCI code for Linux worked only if bus 0 was populated as it
        checked for the presence of /proc/bus/pci/00. Fixed to check for
        /proc/bus/pci/<bus_to_look_for> instead.

commit fffbcb761c178e025e3d55d428a803b1284481e0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Sat Nov 27 15:14:15 2004 +0000

    xc/programs/Xserver/hw/xfree86/driver/ati/radeon.man
    xc/programs/Xserver/hw/xfree86/driver/voodoo/voodo.man
    xc/programs/Xserver/hw/xfree86/driver/wsfb/wsfb.man XF86Config ->
        __xconfigfile__

commit ad6347d187f9afa053c755aa3a2da9d821916cb2
Author: Daniel Stone <daniel@fooishbar.org>
Date:   Tue Nov 23 21:27:43 2004 +0000

    Use fp_horz_stretch instead of fp_vert_stretch for horizontal stretch
        factor calculation in panel size derivation in the Radeon driver
        (closes: #1881).

commit ac054e427c6ce8cd5b89459dd3f16ca20e6b2d6a
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 24 18:17:36 2004 +0000

    Add registers to facilitate work with stereo 3d.

commit 445ed4b9b61347c866ee67dc0cb110904d667b84
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Fri Oct 22 03:51:58 2004 +0000

    - make the overlay work on crtc2 again
    - make PutVideo() MergedFB aware

commit 54cffc3fe273cf3c9ed2a8aef833d4bd337a8a09
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 18 15:19:44 2004 +0000

    Fixing one of the infamous 'control reaches end of non void function
        problems'.

commit 7a97d363327e0b2c8646d961e00d05f99766b54f
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 18 14:21:45 2004 +0000

    Made handling of DevelDrivers for x86-64 more conformant to other
        platforms.
    Compress all font encodings (Stefan Dirsch).
    Fixed warnings.
    Turn on forwarding XNSpotLocation event to XIM server in OffTheSpot and
        Root mode (bugzilla #1580, James Su).
    Added another compose key combination for the Euro symbol (Stefan Dirsch).
    Added support for UTF-8 in ja_JP, ko_KR and zh_TW locales (Mike Fabian).
    Changed default encoding for ru from KOI8-R to ISO8859-5 (Mike Fabian).
        This is the encoding that is also used by glibc. We may break other
        libcs - lets see who complains.
    Added explanation for DESTDIR to install to a different directory than /.
    Added some early bailouts to atiprobe if PCI structure pointer is NULL to
        prevent sig11.
    XV support doesn't depend on 2D acceleration any more. This patch removes
        this limitation from the NSC driver. This is a patch that I have
        committed to XFree86 a while ago but never ported over to X.Org.
        Matthieu Herrb contributed some build fixes.
    Fixing SetDPMSTimers() so that DPMS*Time == 0 disables the appropriate
        timer. This takes advantage of the fact that TimerSet() with a timeout
        argument 0 behaves like TimerCanel().
    Use /dev/xconsole (named pipe) or devpts for system logger (Werner Fink).
    Create missing links for backward compatibility to XFree86 (Stefan Dirsch).
    Changed comment to mention xorg.
    Changed cursor for the 'kill' action from XC_draped_box to XC_Pirate. If
        you don't like it we can change it back (original author unkown).
    Added 'pic' to the man page rendering command pipeline (Werner Fink).
    Added missing return value (Stefan Dirsch, Roland Mainz)

commit c7ab340fecb94a89c25d6bc7f686b7c97cd3067f
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Oct 17 22:45:57 2004 +0000

    - Fix DFP detection in r128 driver (bug 1386, Klaus Kusche)
    - Fix EmulateWheelInertia defaults (bug 1115, Andrew Pimlott)

commit ace6e1b7933cb415b8efc41dffa335938f9c89b5
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 17 17:57:33 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c On my Inspiron
        8600 both internal and external ports are marked DAC_PRIMARY in BIOS.
        So be extra careful - only swap when the first port is not DAC_PRIMARY

commit 22405e81b812c239b5d8653b402b5f846e6e10b1
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Sun Oct 17 16:52:02 2004 +0000

    - Add Thomas' latest sis MergedFB enhancements to the radeon driver

commit 186efa31b2cb7285717678bb1c4df4cd9e182395
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Wed Oct 13 23:02:42 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    xc/programs/Xserver/hw/xfree86/drivers/i2c/fi1236.h Squash annoying warning
        about fi1236_dump_status

commit 43b24861e36023613a99627c57ac44721ed1a548
Author: Egbert Eich <eich@suse.de>
Date:   Tue Oct 12 19:13:43 2004 +0000

    Set fbdev mode as the default mode on PPC (Olaf Hering).
    Added support for IBM space saver keyboard (Stefan Dirsch). Added support
        for Cherry CyMotion Master XPress (Marcus Schaefer).
    Change order of SetDisplayDevice(), HWRestore(), UnbindGART() and
        RestoreBIOSMemSize() to be exactly opposite to the Save procedure in
        EnterVT() (Matthias Hopf, Alan Hourihane).
    Fix text mode restauration by removing the assumption that the register
        which determines which head is programmed is set. to the active head by
        the BIOS (Mark Vojkovich).
    When I wrote the resource code 5 years ago I made some assumptions which
        turned out to be false: I've assumed that the bus number of the PCI
        hostbridge would be the PCI bus the bridge links to. This is not
        correct. Fixing this assumption is not easy. However I hope that the
        attached patch will make the system work regardless as it 'ignores'
        host bridges from which the target bus is not known. This should not
        matter at all as we really don't care about host bridges (unless we
        have bridge specific code which retrieves information about the
        bridge).
    Fixed server crash on reset when a structure allocated in PreInit() was
        freed on CloseScreen().
    Fixed ring buffer lock ups that happened because the structure that
        contained ringbuffer data was not zeroed after allocation.
    Fixed numerous warnings due to signed unsigned comparisons.
        programs/Xserver/hw/xfree86/drivers/nv/nv_driver.c:
        (NVBacklightEnable): Changed the order in which the sequencer registers
        and the backlight control registers are written. The sequencer control
        register need to be written first otherwise DPMS screen blanking
        produces vertical bars on a mobile device. lib/Xau/Imakefile: Build
        libXau static library PIC so it can be linked into toolkits that would
        like to wrap its functionality.

commit 515b7c4b748f70c17aee149a33ee1b41632daa1a
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Oct 11 23:20:26 2004 +0000

    - fix resume on radeons (bug 1220)
    - clean up some old cruft in the savage i2c code

commit 07e1aaee862c4835601c704e14fcb12e28f4e78e
Author: Egbert Eich <eich@suse.de>
Date:   Mon Oct 11 09:58:04 2004 +0000

    Improving DPMS handling on VT swich and server termination/abort: previous
        version called the driver directly and too late.
    Unblank secondary screen explicitely. Don't rely on the value read during
        register save as the BIOS have blanked the secondary head.
    Checking if server isn't switched away before calling sync. Sanity check
        for possible bugs in aother areas of the code.
    Fixing default amount of of allocated video memory from AGP for i810: Use
        16MB if less than 192MB are installed else use 24MB (Matthias Hopf).

commit a8c77480e7f4ddf8c45bea3ecec7b6564c0d6452
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Fri Oct 8 00:56:05 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Remove redundant
        and incorrect line.

commit ec831d4fba23dc5f4d0a1450aa63efe5ff5937a2
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Tue Oct 5 01:16:01 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.h Patch from Matthieu
        Herrb - fix compilation with DoLoadableServer=NO

commit f1dadde8f642b332a2dcd2e2a5779f25fec7a3de
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Oct 4 21:52:47 2004 +0000

    Correct radeon man page, IGP is supported for 3D but R400 is not.

commit e3dba9841521466629828501c4fdccbba3d6af89
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Mon Oct 4 15:24:34 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Do not probe for
        Rage Theatre if no multimedia table is present and no parameters have
        been specified.

commit 4aadb784928ebbd60dce172c9a9a80e8d84e943f
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Mon Oct 4 14:53:11 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c This is really
        embarassing - I found a part of code that had <cr> at the end of the
        lines. I am certain I never saw it before - talk about code rot !

commit db5a27081d9d3ab4cc1481a7d110d11103b3de19
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 23:54:40 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_mm_i2c.c Remove debugging
        statement that cause loading of DLL modules to fail.

commit 37a8d8a53f12f829783011c1e077fefb5729e618
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 14:41:45 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c Fix compilation
        with gcc 3.4.x (patch by Ronny V. Vindenes)

commit 6dbcd503fe21c6dec27c2b97adc0f39ba0a7ab2a
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 03:07:17 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_reg.h Port the rest of
        GATOS Radeon-specific code. Remove "checkpoint" noise from logs. Test
        with AIW Radeon 7500

commit 7cb911291d459f08f54444d09081d3378fe73b8b
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sun Oct 3 00:01:14 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre.c Detect and initialize
        Rage Theatre (RT100)

commit 6c1996174b9f7afc8f4e33c35e4864b31696d4d6
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 20:55:42 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/Imakefile
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_reg.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.[c,h]
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_vip.c Add VIP bus access
        code, hook it into initialization system.

commit 136649a1c2065624a9cf17386054c6595aa6d85e
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 20:35:04 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/theatre*
    xc/programs/Xserver/hw/xfree86/drivers/ati/generic_bus.h Add Rage Theatre
        (RT100) module code and hook it into the build system

commit 7a17b1c294fa8c7af0b1cdea0618cb6060479356
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 01:59:13 2004 +0000

    Modified:
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_video.h
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_mm_i2c.c Add code to
        access and initialize multimedia i2c bus. Hook it up.

commit e0123e24b6895dde7b385528da24c4e6e9d5a4cb
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 01:36:43 2004 +0000

    Add more multimedia registers.

commit 576f53be4f0fa54bde7167872b7508b98e5c9454
Author: Vladimir Dergachev <volodya@mindspring.com>
Date:   Sat Oct 2 00:43:08 2004 +0000

    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    xc/programs/Xserver/hw/xfree86/drivers/ati/radeon.h Add TV-in specific
        options. Add TV-in specific fields to radeon per-screen structure, add
        code to initialize them. Preserve MM_TABLE (instead of whole VBIOS as
        was done in GATOS drivers)

commit 9a9ba82172428b09312fdd6e11da04b21c8529fc
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Sep 22 04:38:03 2004 +0000

    Bug #1252, #1253, #1255, #1256: Various typo fixes from Dave Jones.

commit 700b0dc5148d0170c9223765d208ccef447242df
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Sep 21 18:10:34 2004 +0000

    Convert the ATI drivers to ANSI function prototypes.

commit 17e5f3c1169066be1004306d12b5398cf01cbd35
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Sep 17 05:16:45 2004 +0000

    Bugzilla #1170: Fix an overcounting of DMA in BEGIN_RING that wasn't
        harmful. Bugzilla #1169: Add counting for
        BEGIN_RING/OUT_RING/ADVANCE_RING to avoid these sorts of problems in
        the future.

commit 29bbee6b8a8dd1b883e07547691ff8e1289459ce
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Sep 17 03:04:50 2004 +0000

    Bug #1192: Remove cfb support from drivers where its use is an option.
        Delete xf24_32bpp, as s3virge was the last user. Fix up some comments
        to refer to fb rather than cfb.

commit cec06d4126f5f31d14ace73798c71ec75e544c45
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Thu Sep 16 22:15:05 2004 +0000

    Update comment

commit dbeb8d28ac3469f4a7d7d8dae979ae876d4cdcba
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Sep 3 23:26:19 2004 +0000

    Updated release notes for bug #999.
    Update Radeon man page to note that RenderAccel is now enabled by default
        on certain chips.

commit c829f667c8a79bbdd40e1f924d57638e7bd425dc
Author: Michel Daenzer <michel@daenzer.net>
Date:   Mon Aug 30 04:31:50 2004 +0000

    Hotfix for Eric Anholt's fix for bug #1156 : Clear the
        RADEON_NONSURF_AP0_SWP_16BPP bit for 4 bpp data, otherwise it breaks at
        depth 16.

commit 677246740b5b538e73a7fbde661ec6a97319430b
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 27 20:31:26 2004 +0000

    Back out my last change, dupe.

commit a8eaa15264ff0db1596d653e91260c9a39a8b5ee
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Aug 27 18:32:40 2004 +0000

    Bug #1061 (documentation-only update): Document the RenderAccel option in
        the radeon manpage.

commit 360dab062f895c19e1784146e6684f75a20c5b24
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 27 03:36:28 2004 +0000

    Bug #1156: Fix the build on PPC by splitting the byte-order-setting code
        into a separate routine. While here, fix the byte swapping in the 32bpp
        case. (Michel Daenzer)

commit 9b19bbb4d37b79c97365aa492cd93931d492b3a8
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Aug 27 03:23:47 2004 +0000

    Bug #1157: Fix Radeon line acceleration in the DMA case (Michel Daenzer).

commit 838488b6b46359334e5e781589dbee3832909628
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 27 02:38:56 2004 +0000

    Fix Radeon compilation without Xinerama (Bug #1179, Simon Schubert).

commit 5f54d4f45e2adc6b15e98152db88743c243aa128
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 25 00:30:41 2004 +0000

    Fix hangs during startup with Radeon driver (Bug #1007, Sjoerd Simons).
    Fix i810 driver startup on Sony VAIO laptop (Bug #1084, Dave Airlie).
    Fix several library build problem (Bug #1147).
    Fix build problems (Bugs #1148 and #1149).

commit dde880e876f455f1fd66efbcc055e177886397c9
Author: Eric Anholt <anholt@freebsd.org>
Date:   Tue Aug 17 20:22:55 2004 +0000

    Reenable Radeon Render acceleration now that interactions with 3D clients
        should be resolved.

commit 279efef503fdbd442a9bd00f0073d9f6006d9e61
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Aug 15 00:44:57 2004 +0000

    Fix unresolved symbol warnings in r128 driver (Adam Jackson)

commit 955f2b89f94aaa20b5eafd045b01e3eeef3d29ad
Author: Kevin E Martin <kem@kem.org>
Date:   Thu Aug 12 05:00:22 2004 +0000

    Fix context switching on Radeons and build problem when XF86DRI is not
        defined (Bug #922, Eric Anholt).

commit 8f3ea53f26493a5f02410297a587d1d95c067094
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 02:23:46 2004 +0000

    oops, these didn't added somehow.

commit 6ec74414bd33e9d8dfd5119058d15f3a6206e9d9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Thu Aug 12 01:03:06 2004 +0000

    Factor out R{128,ADEON}Chipsets into their own headers so they can be
        sanely included in both the ati core and the r128/radeon submodules;
        r128 and radeon can now be directly loaded under dlloader. Teach imstt
        about the dlloader- frendly way to talk to fbdevhw. (Partial for bugs
        #393 and #400.)

commit a5b1e4dd7adacd17b63582e477df3a585efb249a
Author: Adam Jackson <ajax@nwnk.net>
Date:   Wed Aug 11 01:20:28 2004 +0000

    Bug #978: Silence more unresolved symbol warnings from the ati driver.
        Patch from Stefan Dirsch.

commit 1356884132491010a2e41eb2b5be4a227b9b8138
Author: Kevin E Martin <kem@kem.org>
Date:   Wed Aug 11 01:14:14 2004 +0000

    Fix Radeon build problem with #define DoLoadableServer NO

commit f5c93cb015e334975c2797a23b68798372a284c9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Tue Aug 10 04:01:42 2004 +0000

    Bug #978: Silence unresolved symbol warnings from the ati driver. Reported
        by Michel Daenzer.

commit a2da1caf5848a78b10afd99811fd1a5677af6786
Author: Kevin E Martin <kem@kem.org>
Date:   Mon Aug 9 22:37:22 2004 +0000

    Fix install problem on platforms not using xorg.cf/xfree86.cf (Bug #339,
        Harold L. Hunt II, Alexander Gottwald).
    Fix crash when using X core font in zh_CN.UTF-8 locale (Bug #368, Yu Shao,
        David Dawes).
    Fix glXMakeCurrent(Dpy, None, NULL) crash (Bug #719, Adam Jackson).
    HP-PA build fix (Bug #828, Guy Martin, Paul Anderson).
    Fix SDK build for GATOS and Wacom driver (Bug #829, Bryan Stine).
    Fix attempt to read video ROM before enabling it (Bug #843, Ivan
        Kokshaysky, Mike A. Harris).
    Fix detection of primary adapter (Bug #843, Ivan Kokshaysky, Mike A.
        Harris).
    Clarify xset man page description of how to use the keyboard repeat rate
        settings (Bug #846, Mike A. Harris).
    Fix problem where print-screen key would get remapped to sys-req in certain
        keymaps, which broke GNOME printscreen functionality (Bug #847, Owen
        Taylor).
    Fix several render problems:
    - MMIO mode support
    - Hang on IGP chips
    - VT switching hang
    - 3D render corruption (Bug #922, Hui Yu).

commit 3171664c6a02424736864204b731249097fa7aae
Author: Kevin E Martin <kem@kem.org>
Date:   Fri Aug 6 20:07:35 2004 +0000

    Disable Render acceleration in Radeon driver temporarily until it no longer
        conflicts with the 3D code.

commit 27ef7adf3c1f6c3ca79b42b468d08b8542348cdd
Author: Michel Daenzer <michel@daenzer.net>
Date:   Wed Aug 4 13:17:31 2004 +0000

    Use info->ModeReg.surface_cntl to restore byte swapping for the framebuffer
        aperture on big endian machines, remove superfluous local variables and
        register reads.
    Adapt framebuffer aperture byte swapping to texture format before copying
        data to offscreen area and restore it afterwards on big endian
        machines, fixes Render acceleration there.
    reviewed by: Hui Yu <hyu@ati.com>, Kevin E. Martin <kem@freedesktop.org>

commit 2efdc9f847fa9ff3096667b16df84817fc65605d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Aug 4 10:05:37 2004 +0000

    - Add two new XAA hooks, SetupForCPUToScreenTexture2 and
        SetupForCPUToScreenAlphaTexture2. These add a dstFormat argument after
        the previous format argument, which the driver needs to use to properly
        set up the destination format. Two new arrays are added for the list of
        destination formats supported that correspond to the previous format
        arrays for sources.
    - Make Render acceleration only occur when the new hook for that
        acceleration type is supplied and the dst format list is set, along
        with the src format list being set. Without knowing the destination
        format, the Render acceleration couldn't properly support all the
        destinations it might encounter.
    - Bump XAA module minor version.
    - Update the Radeon Render acceleration to use the new hooks when the XAA
        module is sufficiently new. Fix a bug in the src/dst alpha booleans for
        ops, and use them to set blend_cntl to support destinations without
        alpha. Add missing PICT_a1r5g5b5 texture format, and add list
        terminator. (!)

commit 1e16c66551eed750330bb74a92208c45a7112cd0
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 09:42:20 2004 +0000

    programs/Xserver/hw/xfree86/drivers/ati/radeon_merged_fb.c Add missing
        argument to xf86DrvMsg().

commit fd440a1e2110e05d116207800c123c281fbf5e19
Author: Matthieu Herrb <matthieu.herrb@laas.fr>
Date:   Tue Aug 3 09:38:03 2004 +0000

    programs/Xserver/hw/xfree86/drivers/ati/r128_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/r128_probe.h
    programs/Xserver/hw/xfree86/drivers/ati/radeon_driver.c
    programs/Xserver/hw/xfree86/drivers/ati/radeon_probe.h Fix Constification
        problems.

commit dd0f86c4cb046c79a65144f767e97fd99e7f61c9
Author: Kevin E Martin <kem@kem.org>
Date:   Sun Aug 1 23:22:01 2004 +0000

    Fix Radeon crash on server exit or generation

commit c64f90b673f5c487dfe059f1636b04a1c2ab7dc2
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 31 01:21:18 2004 +0000

    Change several LoaderSymbol calls introduced by the bug #400 patch to
    *Weak() resolver functions.

commit b091b4b074cd61c9067ba95ef016f7a29a38c38d
Author: Hui YU <hyu@ati.com>
Date:   Fri Jul 30 22:20:21 2004 +0000

    Support for New radeon chips: R420/M18, R423, RV370/M22, RV380/M24, RS300.
        Add special handlings for DELL triple-head server (RV100). Misc. bug
        fixes for flat panel, host aperture, etc (Bug #946)

commit d04f61bfaf6952e832d52e1cd6014e86435aebd9
Author: Adam Jackson <ajax@nwnk.net>
Date:   Fri Jul 30 20:30:51 2004 +0000

    Bug #400 (partial): Driver fixes for the dlloader. When using dlloader, all
        framebuffer formats except cfb and the overlay modes should work, and
        r128 and radeon need to be loaded from the ati driver (both issues to
        be fixed soon). Tested on i740, s3virge, mach64, tdfx, vesa, and vga
        drivers. elfloader users shouldn't be affected.

commit 6dcb78bb818c3c1c7fe406bee5379f9bef023f4b
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Wed Jul 28 02:35:30 2004 +0000

    - add gamma correction support to the radeon video overlay

commit 26029dc9378bbd95835d397402bfc9e6b4f1a478
Author: Alex Deucher <agd5f@yahoo.com>
Date:   Mon Jul 26 23:14:37 2004 +0000

    - Add Radeon DynamicClocks option
    - Add small fixes and clean ups from ati's last code drop (typo_fixes,
        remove_fudge, laptop, xvfix)
    - fix possible segfault in mga_dri.c (Ryan Underwood)
    - Add Xv support to pre-nm2160 neomagic chipsets

commit 9f251b16e702da486f824307e72a6f80c6987b5d
Author: Adam Jackson <ajax@nwnk.net>
Date:   Mon Jul 26 19:14:58 2004 +0000

    Bug #848: Clean up gatos notice messages.

commit 6f1e01ecdb11913fd768b9918f516b8379b7858f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 23 05:36:14 2004 +0000

    - Add a new option, BuildDevelDRIDrivers, which controls whether
        DevelDRIDrivers is non-empty. DevelDRIDrivers contains those drivers
        aren't built by default either due to being unusable on that
        architecture (but buildable for testing) or due to security concerns,
        as in the mach64 and savage cases.
    - Merge the Mach64 DDX's DRI support, under the XF86DRI_DEVEL define, which
        is set only when BuildDevelDRIDrivers is set.
    - Fix up of the sets of DRI drivers built for various architectures.
    - Fix build of unichrome DRI driver, which is now enabled on x86.

commit b68322f467b7e524092af15e33ab872abb99b6a2
Author: Eric Anholt <anholt@freebsd.org>
Date:   Thu Jul 22 07:03:04 2004 +0000

    Merge and resolve conflicts from DRI/DRM/Mesa 20040721 imports.

commit 57de5e285d6271fc4b2bc8a951a98be6308d649d
Author: Eric Anholt <anholt@freebsd.org>
Date:   Fri Jul 16 04:38:54 2004 +0000

    Bugzilla #803,804: Fix build in the !XF86DRI case after DRI and Radeon
        Render acceleration merges.

commit 9b0ec803bd588d9af778bfd307ee6d958e4a1e73
Author: Adam Jackson <ajax@nwnk.net>
Date:   Sat Jul 10 14:22:35 2004 +0000

    Bugzilla #849: Fix DRI pagesize assumptions in radeon and r128 drivers.
    from mharris@, reviewed and applied to DRI by airlied@.

commit ccd95bfb291a0c70272fab6822ef379b83dc298d
Author: Egbert Eich <eich@suse.de>
Date:   Tue Jul 6 14:37:47 2004 +0000

    Separated Intel drivers from default DriDrivers to avoid building them on
        IA64 (Egbert Eich).
    Fixed wrong function prototype (Egbert Eich).
    Don't test for generic VGA on IA64 (Egbert Eich).
    Fixed a segfault when accessing a structure before verifying the pointer
        exists (Egbert Eich).
    Added a showcache option for debugging (Egbert Eich).
    Increase default video RAM size to 16MB when DRI is enabled and more than
        128MB are available (Egbert Eich). Fixed lockups during mode switch.
        Problem was introduced when attempting to copy the behavior during
        LeaveVT()/EnterVT() but but forgetting to call I810DRILeave() before
        I810DRIEnter(). The entire DRILeave()/Enter() scenario has been
        commented out as it didn't seem to be necessary (Egbert Eich).
    Fix TweakMemorySize() (tested with i855/i865) (Egbert Eich).
    increased MAX_DEVICES to 128 (Egbert Eich).
    Use OS provided PCI config space access as default method (Egbert Eich).
    Added support for Linux 2.6 proc file format.
    Fixed unaligned accesses to pieces of the VBE info block. VESA did not
        align elements to size (Egbert Eich).

commit 6bdf3d36ea3086432af5157540fde4e0aa0c44dc
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jun 20 07:34:55 2004 +0000

    Add file missed in last commit: Bug #748:
    - Add Render acceleration for Radeon 100 and 200-series cards, enabled by
        default. Notable performance gains include 27fps in cairogears instead
        of 6fps (compared to 50 with glitz), and my disks are now the
        bottleneck in an ls -lR in gnome-terminal. Only supported in DRI mode
        because the MMIO submission hangs the card so far, but the code is left
        in because it may be supportable soon.
    - Add xorg.conf options to disable Render acceleration and to force the
        subpixel order in the server (Hui Yu).
    Many thanks to Hui Yu at ATI for the code this was based off of, Michel
        Daenzer for bugfixes and suggestions, and LinuxFund for sponsoring the
        work.

commit 8c1b37420ea890f76edb97aed61ee427a871cd3f
Author: Eric Anholt <anholt@freebsd.org>
Date:   Sun Jun 20 07:26:08 2004 +0000

    Bug #748:
    - Add Render acceleration for Radeon 100 and 200-series cards, enabled by
        default. Notable performance gains include 27fps in cairogears instead
        of 6fps (compared to 50 with glitz), and my disks are now the
        bottleneck in an ls -lR in gnome-terminal. Only supported in DRI mode
        because the MMIO submission hangs the card so far, but the code is left
        in because it may be supportable soon.
    - Add xorg.conf options to disable Render acceleration and to force the
        subpixel order in the server (Hui Yu).
    Many thanks to Hui Yu at ATI for the code this was based off of, Michel
        Daenzer for bugfixes and suggestions, and LinuxFund for sponsoring the
        work.

commit 6ecf374d500afe6da494dfdd6566396ec65b6d6a
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:43:59 2004 +0000

    Merge DRI-trunk-20040613 changes in programs/Xserver/hw/xfree86/drivers,
        with the following notes:
    - Savage and Mach64 (= ati/ati*.[ch] changes) DRI not merged due to
        insecurity.
    - VIA driver converted to new drmContext and drmHandle names.
    - Radeon driver merge conflicted in many places, and MergedFB at least
        could probably use some checking at this point.

commit bea8085e04136b0ef513c17bb65c54069ec531e1
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:58 2004 +0000

    DRI trunk-20040613 import

commit 7b588cda922992a8ee2d04853ba1533cf43592a3
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:25:58 2004 +0000

    Initial revision

commit 6cbb5bbff43d65a762d432659793333868837f0b
Author: Eric Anholt <anholt@freebsd.org>
Date:   Wed Jun 16 09:22:56 2004 +0000

    DRI XFree86-4_3_99_12-merge import

commit 3586c3c7955365a2af0b8a286ea0d0488ddfd137
Author: Egbert Eich <eich@suse.de>
Date:   Fri Apr 23 19:26:46 2004 +0000

    Merging XORG-CURRENT into trunk

commit 538768e0f472026325be9dd37dc4bfe7ea7d3b75
Author: Egbert Eich <eich@suse.de>
Date:   Sun Mar 14 08:33:20 2004 +0000

    Importing vendor version xf86-4_4_99_1 on Sun Mar 14 00:26:39 PST 2004

commit 5f179e796d1cd310790d06eebb474ad67114ec84
Author: Egbert Eich <eich@suse.de>
Date:   Wed Mar 3 12:12:18 2004 +0000

    Importing vendor version xf86-4_4_0 on Wed Mar 3 04:09:24 PST 2004

commit 493c44580191beff63575c4032f772fbbf1b06eb
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 13:35:52 2004 +0000

    readding XFree86's cvs IDs

commit 942a47fd3c5e8df85642672c01072bf97285bc30
Author: Egbert Eich <eich@suse.de>
Date:   Thu Feb 26 09:23:18 2004 +0000

    Importing vendor version xf86-4_3_99_903 on Wed Feb 26 01:21:00 PST 2004

commit dda79b5ee3eb49f924a3213592d93ba981c99394
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Mon Feb 23 20:35:02 2004 +0000

    Import most of XFree86 4.4RC3. This import excludes files which have the
        new license. If we want to, later we can import 4.4RC3 again and pick
        up the files that have the new license, but for now the vendor branch
        is "pure."

commit 08104f18ac497561c969694ff709da6c361ccea7
Author: Egbert Eich <eich@suse.de>
Date:   Thu Jan 29 08:08:34 2004 +0000

    Importing vendor version xf86-012804-2330 on Thu Jan 29 00:06:33 PST 2004

commit 162d76b9c48ed17d6e645057db58c9f13436f25f
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Dec 19 20:55:06 2003 +0000

    XFree86 4.3.99.902 (RC 2)

commit 195772ec74f7a9b7d5bf294b3bc2c3b960e08a31
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Thu Dec 4 22:03:16 2003 +0000

    XFree86 4.3.99.901 (RC 1)

commit 73105e438e90f950249cb265ba99001d4db3dc60
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:28:36 2003 +0000

    XFree86 4.3.99.16 Bring the tree up to date for the Cygwin folks

commit 0a53864f9581196604d04fd28b4e94a9b0b73d18
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Tue Nov 25 19:28:36 2003 +0000

    Initial revision

commit c56aaef79028261e0a3be0c86ffd3f16b6bdd9ba
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:48:55 2003 +0000

    XFree86 4.3.0.1

commit d09f463a5d1ce73e0b65d5276fbcca393fa2da46
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 16:48:55 2003 +0000

    Initial revision

commit d9af6dc32652502d84ea8da5d57a5ab45429c4ad
Author: Kaleb Keithley <kaleb@freedesktop.org>
Date:   Fri Nov 14 15:54:49 2003 +0000

    R6.6 is the Xorg base-line
